(function(){try{console=console||{}}catch(yc){console={log:function(){}}}var z={"extends":function(c,b){b.prototype=new c},stackCounterLimit:1E3,stackCounter:0};z.recur=function(c){z.stackCounter===z.stackCounterLimit?(z.stackCounter=0,setTimeout(c,0)):(z.stackCounter++,c())};z.shuffle=function(c){for(var b,e,m=c.length;m;b=parseInt(Math.random()*m),e=c[--m],c[m]=c[b],c[b]=e);return c};z.include=function(c,b,e){for(var m=c.length-1;m>=0;m--){var i=!1,i=e==null?c[m]===b:e(c[m],b)===0;if(i===!0)return!0}return!1};
z.remove=function(c,b){for(var e=[],m=0;m<c.length;m++)c[m]!==b&&e.push(c[m]);return e};z.repeat=function(c,b,e,m,i){arguments.length===4&&(i={});c<b?(i._i=c,e(function(h,e){z.recur(function(){z.repeat(c+1,b,h,m,e)})},i)):m(i)};Utilsmeanwhile=function(c,b,e,m){arguments.length===3&&(m={});m._stack_counter==null&&(m._stack_counter=0);c===!0?b(function(b,c,m){m._stack_counter%40==39?(m._stack_counter+=1,setTimeout(function(){Utilsmeanwhile(b,c,e,m)},0)):(m._stack_counter+=1,Utilsmeanwhile(b,c,e,m))},
m):e(m)};z.seq=function(){var c=arguments;return function(b){z.repeat(0,c.length,function(b,m){var i=arguments.callee;c[m._i](function(){b(i,m)})},function(){b()})}};z.partition=function(c,b){for(var e=c.length%b,m=[],i=0;i<e;i++)m.push(null);e=[];for(i=0;i<c.length;i++)m.push(c[i]),m.length%b==0&&(e.push(m),m=[]);return e};z.keys=function(c){var b=[],e;for(e in c)b.push(e);return b};z.iso8601=function(c){function b(b){return b<10?"0"+b:b}return c.getUTCFullYear()+"-"+b(c.getUTCMonth()+1)+"-"+b(c.getUTCDate())+
"T"+b(c.getUTCHours())+":"+b(c.getUTCMinutes())+":"+b(c.getUTCSeconds())+"Z"};z.parseStrictISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,e=new Date(c[1],0,1);if(c[3])e.setMonth(c[3]-1);else throw"missing ISO8061 component";if(c[5])e.setDate(c[5]);else throw"missing ISO8061 component";if(c[7])e.setHours(c[7]);else throw"missing ISO8061 component";if(c[8])e.setMinutes(c[8]);
else throw"missing ISO8061 component";if(c[10])e.setSeconds(c[10]);else throw"missing ISO8061 component";c[12]&&e.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=e.getTimezoneOffset();time=Number(e)+b*6E4;c=new Date;c.setTime(Number(time));return c};z.parseISO8601=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),b=0,e=new Date(c[1],
0,1);c[3]&&e.setMonth(c[3]-1);c[5]&&e.setDate(c[5]);c[7]&&e.setHours(c[7]);c[8]&&e.setMinutes(c[8]);c[10]&&e.setSeconds(c[10]);c[12]&&e.setMilliseconds(Number("0."+c[12])*1E3);c[14]&&(b=Number(c[16])*60+Number(c[17]),b*=c[15]=="-"?1:-1);b-=e.getTimezoneOffset();time=Number(e)+b*6E4;c=new Date;c.setTime(Number(time));return c};z.parseISO8601Components=function(c){var c=c.match(RegExp("([0-9]{4})(-([0-9]{2}))(-([0-9]{2}))(T([0-9]{2}):([0-9]{2})(:([0-9]{2}))?(.([0-9]+))?)?(Z|([-+])([0-9]{2})(:([0-9]{2}))?)?")),
b,e,m,i,h,k,g,t;b=Number(c[1]);e=c[3]-1;m=Number(c[5]);i=Number(c[7]);h=Number(c[8]);k=Number(c[10]);c[12]&&(g=Number("0."+c[12])*1E3);c[13]==="Z"?t=0:c[14]?(t=0,c[17]&&(t=Number(c[17])),t+=Number(c[15])*60,t*=c[14]=="-"?-1:1):c[14]==null&&c[11]&&(t=Number(c[12])*60);return{year:isNaN(b)?null:b,month:isNaN(e)?null:e,date:isNaN(m)?null:m,hours:isNaN(i)?null:i,minutes:isNaN(h)?null:h,seconds:isNaN(k)?null:k,millisecs:isNaN(g)?null:g,timezone:isNaN(t)?null:t}};z.compareDateComponents=function(c,b){var e=
z.parseISO8601Components(c),m=z.parseISO8601Components(b);return e.timezone==null&&m.timezone==null||e.timezone!=null&&m.timezone!=null?(da=z.parseISO8601(c),db=z.parseISO8601(b),da.getTime()==db.getTime()?0:da.getTime()<db.getTime()?-1:1):e.timezone!=null&&m.timezone==null?(da=z.parseISO8601(c),db=z.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),e=50400,ta<tb&&ta<tb+e?-1:ta>tb&&ta>tb-e?1:null):(da=z.parseISO8601(c),db=z.parseISO8601(b),ta=da.getTime(),tb=db.getTime(),e=50400,ta<tb&&ta+e<tb?-1:ta>
tb&&ta+e>tb?1:null)};z.lexicalFormLiteral=function(c,b){var e=c.value,m=c.lang,i=c.type,h=null;e!=null&&i!=null&&typeof i!="string"?(e=i.value,e!=null?h='"'+c.value+'"^^<'+e+">":(e=i.suffix,i=b.namespaces[i.prefix],c.type=i+e,h='"'+c.value+'"^^<'+i+e+">")):h=m==null&&i==null?'"'+e+'"':i==null?'"'+e+'"@'+m:'"'+c.value+'"^^<'+i+">";return h};z.lexicalFormBaseUri=function(c,b){var e=null;if(c.value==null){var m=c.suffix,i=b.namespaces[c.prefix];i!=null&&(e=i+m)}else e=c.value;if(e===null)return null;
else e.indexOf(":")==-1&&(e=(b.base||"")+e);return e};z.lexicalFormTerm=function(c,b){if(c.token==="uri")return{uri:z.lexicalFormBaseUri(c,b)};else if(c.token==="literal")return{literal:z.lexicalFormLiteral(c,b)};else if(c.token==="blank")return{blank:"_:"+c.label};else callback(!1,"Token of kind "+c.token+" cannot transformed into its lexical form")};z.normalizeUnicodeLiterals=function(c){for(var b=c.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],e={},m=0;m<b.length;m++)e[b[m]]==null&&(e[b[m]]=!0,c=c.replace(RegExp("\\"+
b[m],"g"),eval("'"+b[m]+"'")));return c};z.hashTerm=function(c){try{if(c==null)return"";if(c.token==="uri")return"u"+c.value;else if(c.token==="blank")return"b"+c.value;else if(c.token==="literal")return l="l"+c.value,l+=c.type||"",l+=c.lang||"",l}catch(b){if(typeof c==="object"){var e="";for(p in c)e=e+p+c[p];return e}return c}};var J={Tree:function(c){if(arguments.length!=0)this.order=c,this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0,this._diskWrite(this.root),this._updateRootNode(this.root),
this.comparator=function(b,c){return b<c?-1:b>c?1:0},this.merger=null}};J.Tree.prototype._allocateNode=function(){return new J.Node};J.Tree.prototype._diskWrite=function(){};J.Tree.prototype._diskRead=function(c){return c};J.Tree.prototype._diskDelete=function(){};J.Tree.prototype._updateRootNode=function(c){return c};J.Tree.prototype.clear=function(){this.root=this._allocateNode();this.root.isLeaf=!0;this.root.level=0;this._updateRootNode(this.root)};J.Tree.prototype.search=function(c,b){for(var e=
!0,m=this.root;e;){for(var i=0;i<m.numberActives&&this.comparator(c,m.keys[i].key)===1;)i++;if(i<m.numberActives&&this.comparator(m.keys[i].key,c)===0)return b!=null&&b==!0?!0:m.keys[i].data;else m.isLeaf===!0?e=!1:m=this._diskRead(m.children[i])}return null};J.Tree.prototype.walk=function(c){this._walk(c,this.root)};J.Tree.prototype._walk=function(c,b){if(b.isLeaf)for(var e=0;e<b.numberActives;e++)c(b.keys[e]);else{for(e=0;e<b.numberActives;e++)this._walk(c,this._diskRead(b.children[e])),c(b.keys[e]);
this._walk(c,this._diskRead(b.children[b.numberActives]))}};J.Tree.prototype.walkNodes=function(c){this._walkNodes(c,this.root)};J.Tree.prototype._walkNodes=function(c,b){if(b.isLeaf)c(b);else{c(b);for(var e=0;e<b.numberActives;e++)this._walkNodes(c,this._diskRead(b.children[e]));this._walkNodes(c,this._diskRead(b.children[b.numberActives]))}};J.Tree.prototype._splitChild=function(c,b,e){var m=this._allocateNode();m.isLeaf=e.isLeaf;m.level=e.level;m.numberActives=this.order-1;var i=e.keys[this.order-
1];e.keys[this.order-1]=null;for(var h=0;h<this.order-1;h++)m.keys[h]=e.keys[h+this.order],e.keys[h+this.order]=null,e.isLeaf||(m.children[h]=e.children[h+this.order],e.children[h+this.order]=null);e.isLeaf||(m.children[h]=e.children[h+this.order],e.children[h+this.order]=null);e.numberActives=this.order-1;for(h=c.numberActives+1;h>b+1;h--)c.children[h]=c.children[h-1];c.children[b+1]=m;for(h=c.numberActives;h>b;h--)c.keys[h]=c.keys[h-1];c.keys[b]=i;c.numberActives++;this._diskWrite(m);this._diskWrite(c);
this._diskWrite(e)};J.Tree.prototype.insert=function(c,b){if(this.root.numberActives===2*this.order-1){var e=this._allocateNode();e.isLeaf=!1;e.level=this.root.level+1;e.numberActives=0;e.children[0]=this.root;this._splitChild(e,0,this.root);this.root=e;this._updateRootNode(this.root);this._insertNonFull(e,c,b)}else this._insertNonFull(this.root,c,b)};J.Tree.prototype._insertNonFull=function(c,b,e){for(var m=c.numberActives-1;!c.isLeaf;){for(;m>=0&&this.comparator(b,c.keys[m].key)===-1;)m--;m++;var i=
this._diskRead(c.children[m]);i.numberActives===2*this.order-1&&(this._splitChild(c,m,i),this.comparator(b,c.keys[m].key)===1&&m++);c=this._diskRead(c.children[m]);m=c.numberActives-1}for(;m>=0&&this.comparator(b,c.keys[m].key)===-1;)c.keys[m+1]=c.keys[m],m--;c.keys[m+1]={key:b,data:e};c.numberActives++;this._diskWrite(c)};J.Tree.prototype["delete"]=function(c){for(var b=this.root,e=null,m=!0,i=null,h=null,k=null,g=!0;g===!0;){for(g=!1;m===!0;){t=0;if(b.numberActives===0)return!1;for(;t<b.numberActives&&
this.comparator(c,b.keys[t].key)===1;)t++;i=t;t<b.numberActives&&this.comparator(c,b.keys[t].key)===0&&(m=!1);if(m===!0){if(b.isLeaf===!0)return!1;e=b;b=this._diskRead(b.children[t]);if(b===null)return!1;i===e.numberActives?(h=this._diskRead(e.children[i-1]),k=null):i===0?(h=null,k=this._diskRead(e.children[1])):(h=this._diskRead(e.children[i-1]),k=this._diskRead(e.children[i+1]));b.numberActives===this.order-1&&e!=null&&(k!=null&&k.numberActives>this.order-1?this._moveKey(e,t,-1):h!=null&&h.numberActives>
this.order-1?this._moveKey(e,t,1):h!=null&&h.numberActives===this.order-1?b=this._mergeSiblings(e,t,-1):k!=null&&k.numberActives===this.order-1&&(b=this._mergeSiblings(e,t,1)))}}if(b.isLeaf&&b.numberActives>this.order-1)return this._deleteKeyFromNode(b,i),!0;if(b.isLeaf&&b===this.root)return this._deleteKeyFromNode(b,i),!0;if(b.isLeaf===!1)if(e=t=null,(t=this._diskRead(b.children[i])).numberActives>this.order-1)c=this._getMaxKeyPos(t),c=c.node.keys[c.index],b.keys[i]=c,this._diskWrite(b),b=t,c=c.key,
m=g=!0;else if((t=this._diskRead(b.children[i+1])).numberActives>this.order-1)c=this._getMinKeyPos(t),c=c.node.keys[c.index],b.keys[i]=c,this._diskWrite(b),b=t,c=c.key,m=g=!0;else if((t=this._diskRead(b.children[i])).numberActives===this.order-1&&(e=this._diskRead(b.children[i+1])).numberActives===this.order-1){m=this._mergeNodes(t,b.keys[i],e);b.children[i]=m;i++;for(var t=i;t<b.numberActives;t++)b.children[t]=b.children[t+1],b.keys[t-1]=b.keys[t];b.children[t]=null;b.keys[t-1]=null;b.numberActives--;
if(b.numberActives===0&&this.root===b)this.root=m;this._diskWrite(b);b=m;m=g=!0}b.isLeaf&&b.numberActives>this.order-1&&m===!1&&this._deleteKeyFromNode(b,i);if(g===!1)return!0}};J.Tree.prototype._moveKey=function(c,b,e){e===1&&b--;var m=this._diskRead(c.children[b]),i=this._diskRead(c.children[b+1]);if(e==-1){m.keys[m.numberActives]=c.keys[b];m.children[m.numberActives+1]=i.children[0];i.children[0]=null;m.numberActives++;c.keys[b]=i.keys[0];for(e=1;e<i.numberActives;e++)i.keys[e-1]=i.keys[e],i.children[e-
1]=i.children[e];i.children[i.numberActives-1]=i.children[i.numberActives];i.numberActives--}else{i.children[i.numberActives+1]=i.children[i.numberActives];for(e=i.numberActives;e>0;e--)i.children[e]=i.children[e-1],i.keys[e]=i.keys[e-1];i.keys[0]=null;i.children[0]=null;i.children[0]=m.children[m.numberActives];i.keys[0]=c.keys[b];i.numberActives++;m.children[m.numberActives]=null;c.keys[b]=m.keys[m.numberActives-1];m.keys[m.numberActives-1]=null;m.numberActives--}this._diskWrite(m);this._diskWrite(i);
this._diskWrite(c)};J.Tree.prototype._mergeSiblings=function(c,b){var e,m,i;b===c.numberActives?(b--,m=this._diskRead(c.children[c.numberActives-1]),i=this._diskRead(c.children[c.numberActives])):(m=this._diskRead(c.children[b]),i=this._diskRead(c.children[b+1]));var h=this._allocateNode();h.isLeaf=m.isLeaf;h.level=m.level;for(e=0;e<this.order-1;e++)h.keys[e]=m.keys[e],h.children[e]=m.children[e];h.keys[this.order-1]=c.keys[b];h.children[this.order-1]=m.children[this.order-1];for(e=0;e<this.order-
1;e++)h.keys[e+this.order]=i.keys[e],h.children[e+this.order]=i.children[e];h.children[2*this.order-1]=i.children[this.order-1];c.children[b]=h;for(e=b;e<c.numberActives;e++)c.keys[e]=c.keys[e+1],c.children[e+1]=c.children[e+2];h.numberActives=m.numberActives+i.numberActives+1;c.numberActives--;for(e=c.numberActives;e<2*this.order-1;e++)c.keys[e]=null;if(c.numberActives===0&&this.root===c)this.root=h,h.isLeaf=h.level?!1:!0;this._diskWrite(h);this.root===h&&this._updateRootNode(this.root);this._diskWrite(c);
this._diskDelete(m);this._diskDelete(i);return h};J.Tree.prototype._deleteKeyFromNode=function(c,b){var e=2*this.order-1;if(c.numberActives<e)e=c.numberActives;var m;if(c.isLeaf===!1)return!1;for(m=b;m<e-1;m++)c.keys[m]=c.keys[m+1];c.keys.pop();c.numberActives--;this._diskWrite(c);return!0};J.Tree.prototype._mergeNodes=function(c,b,e){var m,i;m=this._allocateNode();m.isLeaf=!0;for(i=0;i<c.numberActives;i++)m.keys[i]=c.keys[i],m.children[i]=c.children[i];m.children[c.numberActives]=c.children[c.numberActives];
m.keys[c.numberActives]=b;for(i=0;i<e.numberActives;i++)m.keys[i+c.numberActives+1]=e.keys[i],m.children[i+c.numberActives+1]=e.children[i];m.children[2*this.order-1]=e.children[e.numberActives];m.numberActives=c.numberActives+e.numberActives+1;m.isLeaf=c.isLeaf;m.level=c.level;this._diskWrite(m);return m};J.Tree.prototype.audit=function(c){var b=[],e=[],m=this,i=function(h){for(var i=0;i<e.length;i++)if(m.comparator(e[i],h)===0){var g=" !!! duplicated key "+h;c===!0&&console.log(g);b.push(g)}},h=
null,m=this;this.walkNodes(function(k){c===!0&&(console.log("--- Node at "+k.level+" level"),console.log(" - leaf? "+k.isLeaf),console.log(" - num actives? "+k.numberActives),console.log(" - keys: "));for(var g=k.numberActives;g<k.keys.length;g++)k.keys[g]!=null&&c===!0&&(console.log(" * warning : redundant key data"),b.push(" * warning : redundant key data"));for(g=k.numberActives+1;g<k.children.length;g++)k.children[g]!=null&&c===!0&&(console.log(" * warning : redundant children data"),b.push(" * warning : redundant key data"));
if(k.isLeaf===!1)for(g=0;g<k.numberActives;g++){var t=m._diskRead(k.children[g]).keys[m._diskRead(k.children[g]).numberActives-1].key,w=m._diskRead(k.children[g+1]).keys[0].key;c===!0&&console.log("   "+k.keys[g].key+"("+t+","+w+")");if(m.comparator(k.keys[g].key,t)===-1){var s=" !!! value max left "+t+" > key "+k.keys[g].key;c===!0&&console.log(s);b.push(s)}m.comparator(k.keys[g].key,w)===1&&(s=" !!! value min right "+w+" < key "+k.keys[g].key,c===!0&&console.log(s),b.push(s));i(k.keys[g].key);e.push(k.keys[g].key)}else{h===
null?h=k.level:h!=k.level&&(s=" !!! Leaf node with wrong level value",c===!0&&console.log(s),b.push(s));for(g=0;g<k.numberActives;g++)c===!0&&console.log(" "+k.keys[g].key),i(k.keys[g].key),e.push(k.keys[g].key)}k!=m.root&&(k.numberActives>2*m.order-1&&(c===!0&&(s=" !!!! MAX num keys restriction violated "),console.log(s),b.push(s)),k.numberActives<m.order-1&&(c===!0&&(s=" !!!! MIN num keys restriction violated "),console.log(s),b.push(s)))});return b};J.Tree.prototype._getMaxKeyPos=function(c){for(var b=
{};;){if(c===null)break;if(c.isLeaf===!0){b.node=c;b.index=c.numberActives-1;break}else b.node=c,b.index=c.numberActives-1,c=this._diskRead(c.children[c.numberActives])}return b};J.Tree.prototype._getMinKeyPos=function(c){for(var b={};;){if(c===null)break;if(c.isLeaf===!0){b.node=c;b.index=0;break}else b.node=c,b.index=0,c=this._diskRead(c.children[0])}return b};J.Node=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};var Q={NodeKey:function(c,b){this.subject=
c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.order=b}};Q.NodeKey.prototype.comparator=function(c){for(var b=0;b<this.order.length;b++){var e=this.order[b];if(c[e]==null)break;else if(this[e]<c[e])return-1;else if(this[e]>c[e])return 1}return 0};Q.Pattern=function(c){this.subject=c.subject;this.predicate=c.predicate;this.object=c.object;this.graph=c.graph;this.indexKey=[];this.keyComponents={};for(var b=[],e=[],c=["subject","predicate","object","graph"],m=0;m<c.length;m++)typeof this[c[m]]===
"string"?(e.push(c[m]),this.keyComponents[c[m]]=null):(b.push(c[m]),this.keyComponents[c[m]]=this[c[m]],this.indexKey.push(c[m]));this.order=b.concat(e);this.key=new Q.NodeKey(this.keyComponents,this.order)};var W={Tree:function(c,b){if(arguments!=0)this.componentOrder=c.componentOrder,J.Tree.call(this,c.order,c.name,c.persistent,c.cacheMaxSize),this.comparator=function(b,c){for(var i=0;i<this.componentOrder.length;i++){var h=this.componentOrder[i],k=b[h],h=c[h];if(k<h)return-1;else if(k>h)return 1}return 0},
this.rangeComparator=function(b,c){for(var i=0;i<this.componentOrder.length;i++){var h=this.componentOrder[i];if(c[h]==null||b[h]==null)break;else if(b[h]<c[h])return-1;else if(b[h]>c[h])return 1}return 0},b!=null&&b(this)}};z["extends"](J.Tree,W.Tree);W.Tree.prototype.insert=function(c,b){J.Tree.prototype.insert.call(this,c,null);b&&b(!0);return!0};W.Tree.prototype.search=function(c,b){var e=J.Tree.prototype.search.call(this,c,!0);b&&b(e);return e};W.Tree.prototype.range=function(c,b){var e=null,
e=typeof this.root==="string"?this._rangeTraverse(this,this._diskRead(this.root),c):this._rangeTraverse(this,this.root,c);b&&b(e);return e};W.Tree.prototype._rangeTraverse=function(c,b,e){for(var e=e.key,m=[],i=[b],h;i.length>0;){b=i.shift();for(h=0;h<b.numberActives&&c.rangeComparator(b.keys[h].key,e)===-1;)h++;if(b.isLeaf===!0)for(;h<b.numberActives&&c.rangeComparator(b.keys[h].key,e)===0;)m.push(b.keys[h].key),h++;else{var k=c._diskRead(b.children[h]);for(i.push(k);;)if(h<b.numberActives&&c.rangeComparator(b.keys[h].key,
e)===0)m.push(b.keys[h].key),h++,k=c._diskRead(b.children[h]),i.push(k);else break}}return m};var $={QuadBackend:function(c,b){if(arguments!=0){this.indexMap={};this.treeOrder=c.treeOrder;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject",
"predicate","graph"]};for(var e=0;e<this.indices.length;e++){var m=this.indices[e],i=new W.Tree({order:this.treeOrder,componentOrder:this.componentOrders[m],persistent:c.persistent,name:(c.name||"")+m,cacheMaxSize:c.cacheMaxSize});this.indexMap[m]=i}b&&b(this)}}};$.QuadBackend.prototype.clear=function(){for(var c=0;c<this.indices.length;c++)this.indexMap[this.indices[c]].clear()};$.QuadBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,e=0;e<b.length;e++)for(var m=
b[e],i=this.componentOrders[m],h=0;h<i.length;h++){if(z.include(c,i[h])===!1)break;if(h==c.length-1)return m}return"SPOG"};$.QuadBackend.prototype.index=function(c,b){for(var e=0;e<this.indices.length;e++)this.indexMap[this.indices[e]].insert(c);b&&b(!0);return!0};$.QuadBackend.prototype.range=function(c,b){var e=this.indexMap[this._indexForPattern(c)].range(c);b&&b(e);return e};$.QuadBackend.prototype.search=function(c,b){var e=this.indexMap[this.indices[0]].search(c);b&&b(e!=null);return e!=null};
$.QuadBackend.prototype["delete"]=function(c,b){for(var e,m=0;m<this.indices.length;m++)e=this.indices[m],e=this.indexMap[e],e["delete"](c);b&&b(!0);return!0};var L={Lexicon:function(c){this.uriToOID={};this.OIDToUri={};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={};this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri,oid:this.defaultGraphOid};
this.oidCounter=1;this.knownGraphs={};c!=null&&c(this)}};L.Lexicon.prototype.registerGraph=function(c){c!=this.defaultGraphOid&&(this.knownGraphs[c]=!0);return!0};L.Lexicon.prototype.registeredGraphs=function(c){var b=[],e;for(e in this.knownGraphs)c===!0?b.push(this.OIDToUri["u"+e]):b.push(e);return b};L.Lexicon.prototype.registerUri=function(c){if(c===this.defaultGraphUri)return this.defaultGraphOid;else{if(this.uriToOID[c]==null){var b=this.oidCounter;this.oidCounter++;this.uriToOID[c]=[b,0];this.OIDToUri["u"+
b]=c}else{var e=this.uriToOID[c],b=e[0];this.uriToOID[c]=[b,e[1]+1]}return b}};L.Lexicon.prototype.resolveUri=function(c){return c===this.defaultGraphUri?this.defaultGraphOid:(c=this.uriToOID[c],c!=null?c[0]:-1)};L.Lexicon.prototype.registerBlank=function(){var c=this.oidCounter;this.oidCounter++;c=""+c;this.OIDToBlank[c]=!0;return c};L.Lexicon.prototype.resolveBlank=function(){var c=this.oidCounter;this.oidCounter++;return""+c};L.Lexicon.prototype.registerLiteral=function(c){if(this.literalToOID[c]==
null){var b=this.oidCounter;this.oidCounter++;this.literalToOID[c]=[b,0];this.OIDToLiteral["l"+b]=c}else{var e=this.literalToOID[c],b=e[0];this.literalToOID[c]=[b,e[1]+1]}return b};L.Lexicon.prototype.resolveLiteral=function(c){c=this.literalToOID[c];return c!=null?c[0]:-1};L.Lexicon.prototype.parseLiteral=function(c){var b=c.lastIndexOf("@");if(b!=-1&&c[b-1]==='"'&&c.substring(b,c.length).match(/^@[a-zA-Z\-]+$/g)!=null){var e=c.substring(1,b-1),c=c.substring(b+1,c.length);return{token:"literal",
value:e,lang:c}}b=c.lastIndexOf("^^");if(b!=-1&&c[b-1]==='"'&&c[b+2]==="<"&&c[c.length-1]===">")return e=c.substring(1,b-1),c=c.substring(b+3,c.length-1),{token:"literal",value:e,type:c};e=c.substring(1,c.length-1);return{token:"literal",value:e}};L.Lexicon.prototype.parseUri=function(c){return{token:"uri",value:c}};L.Lexicon.prototype.retrieve=function(c){try{if(c===this.defaultGraphOid)return{token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0};else{var b=this.OIDToUri["u"+
c];if(b!=null)return this.parseUri(b);else{var e=this.OIDToLiteral["l"+c];if(e!=null)return this.parseLiteral(e);else if(this.OIDToBlank[""+c]!=null)return{token:"blank",value:"_:"+c};else throw"Null value for OID";}}}catch(m){throw console.log("error in lexicon retrieving OID:"),console.log(c),m.message||m.stack?(m.message&&console.log(m.message),m.stack&&console.log(m.stack)):console.log(m),Error("Unknown retrieving OID in lexicon:"+c);}};L.Lexicon.prototype.clear=function(){this.uriToOID={};this.OIDToUri=
{};this.literalToOID={};this.OIDToLiteral={};this.blankToOID={};this.OIDToBlank={}};L.Lexicon.prototype.unregister=function(c,b){try{return this.unregisterTerm(c.subject.token,b.subject),this.unregisterTerm(c.predicate.token,b.predicate),this.unregisterTerm(c.object.token,b.object),c.graph!=null&&this.unregisterTerm(c.graph.token,b.graph),!0}catch(e){return console.log("Error unregistering quad"),console.log(e.message),!1}};L.Lexicon.prototype.unregisterTerm=function(c,b){if(c==="uri"){if(b!=this.defaultGraphOid){var e=
"u"+b,m=this.OIDToUri[e],i=this.uriToOID[m],h=i[1];if(""+i[0]===""+b)h===0?(delete this.OIDToUri[e],delete this.uriToOID[m],delete this.knownGraphs[b]):this.uriToOID[m]=[b,h-1];else throw"Not matching OID : "+b+" vs "+i[0];}}else if(c==="literal")if(this.oidCounter++,e="l"+b,m=this.OIDToLiteral[e],i=this.literalToOID[m],h=i[1],""+i[0]===""+b)h===0?(delete this.OIDToLiteral[e],delete this.literalToOID[m]):this.literalToOID[m]=[b,h-1];else throw"Not matching OID : "+b+" vs "+i[0];else c==="blank"&&
delete this.OIDToBlank[""+b]};var U={};U.load=function(c,b,e){jQuery.ajax({url:c,headers:{Accept:b},success:function(b,c,h){if((""+h.status)[0]=="2"){for(var c=h.getAllResponseHeaders().split("\n"),h={},k=0;k<c.length;k++){var g=c[k].split(":");h[g[0]]=g[1]}e(!0,{headers:h,data:b})}},error:function(c){(""+c.status)[0]=="3"?redirection==0?e(!1,500):(c=c.getAllResponseHeaders().Location||c.getAllResponseHeaders().location,c!=null?U.load(c,b,e,redirection-1):e(!1,500)):e(!1,c.statusCode())}})};var sa=
null;(function(){var c=function(b,c){b.stack="";for(var h in c)b[h]=c[h]};if(typeof module!=="undefined"&&module.exports){var b={};Exception=function(b){c(this,b);this.stack=Error().stack}}else typeof window!=="undefined"?(b=window.jsonld=window.jsonld||{},Exception=function(b){c(this,b)}):(window={},b=window.jsonld={},Exception=function(b){c(this,b)});sa=b;var e={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",
dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},m={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",
xsd:"http://www.w3.org/2001/XMLSchema#"},i={"boolean":m.xsd+"boolean","double":m.xsd+"double",integer:m.xsd+"integer"},h=function(b,c,h){c in b?b[c].constructor===Array?b[c].push(h):b[c]=[b[c],h]:b[c]=h},k=function(b){var c;if(b.constructor===Object){c={};var h=z.keys(b).sort(),e;for(e in h){var m=h[e];c[m]=k(b[m])}}else if(b.constructor===Array)for(e in c=[],b)c[e]=k(b[e]);else c=b;return c},g=function(b){var c={"@datatype":"@datatype","@iri":"@iri","@language":"@language","@literal":"@literal",
"@subject":"@subject","@type":"@type"};if(b){var h={},e;for(e in b)b[e].constructor===String&&b[e]in c&&(h[b[e]]=e);for(e in h)c[e]=h[e]}return c},t=function(b,c,h){var e=null,k;for(k in b)if(k.length>0&&k[0]!=="@"&&c===b[k]){e=k;h!==null&&(h[k]=b[k]);break}e===null&&c===m.rdf+"type"&&(e=g(b)["@type"]);if(e===null)for(k in b)if(k.length>0&&k[0]!=="@"){var i=b[k];if(c.indexOf(i)===0&&c.length>i.length){e=k+":"+c.substr(i.length);h!==null&&(h[k]=i);break}}e===null&&(e=c);return e},w=function(b,c,h){var e,
k=g(b);e=c.indexOf(":");e!=-1?(k=c.substr(0,e),k in b?(e=b[k]+c.substr(e+1),h!==null&&(h[k]=b[k])):e=c):c in b?(e=b[c],h!==null&&(h[c]=e)):c===k["@subject"]?e=k["@subject"]:c===k["@type"]?e=m.rdf+"type":(e=c,"@vocab"in b&&(e=b["@vocab"]+e,h!==null&&(h["@vocab"]=b["@vocab"])));return e};b.normalize=function(b){return(new s).normalize(b)};b.expand=function(b){return(new s).expand({},null,b,!1)};b.compact=function(c,h){var e=null;if(h!==null){var h=b.expand(h),m;h.constructor===Array?(e=[],m=h):m=[h];
for(var i in m){var g={},o=(new s).compact(k(c),null,m[i],g);z.keys(g).length>0&&(o["@context"]=g);e===null?e=o:e.push(o)}}return e};b.mergeContexts=function(b,c){var h=k(b),e=k(c),m;for(m in e)if(m.indexOf("@")!==0)for(var i in h)if(h[i]===e[m]){delete h[i];break}if(i="@coerce"in h||"@coerce"in e){var g="@coerce"in h?h["@coerce"]:{},o="@coerce"in e?e["@coerce"]:{};delete h["@coerce"];delete e["@coerce"]}for(m in e)h[m]=e[m];if(i){for(var t in g)if(t in o){m=g[t];i=o[t];i.constructor!==Array&&(i=
[i]);for(var s in i)if(e=i[s],m.constructor!==Array&&m!==e||m.constructor===Array&&m.indexOf(e)==-1)m.constructor===Array?m.push(e):m=g[t]=[m,e]}for(t in o)t in g||(g[t]=o[t]);o={};m=[];for(t in g)for(s in e=g[t],e.constructor===String&&(e=[e]),e)e[s]in o?m.indexOf(e[s])==-1&&m.push(e[s]):o[e[s]]=!0;if(m.length>0)throw{message:"Invalid type coercion specification. More than one type specified for at least one property.",duplicates:m};h["@coerce"]=g}return h};b.expandTerm=w;b.compactIri=function(b,
c){return t(b,c,null)};b.frame=function(b,c,h){return(new s).frame(b,c,h)};b.toTriples=function(c,h,e){var m=null;normalized=b.normalize(c);e=e||null;e===null&&(m=[],e=function(b,c,e){m.push({subject:z.lexicalFormTerm(b),predicate:z.lexicalFormTerm(c),object:z.lexicalFormTerm(e),graph:h})});var k=!1,i;for(i in normalized){var c=normalized[i],g={token:"uri",value:c["@subject"]["@iri"]};if(g.value[0]==="_")g.token="blank",g.label=g.value.split(":")[1];for(var o in c)if(o!=="@subject"){var t=c[o];t.constructor!==
Array&&(t=[t]);for(var s in t)if(k=t[s],typeof k==="string"?k={token:"literal",value:k}:k["@iri"]!=null?k=k["@iri"][0]=="_"?{token:"blank",label:k["@iri"].split(":")[1]}:{token:"uri",value:k["@iri"]}:k["@datatype"]!=null?k={token:"literal",value:k["@literal"],type:k["@datatype"]}:k["@language"]!=null&&(k={token:"literal",value:k["@literal"],lang:k["@language"]}),k=e(g,{token:"uri",value:o},k)===!1)break;if(k)break}if(k)break}return m};var s=function(){};s.prototype.compact=function(b,c,h,e){var m,
s=g(b);if(h===null)m=null,this.getCoerceType(b,c,e);else if(h.constructor===Array){m=[];for(var w in h)m.push(this.compact(b,c,h[w],e))}else if(h.constructor===Object&&"@subject"in h&&h["@subject"].constructor===Array)m={},m[s["@subject"]]=this.compact(b,c,h["@subject"],e);else if(h.constructor===Object&&!("@literal"in h)&&!("@iri"in h)){m={};for(var y in h)if(h[y]!=="@context"&&(s=t(b,y,e),s!==y||!(s in m)))m[s]=this.compact(b,y,h[y],e)}else{c=this.getCoerceType(b,c,e);w=null;h.constructor===Object?
"@language"in h||(w="@datatype"in h?h["@datatype"]:"@iri"in h?"@iri":c):h.constructor===String&&(w=c);if(c===null&&(w===i["boolean"]||w===i.integer||w===i["double"]))c=w;if(c!==null)if(w===null)throw{message:"Cannot coerce type when a language is specified. The language information would be lost."};else if(w!==c)throw new Exception({message:"Cannot coerce type because the datatype does not match.",type:w,expected:c});else h.constructor===Object?"@iri"in h?m=h["@iri"]:"@literal"in h&&(m=h["@literal"]):
m=h,c===i["boolean"]?m=m==="true"||m!=0:c===i["double"]?m=parseFloat(m):c===i.integer&&(m=parseInt(m));else if(h.constructor===Object)for(y in m={},h)m[s[y]]=h[y];else m=k(h);w==="@iri"&&(m.constructor===Object?m[s["@iri"]]=t(b,m[s["@iri"]],e):m=t(b,m,e))}return m};s.prototype.expand=function(c,e,m,t){var s;if(m===null)s=null;else if(e===null&&m.constructor===String)s=w(c,m,null);else if(m.constructor===Array){s=[];for(var y in m)s.push(this.expand(c,e,m[y],t))}else if(m.constructor===Object)if("@context"in
m&&(c=b.mergeContexts(c,m["@context"])),y=g(c),y["@literal"]in m||y["@iri"]in m)s={},y["@iri"]in m?s["@iri"]=m[y["@iri"]]:(s["@literal"]=m[y["@literal"]],y["@language"]in m?s["@language"]=m[y["@language"]]:y["@datatype"]in m&&(s["@datatype"]=m[y["@datatype"]]));else{s={};for(var P in m)P==="@embed"||P==="@explicit"||P==="@default"||P==="@omitDefault"?h(s,P,k(m[P])):P!=="@context"&&h(s,w(c,P,null),this.expand(c,P,m[P],t))}else{P=this.getCoerceType(c,e,null);y=g(c);if(P===null&&(m.constructor===Number||
m.constructor===Boolean))P=m.constructor===Boolean?i["boolean"]:(""+m).indexOf(".")==-1?i.integer:i["double"];P!==null&&(e!==y["@subject"]||t)?(s={},P==="@iri"?s["@iri"]=w(c,m,null):(s["@datatype"]=P,P===i["double"]&&(m=m.toExponential(6).replace(/(e(?:\+|-))([0-9])$/,"$10$2")),s["@literal"]=""+m)):s=""+m}return s};s.prototype.normalize=function(b){var c=[];if(b!==null){this.ng={tmp:null,c14n:null};var h=this.expand(e,null,b,!0);this.nameBlankNodes(h);b={};K(null,null,h,b);for(var m in b){var h=b[m],
k={},i=z.keys(h).sort(),g;for(g in i){var o=i[g];k[o]=h[o]}c.push(k)}this.canonicalizeBlankNodes(c);c.sort(function(b,c){return F(b["@subject"]["@iri"],c["@subject"]["@iri"])})}return c};s.prototype.getCoerceType=function(b,c,e){var k=null,c=w(b,c,null);if(c==="@subject"||c===m.rdf+"type")k="@iri";else if("@coerce"in b){var c=t(b,c,null),i;for(i in b["@coerce"]){var g=b["@coerce"][i];g.constructor!==Array&&(g=[g]);for(var o in g)if(g[o]===c){k=w(b,i,e);e!==null&&("@coerce"in e||(e["@coerce"]={}),
i in e["@coerce"]?(g=e["@coerce"][i],(g.constructor===Array&&g.indexOf(c)==-1||g.constructor===String&&g!==c)&&h(e["@coerce"],i,c)):e["@coerce"][i]=c);break}}}return k};var y=function(b){return b.indexOf("_:")===0},F=function(b,c){var h=0;if(b.constructor===Array&&c.constructor===Array)for(var e=0;e<b.length&&h===0;++e)h=F(b[e],c[e]);else h=b<c?-1:b>c?1:0;return h},C=function(b,c,h){var e=0;h in b?e=h in c?F(b[h],c[h]):-1:h in c&&(e=1);return e},E=function(b,c){var h=0;b.constructor===String?h=c.constructor!==
String?-1:F(b,c):c.constructor===String?h=1:(h=C(b,c,"@literal"),h===0&&("@literal"in b?(h=C(b,c,"@datatype"),h===0&&(h=C(b,c,"@language"))):h=F(b["@iri"],c["@iri"])));return h},G=function(b,c){var h=0,e;for(e in b){h=F(b[e].constructor===Array?b[e].length:1,c[e].constructor===Array?c[e].length:1);if(h===0){var m=b[e],k=c[e];m.constructor!==Array&&(m=[m],k=[k]);m=m.filter(function(b){return b.constructor===String||!("@iri"in b&&y(b["@iri"]))});k=k.filter(function(b){return b.constructor===String||
!("@iri"in b&&y(b["@iri"]))});h=F(m.length,k.length)}if(h===0){m.sort(E);k.sort(E);for(var i=0;i<m.length&&h===0;++i)h=E(m[i],k[i])}if(h!==0)break}return h},I=function(b){var c=-1,h={next:function(){++c;return h.current()},current:function(){return"_:"+b+c},inNamespace:function(c){return c.indexOf("_:"+b)===0}};return h},J=function(b,c,h){if(b!==null)if(b.constructor===Array)for(var e in b)J(b[e],c,h);else if(b.constructor===Object){"@subject"in b?b["@subject"].constructor==Array?J(b["@subject"],
c,h):c[b["@subject"]["@iri"]]=b:b.constructor===Object&&!("@iri"in b||"@literal"in b)&&(!("@subject"in b)||b.constructor===Object&&"@subject"in b&&"@iri"in b["@subject"]&&y(b["@subject"]["@iri"]))&&h.push(b);for(var m in b)J(b[m],c,h)}},K=function(b,c,h,e){var m=null;if(h!==null)if(h.constructor===Array)for(var i in h)K(b,c,h[i],e);else if(h.constructor===Object)if("@subject"in h&&h["@subject"].constructor===Array){if(b!==null)throw{message:"Embedded graph literals cannot be flattened."};for(var g in h["@subject"])K(b,
c,h["@subject"][g],e)}else if("@literal"in h||"@iri"in h)m=k(h);else for(g in h["@subject"]["@iri"]in e?i=e[h["@subject"]["@iri"]]:(i={},"@subject"in h&&(e[h["@subject"]["@iri"]]=i)),m=i,h){var o=h[g];o!==null&&(g in i?i[g].constructor!==Array&&(i[g]=[i[g]]):i[g]=[],K(i[g],null,o,e),i[g].length===1&&(i[g]=i[g][0]))}else m=h;m!==null&&b!==null&&(m.constructor===Object&&"@subject"in m&&(m=m["@subject"]),b.constructor===Array?(c=!1,m.constructor===Object&&"@iri"in m&&(c=b.filter(function(b){return b.constructor===
Object&&"@iri"in b&&b["@iri"]===m["@iri"]}).length>0),c||b.push(m)):b[c]=m)};s.prototype.nameBlankNodes=function(b){var c=this.ng.tmp=I("tmp"),h={},e=[];J(b,h,e);for(var m in e)if(b=e[m],!("@subject"in b)){for(;c.next()in h;);b["@subject"]={"@iri":c.current()};h[c.current()]=b}};s.prototype.renameBlankNode=function(b,c){var h=b["@subject"]["@iri"];b["@subject"]["@iri"]=c;var e=this.subjects;e[c]=e[h];delete e[h];this.edges.refs[c]=this.edges.refs[h];this.edges.props[c]=this.edges.props[h];delete this.edges.refs[h];
delete this.edges.props[h];var m=this.edges.refs[c].all,k;for(k in m){var i=m[k].s;i===h&&(i=c);var g=e[i],o=this.edges.props[i].all,t;for(t in o)if(o[t].s===h){o[t].s=c;var i=o[t].p,i=g[i].constructor===Object?[g[i]]:g[i].constructor===Array?g[i]:[],s;for(s in i)i[s].constructor===Object&&"@iri"in i[s]&&i[s]["@iri"]===h&&(i[s]["@iri"]=c)}}o=this.edges.props[c].all;for(k in o){var i=o[k].s,m=this.edges.refs[i].all,w;for(w in m)if(m[w].s===h)m[w].s=c}};s.prototype.canonicalizeBlankNodes=function(b){this.renamed=
{};this.mappings={};this.serializations={};var c=this.edges={refs:{},props:{}},h=this.subjects={},e=[],m;for(m in b){var k=b[m]["@subject"]["@iri"];h[k]=b[m];c.refs[k]={all:[],bnodes:[]};c.props[k]={all:[],bnodes:[]};y(k)&&e.push(b[m])}this.collectEdges();var b=this.ng.c14n=I("c14n"),i=this.ng.tmp;for(m in e){var g=e[m],k=g["@subject"]["@iri"];if(b.inNamespace(k)){for(;i.next()in h;);this.renameBlankNode(g,i.current());k=g["@subject"]["@iri"]}this.serializations[k]={props:null,refs:null}}for(var o=
this;e.length>0;){e.sort(function(b,c){return o.deepCompareBlankNodes(b,c)});var g=e.shift(),k=g["@subject"]["@iri"],i=["props","refs"],t;for(t in i){g=i[t];if(this.serializations[k][g]===null){var s={};s[k]="s1"}else s=this.serializations[k][g].m;var w=z.keys(s);w.sort(function(b,c){return F(s[b],s[c])});var C=[];for(m in w){var G=w[m];!b.inNamespace(k)&&G in h&&(this.renameBlankNode(h[G],b.next()),C.push(G))}w=e;e=[];for(m in w){var G=w[m],N=G["@subject"]["@iri"];if(!b.inNamespace(N)){for(var J in C)this.markSerializationDirty(N,
C[J],g);e.push(G)}}}}for(var K in c.props)if(c.props[K].bnodes.length>0){var g=h[K],L;for(L in g)L.indexOf("@")!==0&&g[L].constructor===Array&&g[L].sort(E)}};MappingBuilder=function(){this.count=1;this.processed={};this.mapping={};this.adj={};this.keyStack=[{keys:["s1"],idx:0}];this.done={};this.s=""};MappingBuilder.prototype.copy=function(){var b=new MappingBuilder;b.count=this.count;b.processed=k(this.processed);b.mapping=k(this.mapping);b.adj=k(this.adj);b.keyStack=k(this.keyStack);b.done=k(this.done);
b.s=this.s;return b};MappingBuilder.prototype.mapNode=function(b){b in this.mapping||(this.mapping[b]=b.indexOf("_:c14n")===0?"c"+b.substr(6):"s"+this.count++);return this.mapping[b]};MappingBuilder.prototype.serialize=function(b,c){if(this.keyStack.length>0)for(var h=this.keyStack.pop();h.idx<h.keys.length;++h.idx){var e=h.keys[h.idx];if(!(e in this.adj)){this.keyStack.push(h);break}if(e in this.done)this.s+="_"+e;else{this.done[e]=!0;var m=e,e=this.adj[e],k=e.i;if(k in b){var i=b[k],g="",o=!0,t=
void 0;for(t in i)if(t!=="@subject"){o?o=!1:g+="|";g+="<"+t+">";var s=i[t].constructor===Array?i[t]:[i[t]],w;for(w in s){var z=s[w];z.constructor===Object?"@iri"in z?g+=y(z["@iri"])?"_:":"<"+z["@iri"]+">":(g+='"'+z["@literal"]+'"',"@datatype"in z?g+="^^<"+z["@datatype"]+">":"@language"in z&&(g+="@"+z["@language"])):g+='"'+z+'"'}}m+="["+g+"]";i=!0;m+="[";var k=c.refs[k].all,F;for(F in k)i?i=!1:m+="|",m+="<"+k[F].p+">",m+=y(k[F].s)?"_:":"<"+k[F].s+">";m+="]"}m+=e.k.join("");this.s+=m;this.keyStack.push({keys:e.k,
idx:0});this.serialize(b,c)}}};s.prototype.markSerializationDirty=function(b,c,h){b=this.serializations[b];b[h]!==null&&c in b[h].m&&(b[h]=null)};var L=function(b,c){var h=0;return h=b.length==c.length?F(b,c):b.length>c.length?F(b.substr(0,c.length),c):F(b,c.substr(0,b.length))};s.prototype.serializeCombos=function(b,c,h,e,m,i,g){if(g.length>0){i=k(i);i[e.mapNode(g[0].s)]=g[0].s;for(var o=e.copy(),g=g.slice(1),t=Math.max(1,g.length),s=0;s<t;++s){var w=s===0?e:o.copy();this.serializeCombos(b,c,h,w,
m,i,g);g.unshift.apply(g,g.splice(1,g.length))}}else if(g=z.keys(i).sort(),e.adj[h]={i:c,k:g,m:i},e.serialize(this.subjects,this.edges),b[m]===null||L(e.s,b[m].s)<=0){for(o in g)this.serializeBlankNode(b,i[g[o]],e,m);e.serialize(this.subjects,this.edges);if(b[m]===null||L(e.s,b[m].s)<=0&&e.s.length>=b[m].s.length)b[m]={s:e.s,m:e.mapping}}};s.prototype.serializeBlankNode=function(b,c,h,e){if(!(c in h.processed)){h.processed[c]=!0;var m=h.mapNode(c),k=h.copy(),i=this.edges[e][c].bnodes,g={},o=[],t;
for(t in i)i[t].s in h.mapping?g[h.mapping[i[t].s]]=i[t].s:o.push(i[t]);i=Math.max(1,o.length);for(t=0;t<i;++t){var s=t===0?h:k.copy();this.serializeCombos(b,c,m,s,e,g,o)}}};s.prototype.deepCompareBlankNodes=function(b,c){var h=0,e=b["@subject"]["@iri"],m=c["@subject"]["@iri"];if(e===m)h=0;else if(h=this.shallowCompareBlankNodes(b,c),h===0)for(var i=["props","refs"],g=0;h===0&&g<i.length;++g){var h=i[g],o=this.serializations[e],t=this.serializations[m];if(o[h]===null){var s=new MappingBuilder;if(h===
"refs")s.mapping=k(o.props.m),s.count=z.keys(s.mapping).length+1;this.serializeBlankNode(o,e,s,h)}if(t[h]===null){s=new MappingBuilder;if(h==="refs")s.mapping=k(t.props.m),s.count=z.keys(s.mapping).length+1;this.serializeBlankNode(t,m,s,h)}h=F(o[h].s,t[h].s)}return h};s.prototype.shallowCompareBlankNodes=function(b,c){var h=0,e=z.keys(b),m=z.keys(c),h=F(e.length,m.length);h===0&&(h=F(e.sort(),m.sort()));h===0&&(h=G(b,c));if(h===0)var k=this.edges.refs[b["@subject"]["@iri"]].all,i=this.edges.refs[c["@subject"]["@iri"]].all,
h=F(k.length,i.length);if(h===0)for(e=0;e<k.length&&h===0;++e)h=this.compareEdges(k[e],i[e]);return h};s.prototype.compareEdges=function(b,c){var h=0,e=y(b.s),m=y(c.s),k=this.ng.c14n;e!=m?h=e?1:-1:(e||(h=F(b.s,c.s)),h===0&&(h=F(b.p,c.p)),h===0&&k!==null&&(e=k.inNamespace(b.s),k=k.inNamespace(c.s),e!=k?h=e?1:-1:e&&(h=F(b.s,c.s))));return h};s.prototype.collectEdges=function(){var b=this.edges.refs,c=this.edges.props,h;for(h in this.subjects){var e=this.subjects[h],m;for(m in e)if(m!=="@subject"){var k=
e[m],k=k.constructor!==Array?[k]:k,i;for(i in k){var g=k[i];g.constructor===Object&&"@iri"in g&&g["@iri"]in this.subjects&&(g=g["@iri"],b[g].all.push({s:h,p:m}),c[h].all.push({s:g,p:m}))}}}var o=this;for(h in b)b[h].all.sort(function(b,c){return o.compareEdges(b,c)}),b[h].bnodes=b[h].all.filter(function(b){return y(b.s)});for(h in c)c[h].all.sort(function(b,c){return o.compareEdges(b,c)}),c[h].bnodes=c[h].all.filter(function(b){return y(b.s)})};var R=function(b,c){var h=!1;if(!(m.rdf+"type"in c)){var e=
z.keys(c).filter(function(b){return b.indexOf("@")!==0});if(e.length===0)h=!0;else if(b.constructor===Object&&"@subject"in b){var h=!0,k;for(k in e)if(!(e[k]in b)){h=!1;break}}}return h},U=function(b,c,h,e,k,i,g,o){var t=null,s=-1,w;h.constructor===Array?(t=[],w=h,w.length===0&&w.push({})):(w=[h],s=1);for(var y=[],z=0;z<w.length&&s!==0;++z){h=w[z];if(h.constructor!==Object)throw{message:"Invalid JSON-LD frame. Frame must be an object or an array.",frame:h};y[z]=[];for(var F=0;F<c.length&&s!==0;++F){var C=
c[F],O=!1,E=m.rdf+"type";if(E in h&&C.constructor===Object&&"@subject"in C&&E in C)for(var G=C[E].constructor===Array?C[E]:[C[E]],N=h[E].constructor===Array?h[E]:[h[E]],I=0;I<N.length&&!O;++I){var E=N[I]["@iri"],J;for(J in G)if(G[J]["@iri"]===E){O=!0;break}}if(O||R(C,h))y[z].push(C),--s}}for(var K in y)for(var vc in y[K]){h=w[K];s=y[K][vc];if(s.constructor===Object&&"@subject"in s)if(c=b,z=e,C=k,O=i,E=g,F=o,G=s["@subject"]["@iri"],N=G in z?z[G]:null,(h["@embed"]===!0||F.defaults.embedOn)&&(N===null||
N.autoembed&&!C)){N===null?(N={},z[G]=N):N.parent!==null&&(N.parent[N.key]=s["@subject"]);N.autoembed=C;N.parent=O;N.key=E;if(h["@explicit"]===!0||F.defaults.explicitOn)for(key in s)key!=="@subject"&&!(key in h)&&delete s[key];for(key in s)if(key.indexOf("@")!==0&&key!==m.rdf+"type"){key in h?(C=h[key],O=!1):(C=s[key].constructor===Array?[]:{},O=!0);var E=s[key],E=E.constructor===Array?E:[E],L;for(L in E)E[L].constructor===Object&&"@iri"in E[L]&&E[L]["@iri"]in c&&(E[L]=c[E[L]["@iri"]]);s[key]=U(c,
E,C,z,O,s,key,F)}for(key in h)key.indexOf("@")!==0&&key!==m.rdf+"type"&&!(key in s)&&(C=h[key],C.constructor===Array?s[key]=[]:(C.constructor===Array&&(C=C.length>0?C[0]:{}),C["@omitDefault"]===!0||F.defaults.omitDefaultOn||(s[key]="@default"in C?C["@default"]:null)))}else s=s["@subject"];t===null?t=s:t.push(s)}return t};s.prototype.frame=function(c,h,e){var c=b.normalize(c),m=null;"@context"in h&&(m=k(h["@context"]));var h=b.expand(h),e={defaults:{embedOn:!0,explicitOn:!1,omitDefaultOn:!1}},i={},
g;for(g in c)i[c[g]["@subject"]["@iri"]]=c[g];c=U(i,c,h,{},!1,null,null,e);m!==null&&c!==null&&(c=b.compact(m,c));return c}})();var va={parser:{}};va.parser.parse=function(c,b){typeof c==="string"&&(c=JSON.parse(c));return sa.toTriples(c,b)};var aa={RDFLoader:function(c){this.precedences=["text/turtle","text/n3","application/json"];this.parsers={"text/turtle":Y.parser,"text/n3":Y.parser,"application/json":va.parser};if(c!=null)for(var b in c.parsers)this.parsers[b]=c.parsers[b];if(c&&c.precedences!=
null)for(b in this.precedences=c.precedences,c.parsers)z.include(this.precedences,b)||this.precedences.push(b);this.acceptHeaderValue="";for(c=0;c<this.precedences.length;c++)c!=0?this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[c]:this.acceptHeaderValue+=this.precedences[c]}};aa.RDFLoader.prototype.registerParser=function(c,b){this.parsers[c]=b;this.precedences.push(c)};aa.RDFLoader.prototype.unregisterParser=function(c){delete this.parsers[c];for(var b=[],e=0;e<this.precedences.length;e++)this.precedences[e]!=
c&&b.push(this.precedences[e]);this.precedences=b};aa.RDFLoader.prototype.setAcceptHeaderPrecedence=function(c){this.precedences=c};aa.RDFLoader.prototype.load=function(c,b,e){var m=this;U.load(c,this.acceptHeaderValue,function(i,h){if(i==!0){var k=h.headers["Content-Type"]||h.headers["content-type"],g=h.data;if(k!=null){var k=k.split(";")[0],t;for(t in m.parsers)if(t.indexOf("/")!=-1){var w=t.split("/");if(w[1]==="*"){if(k.indexOf(w[0])!=-1)return m.tryToParse(m.parsers[t],b,g,e)}else if(k.indexOf(t)!=
-1)return m.tryToParse(m.parsers[t],b,g,e);else if(k.indexOf(w[1])!=-1)return m.tryToParse(m.parsers[t],b,g,e)}else if(k.indexOf(t)!=-1)return m.tryToParse(m.parsers[t],c,b,e);e(!1,"Unknown media type : "+k)}else console.log("Unknown media type"),console.log(h.headers),e(!1,"Uknown media type")}else e(!1,"Network error: "+h)})};aa.RDFLoader.prototype.loadFromFile=function(c,b,e,m){try{var i=this;fs=require("fs");fs.readFile(e.split("file:/")[1],function(h,e){if(h)throw h;e=e.toString("utf8");i.tryToParse(c,
b,e,m)})}catch(h){m(!1,h)}};aa.RDFLoader.prototype.tryToParse=function(c,b,e,m){try{typeof e==="string"&&(e=z.normalizeUnicodeLiterals(e));var i=c.parse(e,b);i!=null?m(!0,i):m(!1,"parsing error")}catch(h){console.log(h.message),console.log(h.stack),m(!1,"parsing error with mime type : "+h)}};var R={AbstractQueryTree:function(){}};R.AbstractQueryTree.prototype.parseQueryString=function(c){return ka.parser.parse(c)};R.AbstractQueryTree.prototype.parseExecutableUnit=function(c){if(c.kind==="select")return this.parseSelect(c);
else if(c.kind==="ask")return this.parseSelect(c);else if(c.kind==="modify")return this.parseSelect(c);else if(c.kind==="construct")return this.parseSelect(c);else if(c.kind==="insertdata")return this.parseInsertData(c);else if(c.kind==="deletedata")return this.parseInsertData(c);else if(c.kind==="load")return c;else if(c.kind==="clear")return c;else if(c.kind==="drop")return c;else if(c.kind==="create")return c;else throw Error("unknown executable unit: "+c.kind);};R.AbstractQueryTree.prototype.parseSelect=
function(c){return c==null?(console.log("error parsing query"),null):(c.pattern=this.build(c.pattern,{}),c)};R.AbstractQueryTree.prototype.parseInsertData=function(c){return c==null?(console.log("error parsing query"),null):c};R.AbstractQueryTree.prototype.build=function(c,b){if(c.token==="groupgraphpattern")return this._buildGroupGraphPattern(c,b);else if(c.token==="basicgraphpattern")return{kind:"BGP",value:c.triplesContext};else if(c.token==="graphunionpattern"){var e=this.build(c.value[0],b),
m=this.build(c.value[1],b);return{kind:"UNION",value:[e,m]}}else if(c.token==="graphgraphpattern")return{kind:"GRAPH",value:this.build(c.value,b),graph:c.graph};else throw Error("not supported token in query:"+c.token);};R.AbstractQueryTree.prototype._buildGroupGraphPattern=function(c,b){for(var e=c.filters||[],m={kind:"EMPTY_PATTERN"},i=0;i<c.patterns.length;i++){var h=c.patterns[i];h.token==="optionalgraphpattern"?(h=this.build(h.value,b),m=h.kind==="FILTER"?{kind:"LEFT_JOIN",lvalue:m,rvalue:h.value,
filter:h.filter}:{kind:"LEFT_JOIN",lvalue:m,rvalue:h,filter:!0}):(h=this.build(h,b),m=m.kind=="EMPTY_PATTERN"?h:{kind:"JOIN",lvalue:m,rvalue:h})}if(e.length!=0)if(m.kind==="EMPTY_PATTERN")return{kind:"FILTER",filter:e,value:m};else if(m.kind==="LEFT_JOIN"&&m.filter===!0)return{kind:"FILTER",filter:e,value:m};else if(m.kind==="LEFT_JOIN")return{kind:"FILTER",filter:e,value:m};else if(m.kind==="JOIN")return{kind:"FILTER",filter:e,value:m};else if(m.kind==="UNION")return{kind:"FILTER",filter:e,value:m};
else if(m.kind==="GRAPH")return{kind:"FILTER",filter:e,value:m};else if(m.kind==="BGP")return{kind:"FILTER",filter:e,value:m};else throw Error("Unknow kind of algebra expression: "+m.kind);else return m};R.AbstractQueryTree.prototype.collectBasicTriples=function(c,b){b==null&&(b=[]);if(c.kind==="select")b=this.collectBasicTriples(c.pattern,b);else if(c.kind==="BGP")b=b.concat(c.value);else if(c.kind==="UNION")b=this.collectBasicTriples(c.value[0],b),b=this.collectBasicTriples(c.value[1],b);else if(c.kind===
"GRAPH")b=this.collectBasicTriples(c.value,b);else if(c.kind==="LEFT_JOIN"||c.kind==="JOIN")b=this.collectBasicTriples(c.lvalue,b),b=this.collectBasicTriples(c.rvalue,b);else if(c.kind==="FILTER")b=this.collectBasicTriples(c.value,b);else if(c.kind==="construct")b=this.collectBasicTriples(c.pattern,b);else if(c.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+c.kind;return b};R.AbstractQueryTree.prototype.bind=function(c,b){if(c.graph!=null&&c.graph.token&&c.graph.token==="var"&&b[c.graph.value]!=
null)c.graph=b[c.graph.value];if(c.filter!=null){for(var e=[],m=0;m<c.filter.length;m++)c.filter[m].value=this._bindFilter(c.filter[m].value,b),e.push(c.filter[m]);c.filter=e}if(c.kind==="select")c.pattern=this.bind(c.pattern,b);else if(c.kind==="BGP")c.value=this._bindTripleContext(c.value,b);else if(c.kind==="UNION")c.value[0]=this.bind(c.value[0],b),c.value[1]=this.bind(c.value[1],b);else if(c.kind==="GRAPH")c.value=this.bind(c.value,b);else if(c.kind==="LEFT_JOIN"||c.kind==="JOIN")c.lvalue=this.bind(c.lvalue,
b),c.rvalue=this.bind(c.rvalue,b);else if(c.kind==="FILTER")this.collectBasicTriples(c.value,e);else if(c.kind!=="EMPTY_PATTERN")throw"Unknown pattern: "+c.kind;return c};R.AbstractQueryTree.prototype._bindTripleContext=function(c,b){for(var e=0;e<c.length;e++){delete c[e].graph;delete c[e].variables;for(var m in c[e]){var i=c[e][m];i.token==="var"&&b[i.value]!=null&&(c[e][m]=b[i.value])}}return c};R.AbstractQueryTree.prototype._bindFilter=function(c,b){if(c.expressionType!=null){var e=c.expressionType;
if(e=="relationalexpression")c.op1=this._bindFilter(c.op1,b),c.op2=this._bindFilter(c.op2,b);else if(e=="conditionalor"||e=="conditionaland")for(e=0;e<c.operands.length;e++)c.operands[e]=this._bindFilter(c.operands[e],b);else if(e=="additiveexpression"){c.summand=this._bindFilter(c.summand,b);for(e=0;e<c.summands.length;e++)c.summands[e].expression=this._bindFilter(c.summands[e].expression,b)}else if(e=="builtincall")for(e=0;e<c.args.length;e++)c.args[e]=this._bindFilter(c.args[e],b);else if(e=="multiplicativeexpression"){c.factor=
this._bindFilter(c.factor,b);for(e=0;e<c.factors.length;e++)c.factors[e].expression=this._bindFilter(c.factors[e].expression,b)}else if(e=="unaryexpression")c.expression=this._bindFilter(c.expression,b);else if(e=="irireforfunction")for(e=0;e<c.factors.args;e++)c.args[e]=this._bindFilter(c.args[e],b);else if(e=="atomic"&&c.primaryexpression=="var"&&b[c.value.value]!=null)e=b[c.value.value],c.primaryexpression=e.token==="uri"?"iri":"literal",c.value=e}return c};var ka={};ka.parser=function(){var c=
{parse:function(b,c){function m(a){var b=a.charCodeAt(0);if(b<=255)var a="x",c=2;else a="u",c=4;var a="\\"+a,f=b.toString(16).toUpperCase(),b=f;c-=f.length;for(f=0;f<c;f++)b="0"+b;return a+b}function i(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,m)+'"'}function h(b){a<wa||(a>wa&&(wa=a,Xa=[]),Xa.push(b))}function k(){var b="SPARQL@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=g();c===null&&(c=Wa(),c=c!==null?c:null);A[b]=
{nextPos:a,result:c};return c}function g(){var b="Query@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=a,d=t();if(d!==null){var u=I();u===null&&(u=L(),u===null&&(u=R(),u===null&&(u=U(),u=u!==null?u:null)));u!==null?d=[d,u]:(d=null,a=f)}else d=null,a=f;f=d!==null?{token:"query",kind:"query",prologue:d[0],units:[d[1]]}:null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[2] Query");A[b]={nextPos:a,result:f};return f}function t(){var b="Prologue@"+a,c=A[b];if(c)return a=c.nextPos,c.result;
c=j;j=!1;var e=a,f=a,d=w(),d=d!==null?d:"";if(d!==null){for(var u=[],n=q();n!==null;)u.push(n),n=q();if(u!==null){for(var n=[],r=s();r!==null;)n.push(r),r=s();n!==null?d=[d,u,n]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?{token:"prologue",base:d[0],prefixes:d[2]}:null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[3] Prologue");A[b]={nextPos:a,result:f};return f}function w(){var c="BaseDecl@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),
u=q();if(d!==null)if(b.substr(a,1)==="B"?(u="B",a+=1):(u=null,j&&h('"B"')),u===null&&(b.substr(a,1)==="b"?(u="b",a+=1):(u=null,j&&h('"b"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(b.substr(a,1)==="a"?(n="a",a+=1):(n=null,j&&h('"a"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="S"){var r="S";a+=1}else r=null,j&&h('"S"');r===null&&(b.substr(a,1)==="s"?(r="s",a+=1):(r=null,j&&h('"s"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,
1)==="E"){var x="E";a+=1}else x=null,j&&h('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,j&&h('"e"')),x=x!==null?x:null);if(x!==null){for(var H=[],v=q();v!==null;)H.push(v),v=q();H!==null?(v=la(),v!==null?d=[d,u,n,r,x,H,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a){base={token:"base"};base.value=a;return base}(d[6]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[4] BaseDecl");A[c]={nextPos:a,result:f};
return f}function s(){var c="PrefixDecl@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="P"?(u="P",a+=1):(u=null,j&&h('"P"')),u===null&&(b.substr(a,1)==="p"?(u="p",a+=1):(u=null,j&&h('"p"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="R"){var n="R";a+=1}else n=null,j&&h('"R"');n===null&&(b.substr(a,1)==="r"?(n="r",a+=1):(n=null,j&&h('"r"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var r="E";
a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="F"){var x="F";a+=1}else x=null,j&&h('"F"');x===null&&(b.substr(a,1)==="f"?(x="f",a+=1):(x=null,j&&h('"f"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="I"){var H="I";a+=1}else H=null,j&&h('"I"');H===null&&(b.substr(a,1)==="i"?(H="i",a+=1):(H=null,j&&h('"i"')),H=H!==null?H:null);if(H!==null){if(b.substr(a,1)==="X"){var v="X";a+=1}else v=null,j&&h('"X"');
v===null&&(b.substr(a,1)==="x"?(v="x",a+=1):(v=null,j&&h('"x"')),v=v!==null?v:null);if(v!==null){for(var k=[],i=q();i!==null;)k.push(i),i=q();if(k!==null)if(i=Ca(),i!==null){for(var g=[],B=q();B!==null;)g.push(B),B=q();g!==null?(B=la(),B!==null?d=[d,u,n,r,x,H,v,k,i,g,B]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){prefix={token:"prefix"};prefix.prefix=
a;prefix.local=b;return prefix}(d[8],d[10]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[5] PrefixDecl");A[c]={nextPos:a,result:f};return f}function y(){var b="TURTLE@"+a,c=A[b];if(c)return a=c.nextPos,c.result;for(var c=a,h=[],f=z();f!==null;)h.push(f),f=z();h=h!==null?h:null;h===null&&(h=null,a=c);A[b]={nextPos:a,result:h};return h}function z(){var c="statement@"+a,e=A[c];if(e)return a=e.nextPos,e.result;for(var m=e=a,f=[],d=q();d!==null;)f.push(d),d=q();if(f!==null)if(d=C(),d!==null){for(var u=
[],n=q();n!==null;)u.push(n),n=q();if(u!==null)if(b.substr(a,1)==="."?(n=".",a+=1):(n=null,j&&h('"."')),n!==null){for(var r=[],x=q();x!==null;)r.push(x),x=q();r!==null?f=[f,d,u,n,r]:(f=null,a=m)}else f=null,a=m;else f=null,a=m}else f=null,a=m;else f=null,a=m;m=f!==null?f[1]:null;m===null&&(m=null,a=e);if(m!==null)e=m;else{m=e=a;f=[];for(d=q();d!==null;)f.push(d),d=q();if(f!==null)if(d=ma(),d!==null){u=[];for(n=q();n!==null;)u.push(n),n=q();u!==null?f=[f,d,u]:(f=null,a=m)}else f=null,a=m;else f=null,
a=m;m=f!==null?f[1]:null;m===null&&(m=null,a=e);if(m!==null)e=m;else{e=q();if(e!==null)for(m=[];e!==null;)m.push(e),e=q();else m=null;e=m!==null?m:null}}A[c]={nextPos:a,result:e};return e}function C(){var b="directive@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=G();c===null&&(c=E(),c=c!==null?c:null);A[b]={nextPos:a,result:c};return c}function E(){var c="base@"+a,e=A[c];if(e)return a=e.nextPos,e.result;for(var m=e=a,f=[],d=q();d!==null;)f.push(d),d=q();if(f!==null)if(b.substr(a,5)==="@base"?(d=
"@base",a+=5):(d=null,j&&h('"@base"')),d!==null){var u=q();if(u!==null)for(var n=[];u!==null;)n.push(u),u=q();else n=null;n!==null?(u=la(),u!==null?f=[f,d,n,u]:(f=null,a=m)):(f=null,a=m)}else f=null,a=m;else f=null,a=m;m=f!==null?function(a){base={token:"base"};base.value=a;return base}(f[3]):null;m===null&&(m=null,a=e);A[c]={nextPos:a,result:m};return m}function G(){var c="prefixID@"+a,e=A[c];if(e)return a=e.nextPos,e.result;for(var m=e=a,f=[],d=q();d!==null;)f.push(d),d=q();if(f!==null)if(b.substr(a,
7)==="@prefix"?(d="@prefix",a+=7):(d=null,j&&h('"@prefix"')),d!==null){var u=q();if(u!==null)for(var n=[];u!==null;)n.push(u),u=q();else n=null;if(n!==null)if(u=Ya(),u=u!==null?u:"",u!==null){if(b.substr(a,1)===":"){var r=":";a+=1}else r=null,j&&h('":"');if(r!==null){for(var x=[],H=q();H!==null;)x.push(H),H=q();x!==null?(H=la(),H!==null?f=[f,d,n,u,r,x,H]:(f=null,a=m)):(f=null,a=m)}else f=null,a=m}else f=null,a=m;else f=null,a=m}else f=null,a=m;else f=null,a=m;m=f!==null?function(a,b){prefix={token:"prefix"};
prefix.prefix=a;prefix.local=b;return prefix}(f[3],f[6]):null;m===null&&(m=null,a=e);A[c]={nextPos:a,result:m};return m}function I(){var b="SelectQuery@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=a,d=K();if(d!==null){for(var u=[],n=q();n!==null;)u.push(n),n=q();if(u!==null){for(var n=[],r=Q();r!==null;)n.push(r),r=Q();if(n!==null){for(var r=[],x=q();x!==null;)r.push(x),x=q();if(r!==null)if(x=W(),x!==null){for(var m=[],v=q();v!==null;)m.push(v),v=q();if(m!==null)if(v=Y(),v!==null){for(var k=
[],i=q();i!==null;)k.push(i),i=q();k!==null?(i=vb(),i!==null?d=[d,u,n,r,x,m,v,k,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c,d){for(var f={named:[],"default":[]},h=0;h<b.length;h++){var j=b[h];j.kind==="default"?f["default"].push(j.graph):f.named.push(j.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});
b={kind:"select",token:"executableunit"};b.dataset=f;b.projection=a.vars;b.modifier=a.modifier;b.pattern=c;if(d!=null&&d.limit!=null)b.limit=d.limit;if(d!=null&&d.offset!=null)b.offset=d.offset;if(d!=null&&d.order!=null&&d.order!="")b.order=d.order;if(d!=null&&d.group!=null)b.group=d.group;return b}(d[0],d[2],d[4],d[6]):null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[6] SelectQuery");A[b]={nextPos:a,result:f};return f}function J(){var b="SubSelect@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;
j=!1;var e=a,f=K();if(f!==null){var d=W();if(d!==null){var u=Y();u!==null?f=[f,d,u]:(f=null,a=e)}else f=null,a=e}else f=null,a=e;(j=c)&&f===null&&h("[7] SubSelect");A[b]={nextPos:a,result:f};return f}function K(){var c="SelectClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="S"?(u="S",a+=1):(u=null,j&&h('"S"')),u===null&&(b.substr(a,1)==="s"?(u="s",a+=1):(u=null,j&&h('"s"')),u=u!==null?u:null),u!==null){if(b.substr(a,
1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="L"){var r="L";a+=1}else r=null,j&&h('"L"');r===null&&(b.substr(a,1)==="l"?(r="l",a+=1):(r=null,j&&h('"l"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=null,j&&h('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,j&&h('"e"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="C"){var H="C";a+=
1}else H=null,j&&h('"C"');H===null&&(b.substr(a,1)==="c"?(H="c",a+=1):(H=null,j&&h('"c"')),H=H!==null?H:null);if(H!==null){if(b.substr(a,1)==="T"){var v="T";a+=1}else v=null,j&&h('"T"');v===null&&(b.substr(a,1)==="t"?(v="t",a+=1):(v=null,j&&h('"t"')),v=v!==null?v:null);if(v!==null){for(var k=[],i=q();i!==null;)k.push(i),i=q();if(k!==null){i=a;if(b.substr(a,1)==="D"){var g="D";a+=1}else g=null,j&&h('"D"');g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,j&&h('"d"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,
1)==="I"){var B="I";a+=1}else B=null,j&&h('"I"');B===null&&(b.substr(a,1)==="i"?(B="i",a+=1):(B=null,j&&h('"i"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,j&&h('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",a+=1):(o=null,j&&h('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="T"){var D="T";a+=1}else D=null,j&&h('"T"');D===null&&(b.substr(a,1)==="t"?(D="t",a+=1):(D=null,j&&h('"t"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="I"){var t="I";a+=
1}else t=null,j&&h('"I"');t===null&&(b.substr(a,1)==="i"?(t="i",a+=1):(t=null,j&&h('"i"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="N"){var s="N";a+=1}else s=null,j&&h('"N"');s===null&&(b.substr(a,1)==="n"?(s="n",a+=1):(s=null,j&&h('"n"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="C"){var w="C";a+=1}else w=null,j&&h('"C"');w===null&&(b.substr(a,1)==="c"?(w="c",a+=1):(w=null,j&&h('"c"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="T"){var y="T";a+=1}else y=null,j&&h('"T"');
y===null&&(b.substr(a,1)==="t"?(y="t",a+=1):(y=null,j&&h('"t"')),y=y!==null?y:null);y!==null?g=[g,B,o,D,t,s,w,y]:(g=null,a=i)}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i}else g=null,a=i;g!==null?i=g:(i=a,b.substr(a,1)==="R"?(g="R",a+=1):(g=null,j&&h('"R"')),g===null&&(b.substr(a,1)==="r"?(g="r",a+=1):(g=null,j&&h('"r"')),g=g!==null?g:null),g!==null?(b.substr(a,1)==="E"?(B="E",a+=1):(B=null,j&&h('"E"')),B===null&&(b.substr(a,1)==="e"?(B="e",a+=1):
(B=null,j&&h('"e"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="D"?(o="D",a+=1):(o=null,j&&h('"D"')),o===null&&(b.substr(a,1)==="d"?(o="d",a+=1):(o=null,j&&h('"d"')),o=o!==null?o:null),o!==null?(b.substr(a,1)==="U"?(D="U",a+=1):(D=null,j&&h('"U"')),D===null&&(b.substr(a,1)==="u"?(D="u",a+=1):(D=null,j&&h('"u"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="C"?(t="C",a+=1):(t=null,j&&h('"C"')),t===null&&(b.substr(a,1)==="c"?(t="c",a+=1):(t=null,j&&h('"c"')),t=t!==null?t:null),t!==null?(b.substr(a,
1)==="E"?(s="E",a+=1):(s=null,j&&h('"E"')),s===null&&(b.substr(a,1)==="e"?(s="e",a+=1):(s=null,j&&h('"e"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="D"?(w="D",a+=1):(w=null,j&&h('"D"')),w===null&&(b.substr(a,1)==="d"?(w="d",a+=1):(w=null,j&&h('"d"')),w=w!==null?w:null),w!==null?g=[g,B,o,D,t,s,w]:(g=null,a=i)):(g=null,a=i)):(g=null,a=i)):(g=null,a=i)):(g=null,a=i)):(g=null,a=i)):(g=null,a=i),i=g!==null?g:null);i=i!==null?i:"";if(i!==null){g=[];for(B=q();B!==null;)g.push(B),B=q();if(g!==null){o=
a;D=[];for(t=q();t!==null;)D.push(t),t=q();if(D!==null)if(t=S(),t!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();s!==null?D=[D,t,s]:(D=null,a=o)}else D=null,a=o;else D=null,a=o;if(D!==null)o=D;else{o=a;D=[];for(t=q();t!==null;)D.push(t),t=q();if(D!==null)if(b.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&h('"("')),t!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=M(),w!==null){for(var y=[],z=q();z!==null;)y.push(z),z=q();if(y!==null)if(b.substr(a,1)==="A"?(z="A",a+=1):(z=null,j&&h('"A"')),
z===null&&(b.substr(a,1)==="a"?(z="a",a+=1):(z=null,j&&h('"a"')),z=z!==null?z:null),z!==null){if(b.substr(a,1)==="S"){var C="S";a+=1}else C=null,j&&h('"S"');C===null&&(b.substr(a,1)==="s"?(C="s",a+=1):(C=null,j&&h('"s"')),C=C!==null?C:null);if(C!==null){for(var F=[],E=q();E!==null;)F.push(E),E=q();if(F!==null)if(E=S(),E!==null){for(var O=[],G=q();G!==null;)O.push(G),G=q();if(O!==null)if(b.substr(a,1)===")"?(G=")",a+=1):(G=null,j&&h('")"')),G!==null){for(var N=[],I=q();I!==null;)N.push(I),I=q();N!==
null?D=[D,t,s,w,y,z,C,F,E,O,G,N]:(D=null,a=o)}else D=null,a=o;else D=null,a=o}else D=null,a=o;else D=null,a=o}else D=null,a=o}else D=null,a=o;else D=null,a=o}else D=null,a=o;else D=null,a=o}else D=null,a=o;else D=null,a=o;o=D!==null?D:null}if(o!==null)for(B=[];o!==null;){B.push(o);o=a;D=[];for(t=q();t!==null;)D.push(t),t=q();if(D!==null)if(t=S(),t!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();s!==null?D=[D,t,s]:(D=null,a=o)}else D=null,a=o;else D=null,a=o;if(D!==null)o=D;else{o=a;D=[];for(t=q();t!==
null;)D.push(t),t=q();if(D!==null)if(b.substr(a,1)==="("?(t="(",a+=1):(t=null,j&&h('"("')),t!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=M(),w!==null){y=[];for(z=q();z!==null;)y.push(z),z=q();if(y!==null)if(b.substr(a,1)==="A"?(z="A",a+=1):(z=null,j&&h('"A"')),z===null&&(b.substr(a,1)==="a"?(z="a",a+=1):(z=null,j&&h('"a"')),z=z!==null?z:null),z!==null)if(b.substr(a,1)==="S"?(C="S",a+=1):(C=null,j&&h('"S"')),C===null&&(b.substr(a,1)==="s"?(C="s",a+=1):(C=null,j&&h('"s"')),C=C!==
null?C:null),C!==null){F=[];for(E=q();E!==null;)F.push(E),E=q();if(F!==null)if(E=S(),E!==null){O=[];for(G=q();G!==null;)O.push(G),G=q();if(O!==null)if(b.substr(a,1)===")"?(G=")",a+=1):(G=null,j&&h('")"')),G!==null){N=[];for(I=q();I!==null;)N.push(I),I=q();N!==null?D=[D,t,s,w,y,z,C,F,E,O,G,N]:(D=null,a=o)}else D=null,a=o;else D=null,a=o}else D=null,a=o;else D=null,a=o}else D=null,a=o;else D=null,a=o;else D=null,a=o}else D=null,a=o;else D=null,a=o}else D=null,a=o;else D=null,a=o;o=D!==null?D:null}}else B=
null;if(B===null){B=a;o=[];for(D=q();D!==null;)o.push(D),D=q();if(o!==null)if(b.substr(a,1)==="*"?(D="*",a+=1):(D=null,j&&h('"*"')),D!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();t!==null?o=[o,D,t]:(o=null,a=B)}else o=null,a=B;else o=null,a=B;B=o!==null?o:null}B!==null?d=[d,u,n,r,x,H,v,k,i,g,B]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){var c=
[];if(b.length===3&&b[1]==="*")return{vars:[{token:"variable",kind:"*"}],modifier:Cb(a)};for(var d=0;d<b.length;d++){var f=b[d];f.length===3?c.push({token:"variable",kind:"var",value:f[1]}):c.push({token:"variable",kind:"aliased",expression:f[3],alias:f[8]})}return{vars:c,modifier:Cb(a)}}(d[8],d[10]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[8] SelectClause");A[c]={nextPos:a,result:f};return f}function L(){var c="ConstructQuery@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=
a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="C"?(u="C",a+=1):(u=null,j&&h('"C"')),u===null&&(b.substr(a,1)==="c"?(u="c",a+=1):(u=null,j&&h('"c"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="O"){var n="O";a+=1}else n=null,j&&h('"O"');n===null&&(b.substr(a,1)==="o"?(n="o",a+=1):(n=null,j&&h('"o"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="N"){var r="N";a+=1}else r=null,j&&h('"N"');r===null&&(b.substr(a,1)==="n"?(r="n",a+=1):(r=null,j&&h('"n"')),r=r!==null?
r:null);if(r!==null){if(b.substr(a,1)==="S"){var x="S";a+=1}else x=null,j&&h('"S"');x===null&&(b.substr(a,1)==="s"?(x="s",a+=1):(x=null,j&&h('"s"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var H="T";a+=1}else H=null,j&&h('"T"');H===null&&(b.substr(a,1)==="t"?(H="t",a+=1):(H=null,j&&h('"t"')),H=H!==null?H:null);if(H!==null){if(b.substr(a,1)==="R"){var v="R";a+=1}else v=null,j&&h('"R"');v===null&&(b.substr(a,1)==="r"?(v="r",a+=1):(v=null,j&&h('"r"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,
1)==="U"){var i="U";a+=1}else i=null,j&&h('"U"');i===null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,j&&h('"u"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="C"){var k="C";a+=1}else k=null,j&&h('"C"');k===null&&(b.substr(a,1)==="c"?(k="c",a+=1):(k=null,j&&h('"c"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="T"){var g="T";a+=1}else g=null,j&&h('"T"');g===null&&(b.substr(a,1)==="t"?(g="t",a+=1):(g=null,j&&h('"t"')),g=g!==null?g:null);if(g!==null){for(var o=[],t=q();t!==null;)o.push(t),
t=q();if(o!==null)if(t=Db(),t!==null){for(var s=[],w=q();w!==null;)s.push(w),w=q();if(s!==null){for(var w=[],y=Q();y!==null;)w.push(y),y=Q();if(w!==null){for(var y=[],z=q();z!==null;)y.push(z),z=q();if(y!==null)if(z=W(),z!==null){for(var C=[],F=q();F!==null;)C.push(F),F=q();C!==null?(F=Y(),F!==null?d=[d,u,n,r,x,H,v,i,k,g,o,t,s,w,y,z,C,F]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=
null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b,c,d){for(var f={named:[],"default":[]},h=0;h<b.length;h++){var j=b[h];j.kind==="default"?f["default"].push(j.graph):f.named.push(j.graph)}f.named.length===0&&f["default"].length===0&&f["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});b={kind:"construct",token:"executableunit"};b.dataset=
f;b.template=a;b.pattern=c;if(d!=null&&d.limit!=null)b.limit=d.limit;if(d!=null&&d.offset!=null)b.offset=d.offset;if(d!=null&&d.order!=null&&d.order!="")b.order=d.order;return b}(d[11],d[13],d[15],d[17]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[9] ConstructQuery");A[c]={nextPos:a,result:f};return f}function R(){var c="DescribeQuery@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a;if(b.substr(a,8)==="DESCRIBE"){var f="DESCRIBE";a+=8}else f=null,j&&h('"DESCRIBE"');if(f!==null){var d=
ha();if(d!==null)for(var u=[];d!==null;)u.push(d),d=ha();else u=null;u!==null?d=u:(b.substr(a,1)==="*"?(d="*",a+=1):(d=null,j&&h('"*"')),d=d!==null?d:null);if(d!==null){for(var u=[],n=Q();n!==null;)u.push(n),n=Q();if(u!==null)if(n=W(),n=n!==null?n:"",n!==null){var r=Y();r!==null?f=[f,d,u,n,r]:(f=null,a=m)}else f=null,a=m;else f=null,a=m}else f=null,a=m}else f=null,a=m;(j=e)&&f===null&&h("[10] DescribeQuery");A[c]={nextPos:a,result:f};return f}function U(){var c="AskQuery@"+a,e=A[c];if(e)return a=
e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="A"?(u="A",a+=1):(u=null,j&&h('"A"')),u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,j&&h('"a"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="S"){var n="S";a+=1}else n=null,j&&h('"S"');n===null&&(b.substr(a,1)==="s"?(n="s",a+=1):(n=null,j&&h('"s"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="K"){var r="K";a+=1}else r=null,j&&h('"K"');r===null&&(b.substr(a,1)==="k"?(r=
"k",a+=1):(r=null,j&&h('"k"')),r=r!==null?r:null);if(r!==null){for(var x=[],H=q();H!==null;)x.push(H),H=q();if(x!==null){for(var H=[],v=Q();v!==null;)H.push(v),v=Q();if(H!==null){for(var v=[],i=q();i!==null;)v.push(i),i=q();v!==null?(i=W(),i!==null?d=[d,u,n,r,x,H,v,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){for(var c={named:[],"default":[]},d=0;d<a.length;d++){var f=a[d];f.kind==="default"?
c["default"].push(f.graph):c.named.push(f.graph)}c.named.length===0&&c["default"].length===0&&c["default"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});d={kind:"ask",token:"executableunit"};d.dataset=c;d.pattern=b;return d}(d[5],d[7]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[11] AskQuery");A[c]={nextPos:a,result:f};return f}function Q(){var c="DatasetClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,
1)==="F"){var d="F";a+=1}else d=null,j&&h('"F"');d===null&&(b.substr(a,1)==="f"?(d="f",a+=1):(d=null,j&&h('"f"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(b.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="O"){var n="O";a+=1}else n=null,j&&h('"O"');n===null&&(b.substr(a,1)==="o"?(n="o",a+=1):(n=null,j&&h('"o"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="M"){var r="M";a+=
1}else r=null,j&&h('"M"');r===null&&(b.substr(a,1)==="m"?(r="m",a+=1):(r=null,j&&h('"m"')),r=r!==null?r:null);if(r!==null){for(var x=[],H=q();H!==null;)x.push(H),H=q();if(x!==null)if(H=$(),H===null&&(H=aa(),H=H!==null?H:null),H!==null){for(var v=[],i=q();i!==null;)v.push(i),i=q();v!==null?d=[d,u,n,r,x,H,v]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[5]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[12] DatasetClause");
A[c]={nextPos:a,result:f};return f}function $(){var b="DefaultGraphClause@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;for(var e=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();d!==null?(u=T(),u!==null?d=[d,u]:(d=null,a=f)):(d=null,a=f);f=d!==null?{graph:d[1],kind:"default",token:"graphClause"}:null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[13] DefaultGraphClause");A[b]={nextPos:a,result:f};return f}function aa(){var c="NamedGraphClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=
a,f=a;if(b.substr(a,1)==="N"){var d="N";a+=1}else d=null,j&&h('"N"');d===null&&(b.substr(a,1)==="n"?(d="n",a+=1):(d=null,j&&h('"n"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="A"){var u="A";a+=1}else u=null,j&&h('"A"');u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,j&&h('"a"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="M"){var n="M";a+=1}else n=null,j&&h('"M"');n===null&&(b.substr(a,1)==="m"?(n="m",a+=1):(n=null,j&&h('"m"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)===
"E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="D"){var x="D";a+=1}else x=null,j&&h('"D"');x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,j&&h('"d"')),x=x!==null?x:null);if(x!==null){for(var H=[],v=q();v!==null;)H.push(v),v=q();H!==null?(v=T(),v!==null?d=[d,u,n,r,x,H,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==
null?{graph:d[6],kind:"named",token:"graphCluase"}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[14] NamedGraphClause");A[c]={nextPos:a,result:f};return f}function W(){var c="WhereClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=a;if(b.substr(a,1)==="W"){var u="W";a+=1}else u=null,j&&h('"W"');u===null&&(b.substr(a,1)==="w"?(u="w",a+=1):(u=null,j&&h('"w"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="H"){var n="H";a+=1}else n=null,j&&h('"H"');n===null&&(b.substr(a,
1)==="h"?(n="h",a+=1):(n=null,j&&h('"h"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=1}else x=null,j&&h('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,j&&h('"r"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var H="E";a+=1}else H=null,j&&h('"E"');H===null&&(b.substr(a,1)==="e"?(H="e",a+=1):
(H=null,j&&h('"e"')),H=H!==null?H:null);H!==null?u=[u,n,r,x,H]:(u=null,a=d)}else u=null,a=d}else u=null,a=d}else u=null,a=d}else u=null,a=d;d=u!==null?u:"";if(d!==null){u=[];for(n=q();n!==null;)u.push(n),n=q();if(u!==null)if(n=X(),n!==null){r=[];for(x=q();x!==null;)r.push(x),x=q();r!==null?d=[d,u,n,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[16] WhereClause");A[c]={nextPos:a,result:f};return f}function Y(){var b=
"SolutionModifier@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=a,d=ka(),d=d!==null?d:"";if(d!==null){var u=sa(),u=u!==null?u:"";if(u!==null){var n=va(),n=n!==null?n:"";if(n!==null){var r=rb(),r=r!==null?r:"";r!==null?d=[d,u,n,r]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={};if(c!=null){if(c.limit!=null)d.limit=c.limit;if(c.offset!=null)d.offset=c.offset}if(a!=null)d.group=a;d.order=b;return d}(d[0],d[2],d[3]):null;f===null&&(f=null,
a=e);(j=c)&&f===null&&h("[17] SolutionModifier");A[b]={nextPos:a,result:f};return f}function ka(){var c="GroupClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="G"){var d="G";a+=1}else d=null,j&&h('"G"');d===null&&(b.substr(a,1)==="g"?(d="g",a+=1):(d=null,j&&h('"g"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(b.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,
1)==="O"){var n="O";a+=1}else n=null,j&&h('"O"');n===null&&(b.substr(a,1)==="o"?(n="o",a+=1):(n=null,j&&h('"o"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="U"){var r="U";a+=1}else r=null,j&&h('"U"');r===null&&(b.substr(a,1)==="u"?(r="u",a+=1):(r=null,j&&h('"u"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="P"){var x="P";a+=1}else x=null,j&&h('"P"');x===null&&(b.substr(a,1)==="p"?(x="p",a+=1):(x=null,j&&h('"p"')),x=x!==null?x:null);if(x!==null){for(var H=[],v=q();v!==null;)H.push(v),
v=q();if(H!==null)if(b.substr(a,1)==="B"?(v="B",a+=1):(v=null,j&&h('"B"')),v===null&&(b.substr(a,1)==="b"?(v="b",a+=1):(v=null,j&&h('"b"')),v=v!==null?v:null),v!==null){if(b.substr(a,1)==="Y"){var i="Y";a+=1}else i=null,j&&h('"Y"');i===null&&(b.substr(a,1)==="y"?(i="y",a+=1):(i=null,j&&h('"y"')),i=i!==null?i:null);if(i!==null){for(var k=[],g=q();g!==null;)k.push(g),g=q();if(k!==null){g=P();if(g!==null)for(var o=[];g!==null;)o.push(g),g=P();else o=null;o!==null?d=[d,u,n,r,x,H,v,i,k,o]:(d=null,a=f)}else d=
null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[9]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[18] GroupClause");A[c]={nextPos:a,result:f};return f}function P(){var c="GroupCondition@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(u=Da(),u!==null){for(var n=[],r=q();r!==null;)n.push(r),r=q();n!==null?d=[d,u,n]:(d=null,a=
f)}else d=null,a=f;else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;d=[];for(u=q();u!==null;)d.push(u),u=q();if(d!==null)if(u=Za(),u!==null){n=[];for(r=q();r!==null;)n.push(r),r=q();n!==null?d=[d,u,n]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;d=[];for(u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="("?(u="(",a+=1):(u=null,j&&h('"("')),u!==null){n=[];for(r=q();r!==null;)n.push(r),
r=q();if(n!==null)if(r=M(),r!==null){for(var x=[],H=q();H!==null;)x.push(H),H=q();if(x!==null){H=a;if(b.substr(a,1)==="A"){var v="A";a+=1}else v=null,j&&h('"A"');v===null&&(b.substr(a,1)==="a"?(v="a",a+=1):(v=null,j&&h('"a"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="S"){var i="S";a+=1}else i=null,j&&h('"S"');i===null&&(b.substr(a,1)==="s"?(i="s",a+=1):(i=null,j&&h('"s"')),i=i!==null?i:null);if(i!==null){for(var k=[],g=q();g!==null;)k.push(g),g=q();k!==null?(g=S(),g!==null?v=[v,i,k,g]:
(v=null,a=H)):(v=null,a=H)}else v=null,a=H}else v=null,a=H;H=v!==null?v:"";if(H!==null){v=[];for(i=q();i!==null;)v.push(i),i=q();if(v!==null)if(b.substr(a,1)===")"?(i=")",a+=1):(i=null,j&&h('")"')),i!==null){k=[];for(g=q();g!==null;)k.push(g),g=q();k!==null?d=[d,u,n,r,x,H,v,i,k]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[5].length!=0?{token:"aliased_expression",expression:d[3],alias:d[5][3]}:
d[3]:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;d=[];for(u=q();u!==null;)d.push(u),u=q();if(d!==null)if(u=S(),u!==null){n=[];for(r=q();r!==null;)n.push(r),r=q();n!==null?d=[d,u,n]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=m);m=f!==null?f:null}}}(j=e)&&m===null&&h("[19] GroupCondition");A[c]={nextPos:a,result:m};return m}function sa(){var c="HavingClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a;if(b.substr(a,6)==="HAVING"){var f=
"HAVING";a+=6}else f=null,j&&h('"HAVING"');if(f!==null){var d=xa();if(d!==null)for(var u=[];d!==null;)u.push(d),d=xa();else u=null;u!==null?f=[f,u]:(f=null,a=m)}else f=null,a=m;(j=e)&&f===null&&h("[20] HavingClause");A[c]={nextPos:a,result:f};return f}function va(){var c="OrderClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="O"){var d="O";a+=1}else d=null,j&&h('"O"');d===null&&(b.substr(a,1)==="o"?(d="o",a+=1):(d=null,j&&h('"o"')),d=d!==null?d:null);if(d!==
null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(b.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="D"){var n="D";a+=1}else n=null,j&&h('"D"');n===null&&(b.substr(a,1)==="d"?(n="d",a+=1):(n=null,j&&h('"d"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)===
"R"){var x="R";a+=1}else x=null,j&&h('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,j&&h('"r"')),x=x!==null?x:null);if(x!==null){for(var i=[],v=q();v!==null;)i.push(v),v=q();if(i!==null)if(b.substr(a,1)==="B"?(v="B",a+=1):(v=null,j&&h('"B"')),v===null&&(b.substr(a,1)==="b"?(v="b",a+=1):(v=null,j&&h('"b"')),v=v!==null?v:null),v!==null){if(b.substr(a,1)==="Y"){var k="Y";a+=1}else k=null,j&&h('"Y"');k===null&&(b.substr(a,1)==="y"?(k="y",a+=1):(k=null,j&&h('"y"')),k=k!==null?k:null);if(k!==
null){for(var g=[],o=q();o!==null;)g.push(o),o=q();if(g!==null){var B=Ta();if(B!==null)for(o=[];B!==null;)o.push(B),B=Ta();else o=null;if(o!==null){for(var B=[],t=q();t!==null;)B.push(t),t=q();B!==null?d=[d,u,n,r,x,i,v,k,g,o,B]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[9]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[22] OrderClause");A[c]={nextPos:a,result:f};
return f}function Ta(){var c="OrderCondition@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,3)==="ASC"){var d="ASC";a+=3}else d=null,j&&h('"ASC"');d===null&&(b.substr(a,4)==="DESC"?(d="DESC",a+=4):(d=null,j&&h('"DESC"')),d=d!==null?d:null);if(d!==null){for(var u=[],n=q();n!==null;)u.push(n),n=q();if(u!==null)if(n=Ea(),n!==null){for(var r=[],x=q();x!==null;)r.push(x),x=q();r!==null?d=[d,u,n,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?{direction:d[0],
expression:d[2]}:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;d=xa();d===null&&(d=S(),d=d!==null?d:null);if(d!==null){u=[];for(n=q();n!==null;)u.push(n),n=q();u!==null?d=[d,u]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.token==="var"&&(a={token:"expression",expressionType:"atomic",primaryexpression:"var",value:a});return{direction:"ASC",expression:a}}(d[0]):null;f===null&&(f=null,a=m);m=f!==null?f:null}(j=e)&&m===null&&h("[23] OrderCondition");A[c]={nextPos:a,result:m};return m}
function rb(){var b="LimitOffsetClauses@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=a,d=Ua();if(d!==null){var u=Va(),u=u!==null?u:"";u!==null?d=[d,u]:(d=null,a=f)}else d=null,a=f;d!==null?f=d:(f=a,d=Va(),d!==null?(u=Ua(),u=u!==null?u:"",u!==null?d=[d,u]:(d=null,a=f)):(d=null,a=f),f=d!==null?d:null);f=f!==null?function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];if(d.limit!=null)b.limit=d.limit;else if(d.offset!=null)b.offset=d.offset}return b}(f):null;f===null&&(f=null,a=e);
(j=c)&&f===null&&h("[24] LimitOffsetClauses");A[b]={nextPos:a,result:f};return f}function Ua(){var c="LimitClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="L"){var d="L";a+=1}else d=null,j&&h('"L"');d===null&&(b.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&h('"l"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="I"){var u="I";a+=1}else u=null,j&&h('"I"');u===null&&(b.substr(a,1)==="i"?(u="i",a+=1):(u=null,j&&h('"i"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,
1)==="M"){var n="M";a+=1}else n=null,j&&h('"M"');n===null&&(b.substr(a,1)==="m"?(n="m",a+=1):(n=null,j&&h('"m"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="I"){var r="I";a+=1}else r=null,j&&h('"I"');r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,j&&h('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,j&&h('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,j&&h('"t"')),x=x!==null?x:null);if(x!==null){for(var i=[],v=q();v!==null;)i.push(v),
v=q();if(i!==null)if(v=ca(),v!==null){for(var k=[],g=q();g!==null;)k.push(g),g=q();k!==null?d=[d,u,n,r,x,i,v,k]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?{limit:parseInt(d[6].value)}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[25] LimitClause");A[c]={nextPos:a,result:f};return f}function Va(){var c="OffsetClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="O"){var d=
"O";a+=1}else d=null,j&&h('"O"');d===null&&(b.substr(a,1)==="o"?(d="o",a+=1):(d=null,j&&h('"o"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="F"){var u="F";a+=1}else u=null,j&&h('"F"');u===null&&(b.substr(a,1)==="f"?(u="f",a+=1):(u=null,j&&h('"f"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="F"){var n="F";a+=1}else n=null,j&&h('"F"');n===null&&(b.substr(a,1)==="f"?(n="f",a+=1):(n=null,j&&h('"f"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="S"){var r="S";a+=1}else r=null,
j&&h('"S"');r===null&&(b.substr(a,1)==="s"?(r="s",a+=1):(r=null,j&&h('"s"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="E"){var x="E";a+=1}else x=null,j&&h('"E"');x===null&&(b.substr(a,1)==="e"?(x="e",a+=1):(x=null,j&&h('"e"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&h('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&h('"t"')),i=i!==null?i:null);if(i!==null){for(var v=[],k=q();k!==null;)v.push(k),k=q();if(v!==null)if(k=ca(),k!==null){for(var g=
[],o=q();o!==null;)g.push(o),o=q();g!==null?d=[d,u,n,r,x,i,v,k,g]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?{offset:parseInt(d[7].value)}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[26] OffsetClause");A[c]={nextPos:a,result:f};return f}function vb(){var c="BindingsClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a;if(b.substr(a,8)==="BINDINGS"){var f="BINDINGS";a+=8}else f=
null,j&&h('"BINDINGS"');if(f!==null){for(var d=[],u=S();u!==null;)d.push(u),u=S();if(d!==null)if(b.substr(a,1)==="{"?(u="{",a+=1):(u=null,j&&h('"{"')),u!==null){var n=[],r=a;if(b.substr(a,1)==="("){var x="(";a+=1}else x=null,j&&h('"("');if(x!==null){var i=ua();if(i!==null)for(var v=[];i!==null;)v.push(i),i=ua();else v=null;v!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,j&&h('")"')),i!==null?x=[x,v,i]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;x!==null?r=x:(r=ia(),r=r!==null?r:null);for(;r!==null;){n.push(r);
r=a;b.substr(a,1)==="("?(x="(",a+=1):(x=null,j&&h('"("'));if(x!==null){i=ua();if(i!==null)for(v=[];i!==null;)v.push(i),i=ua();else v=null;v!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,j&&h('")"')),i!==null?x=[x,v,i]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;x!==null?r=x:(r=ia(),r=r!==null?r:null)}n!==null?(b.substr(a,1)==="}"?(r="}",a+=1):(r=null,j&&h('"}"')),r!==null?f=[f,d,u,n,r]:(f=null,a=m)):(f=null,a=m)}else f=null,a=m;else f=null,a=m}else f=null,a=m;m=f!==null?f:"";(j=e)&&m===null&&h("[27] BindingsClause");
A[c]={nextPos:a,result:m};return m}function ua(){var c="BindingValue@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=T();m===null&&(m=Fa(),m===null&&(m=Ga(),m===null&&(m=Ha(),m===null&&(b.substr(a,5)==="UNDEF"?(m="UNDEF",a+=5):(m=null,j&&h('"UNDEF"')),m=m!==null?m:null))));(j=e)&&m===null&&h("[28] BindingValue");A[c]={nextPos:a,result:m};return m}function Wa(){var c="Update@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=t();if(d!==null){for(var u=[],n=q();n!==null;)u.push(n),
n=q();if(u!==null)if(n=wb(),n!==null){for(var r=a,x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(b.substr(a,1)===";"?(i=";",a+=1):(i=null,j&&h('";"')),i!==null){for(var v=[],k=q();k!==null;)v.push(k),k=q();v!==null?(k=Wa(),k=k!==null?k:"",k!==null?x=[x,i,v,k]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;else x=null,a=r;r=x!==null?x:"";r!==null?d=[d,u,n,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={token:"query",kind:"update"};d.prologue=a;a=[b];
c.length!=null&&c[3]!=null&&c[3].units!=null&&(a=a.concat(c[3].units));d.units=a;return d}(d[0],d[2],d[3]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[30] Update");A[c]={nextPos:a,result:f};return f}function wb(){var b="Update1@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=xb();e===null&&(e=sb(),e===null&&(e=ub(),e===null&&(e=yb(),e===null&&(e=zb(),e===null&&(e=Ab(),e===null&&(e=Bb(),e===null&&(e=Eb(),e=e!==null?e:null)))))));(j=c)&&e===null&&h("[31] Update1");A[b]={nextPos:a,result:e};
return e}function xb(){var c="Load@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="L"){var d="L";a+=1}else d=null,j&&h('"L"');d===null&&(b.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&h('"l"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="O"){var u="O";a+=1}else u=null,j&&h('"O"');u===null&&(b.substr(a,1)==="o"?(u="o",a+=1):(u=null,j&&h('"o"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(b.substr(a,
1)==="a"?(n="a",a+=1):(n=null,j&&h('"a"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="D"){var r="D";a+=1}else r=null,j&&h('"D"');r===null&&(b.substr(a,1)==="d"?(r="d",a+=1):(r=null,j&&h('"d"')),r=r!==null?r:null);if(r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(i=T(),i!==null){for(var v=[],k=q();k!==null;)v.push(k),k=q();if(v!==null){k=a;if(b.substr(a,1)==="I"){var g="I";a+=1}else g=null,j&&h('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,j&&h('"i"')),
g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="N"){var o="N";a+=1}else o=null,j&&h('"N"');o===null&&(b.substr(a,1)==="n"?(o="n",a+=1):(o=null,j&&h('"n"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="T"){var B="T";a+=1}else B=null,j&&h('"T"');B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,j&&h('"t"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="O"){var t="O";a+=1}else t=null,j&&h('"O"');t===null&&(b.substr(a,1)==="o"?(t="o",a+=1):(t=null,j&&h('"o"')),t=t!==null?t:null);if(t!==
null){for(var s=[],w=q();w!==null;)s.push(w),w=q();s!==null?(w=Ia(),w!==null?g=[g,o,B,t,s,w]:(g=null,a=k)):(g=null,a=k)}else g=null,a=k}else g=null,a=k}else g=null,a=k}else g=null,a=k;k=g!==null?g:"";k!==null?d=[d,u,n,r,x,i,v,k]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c={kind:"load",token:"executableunit"};c.sourceGraph=a;c.destinyGraph=b[5];return c}(d[5],d[7]):null;f===null&&(f=null,
a=m);(j=e)&&f===null&&h("[32] Load");A[c]={nextPos:a,result:f};return f}function sb(){var c="Clear@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&h('"C"');d===null&&(b.substr(a,1)==="c"?(d="c",a+=1):(d=null,j&&h('"c"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="L"){var u="L";a+=1}else u=null,j&&h('"L"');u===null&&(b.substr(a,1)==="l"?(u="l",a+=1):(u=null,j&&h('"l"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)===
"E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,j&&h('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,j&&h('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=1}else x=null,j&&h('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,j&&h('"r"')),x=x!==null?x:null);if(x!==null){for(var i=[],v=q();v!==null;)i.push(v),v=
q();if(i!==null){v=a;if(b.substr(a,1)==="S"){var k="S";a+=1}else k=null,j&&h('"S"');k===null&&(b.substr(a,1)==="s"?(k="s",a+=1):(k=null,j&&h('"s"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="I"){var g="I";a+=1}else g=null,j&&h('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,j&&h('"i"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,j&&h('"L"');o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,j&&h('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,
1)==="E"){var B="E";a+=1}else B=null,j&&h('"E"');B===null&&(b.substr(a,1)==="e"?(B="e",a+=1):(B=null,j&&h('"e"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="N"){var t="N";a+=1}else t=null,j&&h('"N"');t===null&&(b.substr(a,1)==="n"?(t="n",a+=1):(t=null,j&&h('"n"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="T"){var s="T";a+=1}else s=null,j&&h('"T"');s===null&&(b.substr(a,1)==="t"?(s="t",a+=1):(s=null,j&&h('"t"')),s=s!==null?s:null);s!==null?k=[k,g,o,B,t,s]:(k=null,a=v)}else k=null,
a=v}else k=null,a=v}else k=null,a=v}else k=null,a=v}else k=null,a=v;v=k!==null?k:"";if(v!==null){k=[];for(g=q();g!==null;)k.push(g),g=q();k!==null?(g=$a(),g!==null?d=[d,u,n,r,x,i,v,k,g]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"clear",token:"executableunit"};b.destinyGraph=a;return b}(d[8]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[33] Clear");A[c]={nextPos:a,
result:f};return f}function ub(){var c="Drop@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(b.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="O"){var n="O";a+=1}else n=null,j&&h('"O"');n===null&&
(b.substr(a,1)==="o"?(n="o",a+=1):(n=null,j&&h('"o"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="P"){var r="P";a+=1}else r=null,j&&h('"P"');r===null&&(b.substr(a,1)==="p"?(r="p",a+=1):(r=null,j&&h('"p"')),r=r!==null?r:null);if(r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null){i=a;if(b.substr(a,1)==="S"){var k="S";a+=1}else k=null,j&&h('"S"');k===null&&(b.substr(a,1)==="s"?(k="s",a+=1):(k=null,j&&h('"s"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="I"){var g="I";
a+=1}else g=null,j&&h('"I"');g===null&&(b.substr(a,1)==="i"?(g="i",a+=1):(g=null,j&&h('"i"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="L"){var o="L";a+=1}else o=null,j&&h('"L"');o===null&&(b.substr(a,1)==="l"?(o="l",a+=1):(o=null,j&&h('"l"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var t="E";a+=1}else t=null,j&&h('"E"');t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,j&&h('"e"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="N"){var B="N";a+=1}else B=null,j&&h('"N"');
B===null&&(b.substr(a,1)==="n"?(B="n",a+=1):(B=null,j&&h('"n"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="T"){var s="T";a+=1}else s=null,j&&h('"T"');s===null&&(b.substr(a,1)==="t"?(s="t",a+=1):(s=null,j&&h('"t"')),s=s!==null?s:null);s!==null?k=[k,g,o,t,B,s]:(k=null,a=i)}else k=null,a=i}else k=null,a=i}else k=null,a=i}else k=null,a=i}else k=null,a=i;i=k!==null?k:"";if(i!==null){k=[];for(g=q();g!==null;)k.push(g),g=q();k!==null?(g=$a(),g!==null?d=[d,u,n,r,x,i,k,g]:(d=null,a=f)):(d=null,a=
f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"drop",token:"executableunit"};b.destinyGraph=a;return b}(d[7]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[34] Drop");A[c]={nextPos:a,result:f};return f}function yb(){var c="Create@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&h('"C"');d===null&&(b.substr(a,1)==="c"?(d="c",a+=1):(d=null,
j&&h('"c"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(b.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="E"){var n="E";a+=1}else n=null,j&&h('"E"');n===null&&(b.substr(a,1)==="e"?(n="e",a+=1):(n=null,j&&h('"e"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,j&&h('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,j&&h('"a"')),r=r!==null?
r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,j&&h('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,j&&h('"t"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var k=[],g=q();g!==null;)k.push(g),g=q();if(k!==null){g=a;if(b.substr(a,1)==="S"){var o="S";a+=1}else o=null,j&&h('"S"');o===null&&(b.substr(a,1)==="s"?(o="s",
a+=1):(o=null,j&&h('"s"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="I"){var t="I";a+=1}else t=null,j&&h('"I"');t===null&&(b.substr(a,1)==="i"?(t="i",a+=1):(t=null,j&&h('"i"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="L"){var B="L";a+=1}else B=null,j&&h('"L"');B===null&&(b.substr(a,1)==="l"?(B="l",a+=1):(B=null,j&&h('"l"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="E"){var s="E";a+=1}else s=null,j&&h('"E"');s===null&&(b.substr(a,1)==="e"?(s="e",a+=1):(s=null,j&&h('"e"')),
s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="N"){var D="N";a+=1}else D=null,j&&h('"N"');D===null&&(b.substr(a,1)==="n"?(D="n",a+=1):(D=null,j&&h('"n"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="T"){var w="T";a+=1}else w=null,j&&h('"T"');w===null&&(b.substr(a,1)==="t"?(w="t",a+=1):(w=null,j&&h('"t"')),w=w!==null?w:null);w!==null?o=[o,t,B,s,D,w]:(o=null,a=g)}else o=null,a=g}else o=null,a=g}else o=null,a=g}else o=null,a=g}else o=null,a=g;g=o!==null?o:"";if(g!==null){o=[];for(t=q();t!==
null;)o.push(t),t=q();o!==null?(t=Ia(),t!==null?d=[d,u,n,r,x,i,k,g,o,t]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"create",token:"executableunit"};b.destinyGraph=a;return b}(d[9]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[35] Create");A[c]={nextPos:a,result:f};return f}function zb(){var c="InsertData@"+a,e=A[c];if(e)return a=e.nextPos,e.result;
e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="I"){var d="I";a+=1}else d=null,j&&h('"I"');d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&h('"i"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="N"){var u="N";a+=1}else u=null,j&&h('"N"');u===null&&(b.substr(a,1)==="n"?(u="n",a+=1):(u=null,j&&h('"n"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="S"){var n="S";a+=1}else n=null,j&&h('"S"');n===null&&(b.substr(a,1)==="s"?(n="s",a+=1):(n=null,j&&h('"s"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,
1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=1}else x=null,j&&h('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,j&&h('"r"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&h('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&h('"t"')),i=i!==null?i:null);if(i!==null){for(var k=[],g=q();g!==null;)k.push(g),
g=q();if(k!==null)if(b.substr(a,1)==="D"?(g="D",a+=1):(g=null,j&&h('"D"')),g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,j&&h('"d"')),g=g!==null?g:null),g!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&h('"A"');o===null&&(b.substr(a,1)==="a"?(o="a",a+=1):(o=null,j&&h('"a"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="T"){var t="T";a+=1}else t=null,j&&h('"T"');t===null&&(b.substr(a,1)==="t"?(t="t",a+=1):(t=null,j&&h('"t"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,
1)==="A"){var B="A";a+=1}else B=null,j&&h('"A"');B===null&&(b.substr(a,1)==="a"?(B="a",a+=1):(B=null,j&&h('"a"')),B=B!==null?B:null);if(B!==null){for(var s=[],w=q();w!==null;)s.push(w),w=q();s!==null?(w=ab(),w!==null?d=[d,u,n,r,x,i,k,g,o,t,B,s,w]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"insertdata",token:"executableunit"};
b.quads=a;return b}(d[12]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[36] InsertData");A[c]={nextPos:a,result:f};return f}function Ab(){var c="DeleteData@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&h('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&
h('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="L"){var n="L";a+=1}else n=null,j&&h('"L"');n===null&&(b.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&h('"l"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,j&&h('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,j&&h('"t"')),x=x!==null?
x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var k=[],g=q();g!==null;)k.push(g),g=q();if(k!==null)if(b.substr(a,1)==="D"?(g="D",a+=1):(g=null,j&&h('"D"')),g===null&&(b.substr(a,1)==="d"?(g="d",a+=1):(g=null,j&&h('"d"')),g=g!==null?g:null),g!==null){if(b.substr(a,1)==="A"){var o="A";a+=1}else o=null,j&&h('"A"');o===null&&(b.substr(a,1)==="a"?(o="a",a+=1):(o=null,
j&&h('"a"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="T"){var t="T";a+=1}else t=null,j&&h('"T"');t===null&&(b.substr(a,1)==="t"?(t="t",a+=1):(t=null,j&&h('"t"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="A"){var B="A";a+=1}else B=null,j&&h('"A"');B===null&&(b.substr(a,1)==="a"?(B="a",a+=1):(B=null,j&&h('"a"')),B=B!==null?B:null);if(B!==null){var s=ab();s!==null?d=[d,u,n,r,x,i,k,g,o,t,B,s]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,
a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={kind:"deletedata",token:"executableunit"};b.quads=a;return b}(d[11]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[37] DeleteData");A[c]={nextPos:a,result:f};return f}function Bb(){var c="DeleteWhere@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=
1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&h('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&h('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="L"){var n="L";a+=1}else n=null,j&&h('"L"');n===null&&(b.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&h('"l"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),
r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,j&&h('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,j&&h('"t"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){for(var k=[],g=q();g!==null;)k.push(g),g=q();if(k!==null)if(b.substr(a,1)==="W"?(g="W",a+=1):(g=null,j&&h('"W"')),g===null&&(b.substr(a,1)==="w"?(g="w",
a+=1):(g=null,j&&h('"w"')),g=g!==null?g:null),g!==null){if(b.substr(a,1)==="H"){var o="H";a+=1}else o=null,j&&h('"H"');o===null&&(b.substr(a,1)==="h"?(o="h",a+=1):(o=null,j&&h('"h"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="E"){var t="E";a+=1}else t=null,j&&h('"E"');t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,j&&h('"e"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="R"){var B="R";a+=1}else B=null,j&&h('"R"');B===null&&(b.substr(a,1)==="r"?(B="r",a+=1):(B=null,j&&h('"r"')),
B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="E"){var s="E";a+=1}else s=null,j&&h('"E"');s===null&&(b.substr(a,1)==="e"?(s="e",a+=1):(s=null,j&&h('"e"')),s=s!==null?s:null);if(s!==null){for(var w=[],y=q();y!==null;)w.push(y),y=q();w!==null?(y=X(),y!==null?d=[d,u,n,r,x,i,k,g,o,t,B,s,w,y]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=
null,a=f;f=d!==null?function(a){var b={kind:"modify"};b.pattern=a;b["with"]=null;b.using=null;for(var c=[],a=a.patterns[0],a=a.triplesContext==null&&a.patterns!=null?a.patterns[0].triplesContext:a.triplesContext,d=0;d<a.length;d++){var f={},h=a[d];f.subject=h.subject;f.predicate=h.predicate;f.object=h.object;f.graph=h.graph;c.push(f)}b["delete"]=c;return b}(d[13]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[38] DeleteWhere");A[c]={nextPos:a,result:f};return f}function Eb(){var c="Modify@"+a,
e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=a;if(b.substr(a,1)==="W"){var u="W";a+=1}else u=null,j&&h('"W"');u===null&&(b.substr(a,1)==="w"?(u="w",a+=1):(u=null,j&&h('"w"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="I"){var n="I";a+=1}else n=null,j&&h('"I"');n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,j&&h('"i"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="T"){var r="T";a+=1}else r=null,j&&h('"T"');r===null&&(b.substr(a,1)==="t"?(r="t",a+=1):(r=null,j&&
h('"t"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="H"){var x="H";a+=1}else x=null,j&&h('"H"');x===null&&(b.substr(a,1)==="h"?(x="h",a+=1):(x=null,j&&h('"h"')),x=x!==null?x:null);if(x!==null){for(var i=[],g=q();g!==null;)i.push(g),g=q();i!==null?(g=T(),g!==null?u=[u,n,r,x,i,g]:(u=null,a=d)):(u=null,a=d)}else u=null,a=d}else u=null,a=d}else u=null,a=d}else u=null,a=d;d=u!==null?u:"";if(d!==null){u=[];for(n=q();n!==null;)u.push(n),n=q();if(u!==null){n=a;r=Fb();if(r!==null){x=[];for(i=q();i!==
null;)x.push(i),i=q();x!==null?(i=bb(),i=i!==null?i:"",i!==null?r=[r,x,i]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;r!==null?n=r:(n=bb(),n=n!==null?n:null);if(n!==null){r=[];for(x=q();x!==null;)r.push(x),x=q();if(r!==null){x=[];for(i=cb();i!==null;)x.push(i),i=cb();if(x!==null){i=[];for(g=q();g!==null;)i.push(g),g=q();if(i!==null)if(b.substr(a,1)==="W"?(g="W",a+=1):(g=null,j&&h('"W"')),g===null&&(b.substr(a,1)==="w"?(g="w",a+=1):(g=null,j&&h('"w"')),g=g!==null?g:null),g!==null){if(b.substr(a,1)===
"H"){var k="H";a+=1}else k=null,j&&h('"H"');k===null&&(b.substr(a,1)==="h"?(k="h",a+=1):(k=null,j&&h('"h"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&h('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&h('"e"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="R"){var t="R";a+=1}else t=null,j&&h('"R"');t===null&&(b.substr(a,1)==="r"?(t="r",a+=1):(t=null,j&&h('"r"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="E"){var s="E";a+=1}else s=
null,j&&h('"E"');s===null&&(b.substr(a,1)==="e"?(s="e",a+=1):(s=null,j&&h('"e"')),s=s!==null?s:null);if(s!==null){for(var w=[],D=q();D!==null;)w.push(D),D=q();if(w!==null)if(D=X(),D!==null){for(var y=[],z=q();z!==null;)y.push(z),z=q();y!==null?d=[d,u,n,r,x,i,g,k,o,t,s,w,D,y]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==
null?function(a,b,c,d){var f={kind:"modify"};f["with"]=a!=""?a[5]:null;b.length===3&&b[2]===""?(f["delete"]=b[0],f.insert=null):b.length===3&&b[0].length!=null&&b[1].length!=null&&b[2].length!=null?(f["delete"]=b[0],f.insert=b[2]):(f.insert=b,f["delete"]=null);c!=""&&(f.using=c);f.pattern=d;return f}(d[0],d[2],d[4],d[12]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[39] Modify");A[c]={nextPos:a,result:f};return f}function Fb(){var c="DeleteClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=
j;j=!1;var m=a,f=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&h('"E"');u===null&&(b.substr(a,1)==="e"?(u="e",a+=1):(u=null,j&&h('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="L"){var n="L";a+=1}else n=null,j&&h('"L"');n===null&&(b.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&h('"l"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,
1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var x="T";a+=1}else x=null,j&&h('"T"');x===null&&(b.substr(a,1)==="t"?(x="t",a+=1):(x=null,j&&h('"t"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="E"){var i="E";a+=1}else i=null,j&&h('"E"');i===null&&(b.substr(a,1)==="e"?(i="e",a+=1):(i=null,j&&h('"e"')),i=i!==null?i:null);if(i!==null){var g=eb();g!==null?d=[d,u,n,r,x,i,
g]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[6]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[40] DeleteClause");A[c]={nextPos:a,result:f};return f}function bb(){var c="InsertClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="I"){var d="I";a+=1}else d=null,j&&h('"I"');d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&h('"i"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,
1)==="N"){var u="N";a+=1}else u=null,j&&h('"N"');u===null&&(b.substr(a,1)==="n"?(u="n",a+=1):(u=null,j&&h('"n"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="S"){var n="S";a+=1}else n=null,j&&h('"S"');n===null&&(b.substr(a,1)==="s"?(n="s",a+=1):(n=null,j&&h('"s"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="E"){var r="E";a+=1}else r=null,j&&h('"E"');r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="R"){var x="R";a+=
1}else x=null,j&&h('"R"');x===null&&(b.substr(a,1)==="r"?(x="r",a+=1):(x=null,j&&h('"r"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&h('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&h('"t"')),i=i!==null?i:null);if(i!==null){var g=eb();g!==null?d=[d,u,n,r,x,i,g]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[6]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[41] InsertClause");
A[c]={nextPos:a,result:f};return f}function cb(){var c="UsingClause@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="U"?(u="U",a+=1):(u=null,j&&h('"U"')),u===null&&(b.substr(a,1)==="u"?(u="u",a+=1):(u=null,j&&h('"u"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="S"){var n="S";a+=1}else n=null,j&&h('"S"');n===null&&(b.substr(a,1)==="s"?(n="s",a+=1):(n=null,j&&h('"s"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,
1)==="I"){var r="I";a+=1}else r=null,j&&h('"I"');r===null&&(b.substr(a,1)==="i"?(r="i",a+=1):(r=null,j&&h('"i"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="N"){var x="N";a+=1}else x=null,j&&h('"N"');x===null&&(b.substr(a,1)==="n"?(x="n",a+=1):(x=null,j&&h('"n"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="G"){var i="G";a+=1}else i=null,j&&h('"G"');i===null&&(b.substr(a,1)==="g"?(i="g",a+=1):(i=null,j&&h('"g"')),i=i!==null?i:null);if(i!==null){for(var g=[],k=q();k!==null;)g.push(k),
k=q();if(g!==null){k=T();if(k===null){k=a;if(b.substr(a,1)==="N"){var o="N";a+=1}else o=null,j&&h('"N"');o===null&&(b.substr(a,1)==="n"?(o="n",a+=1):(o=null,j&&h('"n"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="A"){var t="A";a+=1}else t=null,j&&h('"A"');t===null&&(b.substr(a,1)==="a"?(t="a",a+=1):(t=null,j&&h('"a"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="M"){var s="M";a+=1}else s=null,j&&h('"M"');s===null&&(b.substr(a,1)==="m"?(s="m",a+=1):(s=null,j&&h('"m"')),s=s!==null?
s:null);if(s!==null){if(b.substr(a,1)==="E"){var w="E";a+=1}else w=null,j&&h('"E"');w===null&&(b.substr(a,1)==="e"?(w="e",a+=1):(w=null,j&&h('"e"')),w=w!==null?w:null);if(w!==null){if(b.substr(a,1)==="D"){var D="D";a+=1}else D=null,j&&h('"D"');D===null&&(b.substr(a,1)==="d"?(D="d",a+=1):(D=null,j&&h('"d"')),D=D!==null?D:null);if(D!==null){for(var y=[],z=q();z!==null;)y.push(z),z=q();y!==null?(z=T(),z!==null?o=[o,t,s,w,D,y,z]:(o=null,a=k)):(o=null,a=k)}else o=null,a=k}else o=null,a=k}else o=null,a=
k}else o=null,a=k}else o=null,a=k;k=o!==null?o:null}k!==null?d=[d,u,n,r,x,i,g,k]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[7].length!=null?{kind:"named",uri:d[7][6]}:{kind:"default",uri:d[7]}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[42] UsingClause");A[c]={nextPos:a,result:f};return f}function Ia(){var c="GraphRef@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)===
"G"){var d="G";a+=1}else d=null,j&&h('"G"');d===null&&(b.substr(a,1)==="g"?(d="g",a+=1):(d=null,j&&h('"g"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var u="R";a+=1}else u=null,j&&h('"R"');u===null&&(b.substr(a,1)==="r"?(u="r",a+=1):(u=null,j&&h('"r"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="A"){var n="A";a+=1}else n=null,j&&h('"A"');n===null&&(b.substr(a,1)==="a"?(n="a",a+=1):(n=null,j&&h('"a"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="P"){var r="P";a+=1}else r=
null,j&&h('"P"');r===null&&(b.substr(a,1)==="p"?(r="p",a+=1):(r=null,j&&h('"p"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="H"){var x="H";a+=1}else x=null,j&&h('"H"');x===null&&(b.substr(a,1)==="h"?(x="h",a+=1):(x=null,j&&h('"h"')),x=x!==null?x:null);if(x!==null){for(var i=[],g=q();g!==null;)i.push(g),g=q();i!==null?(g=T(),g!==null?d=[d,u,n,r,x,i,g]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?d[6]:null;f===null&&(f=
null,a=m);(j=e)&&f===null&&h("[43] GraphRef");A[c]={nextPos:a,result:f};return f}function $a(){var c="GraphRefAll@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=Ia(),f=f!==null?f:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;if(b.substr(a,1)==="D"){var d="D";a+=1}else d=null,j&&h('"D"');d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var u="E";a+=1}else u=null,j&&h('"E"');u===null&&(b.substr(a,1)==="e"?
(u="e",a+=1):(u=null,j&&h('"e"')),u=u!==null?u:null);if(u!==null){if(b.substr(a,1)==="F"){var n="F";a+=1}else n=null,j&&h('"F"');n===null&&(b.substr(a,1)==="f"?(n="f",a+=1):(n=null,j&&h('"f"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,j&&h('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,j&&h('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="U"){var x="U";a+=1}else x=null,j&&h('"U"');x===null&&(b.substr(a,1)==="u"?(x="u",a+=1):(x=null,
j&&h('"u"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="L"){var i="L";a+=1}else i=null,j&&h('"L"');i===null&&(b.substr(a,1)==="l"?(i="l",a+=1):(i=null,j&&h('"l"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="T"){var g="T";a+=1}else g=null,j&&h('"T"');g===null&&(b.substr(a,1)==="t"?(g="t",a+=1):(g=null,j&&h('"t"')),g=g!==null?g:null);g!==null?d=[d,u,n,r,x,i,g]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?"default":
null;f===null&&(f=null,a=m);f!==null?m=f:(f=m=a,b.substr(a,1)==="N"?(d="N",a+=1):(d=null,j&&h('"N"')),d===null&&(b.substr(a,1)==="n"?(d="n",a+=1):(d=null,j&&h('"n"')),d=d!==null?d:null),d!==null?(b.substr(a,1)==="A"?(u="A",a+=1):(u=null,j&&h('"A"')),u===null&&(b.substr(a,1)==="a"?(u="a",a+=1):(u=null,j&&h('"a"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="M"?(n="M",a+=1):(n=null,j&&h('"M"')),n===null&&(b.substr(a,1)==="m"?(n="m",a+=1):(n=null,j&&h('"m"')),n=n!==null?n:null),n!==null?(b.substr(a,
1)==="E"?(r="E",a+=1):(r=null,j&&h('"E"')),r===null&&(b.substr(a,1)==="e"?(r="e",a+=1):(r=null,j&&h('"e"')),r=r!==null?r:null),r!==null?(b.substr(a,1)==="D"?(x="D",a+=1):(x=null,j&&h('"D"')),x===null&&(b.substr(a,1)==="d"?(x="d",a+=1):(x=null,j&&h('"d"')),x=x!==null?x:null),x!==null?d=[d,u,n,r,x]:(d=null,a=f)):(d=null,a=f)):(d=null,a=f)):(d=null,a=f)):(d=null,a=f),f=d!==null?"named":null,f===null&&(f=null,a=m),f!==null?m=f:(f=m=a,b.substr(a,1)==="A"?(d="A",a+=1):(d=null,j&&h('"A"')),d===null&&(b.substr(a,
1)==="a"?(d="a",a+=1):(d=null,j&&h('"a"')),d=d!==null?d:null),d!==null?(b.substr(a,1)==="L"?(u="L",a+=1):(u=null,j&&h('"L"')),u===null&&(b.substr(a,1)==="l"?(u="l",a+=1):(u=null,j&&h('"l"')),u=u!==null?u:null),u!==null?(b.substr(a,1)==="L"?(n="L",a+=1):(n=null,j&&h('"L"')),n===null&&(b.substr(a,1)==="l"?(n="l",a+=1):(n=null,j&&h('"l"')),n=n!==null?n:null),n!==null?d=[d,u,n]:(d=null,a=f)):(d=null,a=f)):(d=null,a=f),f=d!==null?"all":null,f===null&&(f=null,a=m),m=f!==null?f:null))}(j=e)&&m===null&&h("[44] GraphRefAll");
A[c]={nextPos:a,result:m};return m}function eb(){var c="QuadPattern@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="{"?(u="{",a+=1):(u=null,j&&h('"{"')),u!==null){for(var n=[],r=q();r!==null;)n.push(r),r=q();if(n!==null)if(r=fb(),r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(b.substr(a,1)==="}"?(i="}",a+=1):(i=null,j&&h('"}"')),i!==null){for(var g=[],k=q();k!==null;)g.push(k),k=q();g!==
null?d=[d,u,n,r,x,i,g]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[3].quadsContext:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[45] QuadPattern");A[c]={nextPos:a,result:f};return f}function ab(){var c="QuadData@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="{"?(u="{",a+=1):(u=null,j&&h('"{"')),u!==null){for(var n=[],r=q();r!==
null;)n.push(r),r=q();if(n!==null)if(r=fb(),r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();if(x!==null)if(b.substr(a,1)==="}"?(i="}",a+=1):(i=null,j&&h('"}"')),i!==null){for(var g=[],k=q();k!==null;)g.push(k),k=q();g!==null?d=[d,u,n,r,x,i,g]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[3].quadsContext:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[46] QuadData");A[c]={nextPos:a,result:f};return f}function fb(){var c=
"Quads@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=na(),d=d!==null?d:"";if(d!==null){var u=[],n=a,r=gb();if(r!==null){if(b.substr(a,1)==="."){var x=".";a+=1}else x=null,j&&h('"."');x=x!==null?x:"";if(x!==null){var i=na(),i=i!==null?i:"";i!==null?r=[r,x,i]:(r=null,a=n)}else r=null,a=n}else r=null,a=n;for(;r!==null;)u.push(r),n=a,r=gb(),r!==null?(b.substr(a,1)==="."?(x=".",a+=1):(x=null,j&&h('"."')),x=x!==null?x:"",x!==null?(i=na(),i=i!==null?i:"",i!==null?r=[r,x,i]:(r=null,a=
n)):(r=null,a=n)):(r=null,a=n);u!==null?d=[d,u]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c=[];if(a.triplesContext!=null&&a.triplesContext!=null)for(var d=0;d<a.triplesContext.length;d++){var f=a.triplesContext[d];f.graph=null;c.push(f)}if(b&&b.length>0&&b[0].length>0&&(c=c.concat(b[0][0].quadsContext),b[0][2]!=null&&b[0][2].triplesContext!=null))for(d=0;d<b[0][2].triplesContext.length;d++)f=b[0][2].triplesContext[d],f.graph=null,c.push(f);return{token:"quads",quadsContext:c}}(d[0],
d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[47] Quads");A[c]={nextPos:a,result:f};return f}function gb(){var c="QuadsNotTriples@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="G"?(u="G",a+=1):(u=null,j&&h('"G"')),u===null&&(b.substr(a,1)==="g"?(u="g",a+=1):(u=null,j&&h('"g"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="R"){var n="R";a+=1}else n=null,j&&h('"R"');n===null&&(b.substr(a,1)==="r"?
(n="r",a+=1):(n=null,j&&h('"r"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,j&&h('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,j&&h('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="P"){var x="P";a+=1}else x=null,j&&h('"P"');x===null&&(b.substr(a,1)==="p"?(x="p",a+=1):(x=null,j&&h('"p"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="H"){var i="H";a+=1}else i=null,j&&h('"H"');i===null&&(b.substr(a,1)==="h"?(i="h",a+=1):(i=null,
j&&h('"h"')),i=i!==null?i:null);if(i!==null){for(var g=[],k=q();k!==null;)g.push(k),k=q();if(g!==null)if(k=ha(),k!==null){for(var o=[],t=q();t!==null;)o.push(t),t=q();if(o!==null)if(b.substr(a,1)==="{"?(t="{",a+=1):(t=null,j&&h('"{"')),t!==null){for(var s=[],w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=na(),w=w!==null?w:"",w!==null){for(var D=[],y=q();y!==null;)D.push(y),y=q();if(D!==null)if(b.substr(a,1)==="}"?(y="}",a+=1):(y=null,j&&h('"}"')),y!==null){for(var z=[],C=q();C!==null;)z.push(C),
C=q();z!==null?d=[d,u,n,r,x,i,g,k,o,t,s,w,D,y,z]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){for(var c=[],d=0;d<b.triplesContext.length;d++){var f=b.triplesContext[d];f.graph=a;c.push(f)}return{token:"quadsnottriples",quadsContext:c}}(d[7],d[11]):null;f===null&&(f=null,a=m);(j=e)&&f===
null&&h("[48] QuadsNotTriples");A[c]={nextPos:a,result:f};return f}function na(){var c="TriplesTemplate@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=Ja();if(d!==null){for(var u=a,n=[],r=q();r!==null;)n.push(r),r=q();if(n!==null)if(b.substr(a,1)==="."?(r=".",a+=1):(r=null,j&&h('"."')),r!==null){for(var x=[],i=q();i!==null;)x.push(i),i=q();x!==null?(i=na(),i=i!==null?i:"",i!==null?n=[n,r,x,i]:(n=null,a=u)):(n=null,a=u)}else n=null,a=u;else n=null,a=u;u=n!==null?n:"";u!==null?d=
[d,u]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[49] TriplesTemplate");A[c]={nextPos:a,result:f};return f}function X(){var c="GroupGraphPattern@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="{"){var d="{";a+=1}else d=null,
j&&h('"{"');if(d!==null){for(var u=[],n=q();n!==null;)u.push(n),n=q();if(u!==null)if(n=J(),n!==null){for(var r=[],x=q();x!==null;)r.push(x),x=q();r!==null?(b.substr(a,1)==="}"?(x="}",a+=1):(x=null,j&&h('"}"')),x!==null?d=[d,u,n,r,x]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;b.substr(a,1)==="{"?(d="{",a+=1):(d=null,j&&h('"{"'));if(d!==null){u=[];for(n=q();n!==null;)u.push(n),n=q();if(u!==null)if(n=
Gb(),n!==null){r=[];for(x=q();x!==null;)r.push(x),x=q();r!==null?(b.substr(a,1)==="}"?(x="}",a+=1):(x=null,j&&h('"}"')),x!==null?d=[d,u,n,r,x]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=m);m=f!==null?f:null}(j=e)&&m===null&&h("[50] GroupGraphPattern");A[c]={nextPos:a,result:m};return m}function Gb(){var c="GroupGraphPatternSub@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=ma(),d=d!==null?d:"";if(d!==null){for(var u=
[],n=q();n!==null;)u.push(n),n=q();if(u!==null){var n=[],r=a,x=hb();if(x!==null){for(var i=[],g=q();g!==null;)i.push(g),g=q();if(i!==null)if(b.substr(a,1)==="."?(g=".",a+=1):(g=null,j&&h('"."')),g=g!==null?g:"",g!==null){for(var k=[],o=q();o!==null;)k.push(o),o=q();k!==null?(o=ma(),o=o!==null?o:"",o!==null?x=[x,i,g,k,o]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;else x=null,a=r}else x=null,a=r;for(;x!==null;)if(n.push(x),r=a,x=hb(),x!==null){i=[];for(g=q();g!==null;)i.push(g),g=q();if(i!==null)if(b.substr(a,
1)==="."?(g=".",a+=1):(g=null,j&&h('"."')),g=g!==null?g:"",g!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();k!==null?(o=ma(),o=o!==null?o:"",o!==null?x=[x,i,g,k,o]:(x=null,a=r)):(x=null,a=r)}else x=null,a=r;else x=null,a=r}else x=null,a=r;n!==null?d=[d,u,n]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c=[];a!=null&&a!=[]&&c.push(a);for(var d=0;d<b.length;d++)for(var f=0;f<b[d].length;f++)b[d][f].token!=null&&c.push(b[d][f]);for(var h=[],e=[],j=[],d=0;d<c.length;d++)if(c[d].token!=
"triplespattern"&&c[d].token!="filter"){if(e.length!=0||j.length!=0){for(var n=[],f=0;f<e.length;f++)n=n.concat(e[f].triplesContext);n.length>0&&h.push({token:"basicgraphpattern",triplesContext:n});e=[]}h.push(c[d])}else c[d].token==="triplespattern"?e.push(c[d]):j.push(c[d]);if(e.length!=0||j.length!=0){n=[];for(f=0;f<e.length;f++)n=n.concat(e[f].triplesContext);n.length>0&&h.push({token:"basicgraphpattern",triplesContext:n})}return{token:"groupgraphpattern",patterns:h,filters:j}}(d[0],d[2]):null;
f===null&&(f=null,a=m);(j=e)&&f===null&&h("[51] GroupGraphPatternSub");A[c]={nextPos:a,result:f};return f}function ma(){var c="TriplesBlock@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=Ja();if(d!==null){for(var u=a,n=[],r=q();r!==null;)n.push(r),r=q();if(n!==null)if(b.substr(a,1)==="."?(r=".",a+=1):(r=null,j&&h('"."')),r!==null){var x=ma(),x=x!==null?x:"";x!==null?n=[n,r,x]:(n=null,a=u)}else n=null,a=u;else n=null,a=u;u=n!==null?n:"";u!==null?d=[d,u]:(d=null,a=f)}else d=null,
a=f;f=d!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[2].triplesContext!=null&&(c=c.concat(b[2].triplesContext));return{token:"triplespattern",triplesContext:c}}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[54] TriplesBlock");A[c]={nextPos:a,result:f};return f}function hb(){var b="GraphPatternNotTriples@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=Hb();e===null&&(e=Ib(),e===null&&(e=Jb(),e===null&&(e=Kb(),e===null&&(e=Lb(),e===null&&
(e=Mb(),e=e!==null?e:null)))));(j=c)&&e===null&&h("[53] GraphPatternNotTriples");A[b]={nextPos:a,result:e};return e}function Ib(){var c="OptionalGraphPattern@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,8)==="OPTIONAL"?(u="OPTIONAL",a+=8):(u=null,j&&h('"OPTIONAL"')),u!==null){for(var n=[],r=q();r!==null;)n.push(r),r=q();n!==null?(r=X(),r!==null?d=[d,u,n,r]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,
a=f;f=d!==null?{token:"optionalgraphpattern",value:d[3]}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[54] OptionalGraphPattern");A[c]={nextPos:a,result:f};return f}function Kb(){var c="GraphGraphPattern@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="G"?(u="G",a+=1):(u=null,j&&h('"G"')),u===null&&(b.substr(a,1)==="g"?(u="g",a+=1):(u=null,j&&h('"g"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="R"){var n=
"R";a+=1}else n=null,j&&h('"R"');n===null&&(b.substr(a,1)==="r"?(n="r",a+=1):(n=null,j&&h('"r"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="A"){var r="A";a+=1}else r=null,j&&h('"A"');r===null&&(b.substr(a,1)==="a"?(r="a",a+=1):(r=null,j&&h('"a"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="P"){var x="P";a+=1}else x=null,j&&h('"P"');x===null&&(b.substr(a,1)==="p"?(x="p",a+=1):(x=null,j&&h('"p"')),x=x!==null?x:null);if(x!==null){if(b.substr(a,1)==="H"){var i="H";a+=1}else i=null,
j&&h('"H"');i===null&&(b.substr(a,1)==="h"?(i="h",a+=1):(i=null,j&&h('"h"')),i=i!==null?i:null);if(i!==null){for(var g=[],k=q();k!==null;)g.push(k),k=q();if(g!==null)if(k=ha(),k!==null){for(var o=[],t=q();t!==null;)o.push(t),t=q();o!==null?(t=X(),t!==null?d=[d,u,n,r,x,i,g,k,o,t]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){for(var c=0;c<b.patterns.length;c++)for(var d=
b.patterns[c],f=0;f<d.triplesContext.length;f++)d.triplesContext[f].graph=a;b.token="groupgraphpattern";return b}(d[7],d[9]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[55] GraphGraphPattern");A[c]={nextPos:a,result:f};return f}function Lb(){var c="ServiceGraphPattern@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,7)==="SERVICE"){var d="SERVICE";a+=7}else d=null,j&&h('"SERVICE"');if(d!==null){var u=ha();if(u!==null){var n=X();n!==null?d=[d,u,n]:(d=null,a=f)}else d=
null,a=f}else d=null,a=f;f=d!==null?{token:"servicegraphpattern",status:"todo",value:[d[1],d[2]]}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[56] ServiceGraphPattern");A[c]={nextPos:a,result:f};return f}function Jb(){var c="MinusGraphPattern@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,5)==="MINUS"){var d="MINUS";a+=5}else d=null,j&&h('"MINUS"');if(d!==null){var u=X();u!==null?d=[d,u]:(d=null,a=f)}else d=null,a=f;f=d!==null?{token:"minusgraphpattern",status:"todo",
value:d[1]}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[57] MinusGraphPattern");A[c]={nextPos:a,result:f};return f}function Hb(){var c="GroupOrUnionGraphPattern@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=X();if(d!==null){for(var u=[],n=a,r=[],i=q();i!==null;)r.push(i),i=q();if(r!==null)if(b.substr(a,1)==="U"?(i="U",a+=1):(i=null,j&&h('"U"')),i===null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,j&&h('"u"')),i=i!==null?i:null),i!==null){if(b.substr(a,1)==="N"){var g="N";
a+=1}else g=null,j&&h('"N"');g===null&&(b.substr(a,1)==="n"?(g="n",a+=1):(g=null,j&&h('"n"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="I"){var k="I";a+=1}else k=null,j&&h('"I"');k===null&&(b.substr(a,1)==="i"?(k="i",a+=1):(k=null,j&&h('"i"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="O"){var o="O";a+=1}else o=null,j&&h('"O"');o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,j&&h('"o"')),o=o!==null?o:null);if(o!==null){if(b.substr(a,1)==="N"){var t="N";a+=1}else t=null,j&&h('"N"');
t===null&&(b.substr(a,1)==="n"?(t="n",a+=1):(t=null,j&&h('"n"')),t=t!==null?t:null);if(t!==null){for(var s=[],B=q();B!==null;)s.push(B),B=q();s!==null?(B=X(),B!==null?r=[r,i,g,k,o,t,s,B]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n}else r=null,a=n}else r=null,a=n}else r=null,a=n}else r=null,a=n;else r=null,a=n;for(;r!==null;){u.push(r);n=a;r=[];for(i=q();i!==null;)r.push(i),i=q();if(r!==null)if(b.substr(a,1)==="U"?(i="U",a+=1):(i=null,j&&h('"U"')),i===null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,
j&&h('"u"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="N"?(g="N",a+=1):(g=null,j&&h('"N"')),g===null&&(b.substr(a,1)==="n"?(g="n",a+=1):(g=null,j&&h('"n"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="I"?(k="I",a+=1):(k=null,j&&h('"I"')),k===null&&(b.substr(a,1)==="i"?(k="i",a+=1):(k=null,j&&h('"i"')),k=k!==null?k:null),k!==null)if(b.substr(a,1)==="O"?(o="O",a+=1):(o=null,j&&h('"O"')),o===null&&(b.substr(a,1)==="o"?(o="o",a+=1):(o=null,j&&h('"o"')),o=o!==null?o:null),o!==null)if(b.substr(a,
1)==="N"?(t="N",a+=1):(t=null,j&&h('"N"')),t===null&&(b.substr(a,1)==="n"?(t="n",a+=1):(t=null,j&&h('"n"')),t=t!==null?t:null),t!==null){s=[];for(B=q();B!==null;)s.push(B),B=q();s!==null?(B=X(),B!==null?r=[r,i,g,k,o,t,s,B]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n;else r=null,a=n;else r=null,a=n;else r=null,a=n;else r=null,a=n}u!==null?d=[d,u]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;else{for(var c={token:"graphunionpattern",value:[a]},d=0;d<
b.length;d++)d==b.length-1?c.value.push(b[d][7]):(c.value.push(b[d][7]),c={token:"graphunionpattern",value:[c]});return c}}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[58] GroupOrUnionGraphPattern");A[c]={nextPos:a,result:f};return f}function Mb(){var c="Filter@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;for(var m=a,f=a,d=[],u=q();u!==null;)d.push(u),u=q();if(d!==null)if(b.substr(a,1)==="F"?(u="F",a+=1):(u=null,j&&h('"F"')),u===null&&(b.substr(a,1)==="f"?(u="f",a+=1):(u=null,
j&&h('"f"')),u=u!==null?u:null),u!==null){if(b.substr(a,1)==="I"){var n="I";a+=1}else n=null,j&&h('"I"');n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,j&&h('"i"')),n=n!==null?n:null);if(n!==null){if(b.substr(a,1)==="L"){var r="L";a+=1}else r=null,j&&h('"L"');r===null&&(b.substr(a,1)==="l"?(r="l",a+=1):(r=null,j&&h('"l"')),r=r!==null?r:null);if(r!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&h('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&h('"t"')),i=i!==null?
i:null);if(i!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,j&&h('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,j&&h('"e"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="R"){var k="R";a+=1}else k=null,j&&h('"R"');k===null&&(b.substr(a,1)==="r"?(k="r",a+=1):(k=null,j&&h('"r"')),k=k!==null?k:null);if(k!==null){for(var o=[],t=q();t!==null;)o.push(t),t=q();o!==null?(t=xa(),t!==null?d=[d,u,n,r,i,g,k,o,t]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,
a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?{token:"filter",value:d[8]}:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[59] Filter");A[c]={nextPos:a,result:f};return f}function xa(){var b="Constraint@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=Ea();e===null&&(e=Da(),e===null&&(e=Za(),e=e!==null?e:null));(j=c)&&e===null&&h("[60] Constraint");A[b]={nextPos:a,result:e};return e}function Za(){var b="FunctionCall@"+a,c=A[b];if(c)return a=c.nextPos,c.result;
c=j;j=!1;var e=a,f=a,d=T();if(d!==null){var m=ib();m!==null?d=[d,m]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(d[0],d[1]):null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[61] FunctionCall");A[b]={nextPos:a,result:f};return f}function ib(){var c="ArgList@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=ia()!==null?{token:"args",value:[]}:null;f===null&&(f=null,a=m);if(f!==null)m=
f;else{f=m=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&h('"("');if(d!==null){if(b.substr(a,8)==="DISTINCT"){var u="DISTINCT";a+=8}else u=null,j&&h('"DISTINCT"');u=u!==null?u:"";if(u!==null){var n=M();if(n!==null){var r=[],i=a;if(b.substr(a,1)===","){var g=",";a+=1}else g=null,j&&h('","');if(g!==null){var k=M();k!==null?g=[g,k]:(g=null,a=i)}else g=null,a=i;for(;g!==null;)r.push(g),i=a,b.substr(a,1)===","?(g=",",a+=1):(g=null,j&&h('","')),g!==null?(k=M(),k!==null?g=[g,k]:(g=null,a=i)):(g=
null,a=i);r!==null?(b.substr(a,1)===")"?(i=")",a+=1):(i=null,j&&h('")"')),i!==null?d=[d,u,n,r,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){cleanEx=[];for(var d=0;d<c.length;d++)cleanEx.push(c[d][1]);c={token:"args"};c.value=[b].concat(cleanEx);c.distinct=a==="DISTINCT"?!0:!1;return c}(d[1],d[2],d[3]):null;f===null&&(f=null,a=m);m=f!==null?f:null}(j=e)&&m===null&&h("[62] ArgList");A[c]={nextPos:a,result:m};return m}function Nb(){var c="ExpressionList@"+
a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=ia()!==null?{token:"args",value:[]}:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&h('"("');if(d!==null){var u=M();if(u!==null){var n=[],r=a;if(b.substr(a,1)===","){var i=",";a+=1}else i=null,j&&h('","');if(i!==null){var g=M();g!==null?i=[i,g]:(i=null,a=r)}else i=null,a=r;for(;i!==null;)n.push(i),r=a,b.substr(a,1)===","?(i=",",a+=1):(i=null,j&&h('","')),i!==null?(g=M(),g!==null?
i=[i,g]:(i=null,a=r)):(i=null,a=r);n!==null?(b.substr(a,1)===")"?(r=")",a+=1):(r=null,j&&h('")"')),r!==null?d=[d,u,n,r]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){cleanEx=[];for(var c=0;c<b.length;c++)cleanEx.push(b[c][1]);c={token:"args"};c.value=[a].concat(cleanEx);return c}(d[1],d[2]):null;f===null&&(f=null,a=m);m=f!==null?f:null}(j=e)&&m===null&&h("[63] ExpressionList");A[c]={nextPos:a,result:m};return m}function Db(){var c="ConstructTemplate@"+a,e=A[c];
if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="{"){var d="{";a+=1}else d=null,j&&h('"{"');if(d!==null){for(var u=[],n=q();n!==null;)u.push(n),n=q();if(u!==null)if(n=jb(),n=n!==null?n:"",n!==null){for(var r=[],i=q();i!==null;)r.push(i),i=q();r!==null?(b.substr(a,1)==="}"?(i="}",a+=1):(i=null,j&&h('"}"')),i!==null?d=[d,u,n,r,i]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[64] ConstructTemplate");
A[c]={nextPos:a,result:f};return f}function jb(){var c="ConstructTriples@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=Ja();if(d!==null){for(var u=a,n=[],r=q();r!==null;)n.push(r),r=q();if(n!==null)if(b.substr(a,1)==="."?(r=".",a+=1):(r=null,j&&h('"."')),r!==null){for(var i=[],g=q();g!==null;)i.push(g),g=q();i!==null?(g=jb(),g=g!==null?g:"",g!==null?n=[n,r,i,g]:(n=null,a=u)):(n=null,a=u)}else n=null,a=u;else n=null,a=u;u=n!==null?n:"";u!==null?d=[d,u]:(d=null,a=f)}else d=null,
a=f;f=d!==null?function(a,b){var c=a.triplesContext;typeof b==="object"&&b.length!=null&&b[3].triplesContext!=null&&(c=c.concat(b[3].triplesContext));return{token:"triplestemplate",triplesContext:c}}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[65] ConstructTriples");A[c]={nextPos:a,result:f};return f}function Ja(){var b="TriplesSameSubject@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;for(var e=a,f=a,d=[],m=q();m!==null;)d.push(m),m=q();if(d!==null)if(m=kb(),m!==null){for(var n=
[],r=q();r!==null;)n.push(r),r=q();n!==null?(r=ya(),r!==null?d=[d,m,n,r]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){var c=b.triplesContext;if(b.pairs)for(var d=0;d<b.pairs.length;d++){var f=b.pairs[d],h=null;a.token&&a.token==="triplesnodecollection"?(h={subject:a.chainSubject[0],predicate:f[0],object:f[1]},c.push(h),c=c.concat(a.triplesContext)):(h={subject:a,predicate:f[0],object:f[1]},c.push(h))}d={token:"triplessamesubject"};d.triplesContext=c;d.chainSubject=
a;return d}(d[1],d[3]):null;f===null&&(f=null,a=e);if(f!==null)e=f;else{f=e=a;d=[];for(m=q();m!==null;)d.push(m),m=q();if(d!==null)if(m=lb(),m!==null){n=[];for(r=q();r!==null;)n.push(r),r=q();n!==null?(r=Ob(),r!==null?d=[d,m,n,r]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){var c=a.triplesContext,d=a.chainSubject;if(b.pairs)for(var f=0;f<b.pairs.length;f++){var h=b.pairs[f];if(a.token==="triplesnodecollection")for(var e=0;e<d.length;e++){var j=d[e];if(j.triplesContext!=
null){var n={subject:j.chainSubject,predicate:h[0],object:h[1]};c.concat(j.triplesContext)}else n={subject:d[e],predicate:h[0],object:h[1]},c.push(n)}else n={subject:d,predicate:h[0],object:h[1]},c.push(n)}f={token:"triplessamesubject"};f.triplesContext=c;f.chainSubject=d;return f}(d[1],d[3]):null;f===null&&(f=null,a=e);e=f!==null?f:null}(j=c)&&e===null&&h("[66] TriplesSameSubject");A[b]={nextPos:a,result:e};return e}function ya(){var c="PropertyListNotEmpty@"+a,e=A[c];if(e)return a=e.nextPos,e.result;
e=j;j=!1;var m=a,f=a,d=Ka();if(d!==null){for(var i=[],n=q();n!==null;)i.push(n),n=q();if(i!==null)if(n=ja(),n!==null){for(var r=[],g=a,k=[],v=q();v!==null;)k.push(v),v=q();if(k!==null)if(b.substr(a,1)===";"?(v=";",a+=1):(v=null,j&&h('";"')),v!==null){for(var o=[],t=q();t!==null;)o.push(t),t=q();if(o!==null){var t=a,s=Ka();if(s!==null){for(var B=[],w=q();w!==null;)B.push(w),w=q();B!==null?(w=ja(),w!==null?s=[s,B,w]:(s=null,a=t)):(s=null,a=t)}else s=null,a=t;t=s!==null?s:"";t!==null?k=[k,v,o,t]:(k=
null,a=g)}else k=null,a=g}else k=null,a=g;else k=null,a=g;for(;k!==null;){r.push(k);g=a;k=[];for(v=q();v!==null;)k.push(v),v=q();if(k!==null)if(b.substr(a,1)===";"?(v=";",a+=1):(v=null,j&&h('";"')),v!==null){o=[];for(t=q();t!==null;)o.push(t),t=q();if(o!==null){t=a;s=Ka();if(s!==null){B=[];for(w=q();w!==null;)B.push(w),w=q();B!==null?(w=ja(),w!==null?s=[s,B,w]:(s=null,a=t)):(s=null,a=t)}else s=null,a=t;t=s!==null?s:"";t!==null?k=[k,v,o,t]:(k=null,a=g)}else k=null,a=g}else k=null,a=g;else k=null,a=
g}r!==null?d=[d,i,n,r]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){token={token:"propertylist"};for(var d=[],f=[],h=0;h<b.length;h++)b[h].triplesContext!=null?(d=d.concat(b[h].triplesContext),b[h].token==="triplesnodecollection"&&b[h].chainSubject.length!=null?f.push([a,b[h].chainSubject[0]]):f.push([a,b[h].chainSubject])):f.push([a,b[h]]);for(h=0;h<c.length;h++)for(var b=c[h][3],a=b[0],b=b[2]||[],e=0;e<b.length;e++)b[e].triplesContext!=null?(d=d.concat(b[e].triplesContext),
f.push([a,b[e].chainSubject])):f.push([a,b[e]]);token.pairs=f;token.triplesContext=d;return token}(d[0],d[2],d[3]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[67] PropertyListNotEmpty");A[c]={nextPos:a,result:f};return f}function Ob(){var b="PropertyList@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=ya(),e=e!==null?e:"";(j=c)&&e===null&&h("[68] PropertyList");A[b]={nextPos:a,result:e};return e}function ja(){var c="ObjectList@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=
a,f=a,d=oa();if(d!==null){for(var i=[],n=q();n!==null;)i.push(n),n=q();if(i!==null){var n=[],r=a;if(b.substr(a,1)===","){var g=",";a+=1}else g=null,j&&h('","');if(g!==null){for(var k=[],o=q();o!==null;)k.push(o),o=q();k!==null?(o=oa(),o!==null?g=[g,k,o]:(g=null,a=r)):(g=null,a=r)}else g=null,a=r;for(;g!==null;)if(n.push(g),r=a,b.substr(a,1)===","?(g=",",a+=1):(g=null,j&&h('","')),g!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();k!==null?(o=oa(),o!==null?g=[g,k,o]:(g=null,a=r)):(g=null,a=r)}else g=
null,a=r;n!==null?d=[d,i,n]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c=[];c.push(a);for(var d=0;d<b.length;d++)for(var f=0;f<b[d].length;f++)typeof b[d][f]=="object"&&b[d][f].token!=null&&c.push(b[d][f]);return c}(d[0],d[2]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[69] ObjectList");A[c]={nextPos:a,result:f};return f}function Ka(){var c="Verb@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=ha();if(m===null){m=a;if(b.substr(a,1)==="a"){var f="a";a+=
1}else f=null,j&&h('"a"');f=f!==null?{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}:null;f===null&&(f=null,a=m);m=f!==null?f:null}(j=e)&&m===null&&h("[71] Verb");A[c]={nextPos:a,result:m};return m}function La(){var b="VerbPath@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=mb(),f=f!==null?f:null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[75]");A[b]={nextPos:a,result:f};return f}function mb(){var c="PathAlternative@"+a,e=A[c];if(e)return a=
e.nextPos,e.result;e=j;j=!1;var m=a,f=Ma();if(f!==null){var d=[],i=a;if(b.substr(a,1)==="|"){var n="|";a+=1}else n=null,j&&h('"|"');if(n!==null){var r=Ma();r!==null?n=[n,r]:(n=null,a=i)}else n=null,a=i;for(;n!==null;)d.push(n),i=a,b.substr(a,1)==="|"?(n="|",a+=1):(n=null,j&&h('"|"')),n!==null?(r=Ma(),r!==null?n=[n,r]:(n=null,a=i)):(n=null,a=i);d!==null?f=[f,d]:(f=null,a=m)}else f=null,a=m;(j=e)&&f===null&&h("[78] PathAlternative");A[c]={nextPos:a,result:f};return f}function Ma(){var c="PathSequence@"+
a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=Na();if(f!==null){var d=[],i=a;if(b.substr(a,1)==="/"){var n="/";a+=1}else n=null,j&&h('"/"');if(n!==null){var r=Na();r!==null?n=[n,r]:(n=null,a=i)}else n=null,a=i;for(;n!==null;)d.push(n),i=a,b.substr(a,1)==="/"?(n="/",a+=1):(n=null,j&&h('"/"')),n!==null?(r=Na(),r!==null?n=[n,r]:(n=null,a=i)):(n=null,a=i);d!==null?f=[f,d]:(f=null,a=m)}else f=null,a=m;(j=e)&&f===null&&h("[79] PathSequence");A[c]={nextPos:a,result:f};return f}function nb(){var b=
"PathElt@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=Pb();if(f!==null){var d=Qb(),d=d!==null?d:"";d!==null?f=[f,d]:(f=null,a=e)}else f=null,a=e;(j=c)&&f===null&&h("[88] PathElt");A[b]={nextPos:a,result:f};return f}function Na(){var c="PathEltOrInverse@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=nb();if(m===null){m=a;if(b.substr(a,1)==="^"){var f="^";a+=1}else f=null,j&&h('"^"');if(f!==null){var d=nb();d!==null?f=[f,d]:(f=null,a=m)}else f=null,a=m;m=f!==null?f:null}(j=
e)&&m===null&&h("[81] PathEltOrInverse");A[c]={nextPos:a,result:m};return m}function Qb(){var c="PathMod@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;if(b.substr(a,1)==="*"){var m="*";a+=1}else m=null,j&&h('"*"');if(m===null&&(b.substr(a,1)==="?"?(m="?",a+=1):(m=null,j&&h('"?"')),m===null&&(b.substr(a,1)==="+"?(m="+",a+=1):(m=null,j&&h('"+"')),m===null))){m=a;if(b.substr(a,1)==="{"){var f="{";a+=1}else f=null,j&&h('"{"');if(f!==null){var d=a,i=ca();if(i!==null){var n=a;if(b.substr(a,1)===
","){var r=",";a+=1}else r=null,j&&h('","');if(r!==null){if(b.substr(a,1)==="}"){var g="}";a+=1}else g=null,j&&h('"}"');if(g===null){var g=a,k=ca();if(k!==null){if(b.substr(a,1)==="}"){var q="}";a+=1}else q=null,j&&h('"}"');q!==null?k=[k,q]:(k=null,a=g)}else k=null,a=g;g=k!==null?k:null}g!==null?r=[r,g]:(r=null,a=n)}else r=null,a=n;r!==null?n=r:(b.substr(a,1)==="}"?(n="}",a+=1):(n=null,j&&h('"}"')),n=n!==null?n:null);n!==null?i=[i,n]:(i=null,a=d)}else i=null,a=d;i!==null?d=i:(d=a,b.substr(a,1)===
","?(i=",",a+=1):(i=null,j&&h('","')),i!==null?(n=ca(),n!==null?(b.substr(a,1)==="}"?(r="}",a+=1):(r=null,j&&h('"}"')),r!==null?i=[i,n,r]:(i=null,a=d)):(i=null,a=d)):(i=null,a=d),d=i!==null?i:null);d!==null?f=[f,d]:(f=null,a=m)}else f=null,a=m;m=f!==null?f:null}(j=e)&&m===null&&h("[82] PathMod");A[c]={nextPos:a,result:m};return m}function Pb(){var c="PathPrimary@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=T();if(m===null&&(b.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&h('"a"')),m===null)){m=
a;if(b.substr(a,1)==="!"){var f="!";a+=1}else f=null,j&&h('"!"');if(f!==null){var d=Rb();d!==null?f=[f,d]:(f=null,a=m)}else f=null,a=m;if(f!==null)m=f;else{m=a;b.substr(a,1)==="("?(f="(",a+=1):(f=null,j&&h('"("'));if(f!==null)if(d=mb(),d!==null){if(b.substr(a,1)===")"){var i=")";a+=1}else i=null,j&&h('")"');i!==null?f=[f,d,i]:(f=null,a=m)}else f=null,a=m;else f=null,a=m;m=f!==null?f:null}}(j=e)&&m===null&&h("[83] PathPrimary");A[c]={nextPos:a,result:m};return m}function Rb(){var c="PathNegatedPropertySet@"+
a,e=A[c];if(e)return a=e.nextPos,e.result;e=za();if(e===null){e=a;if(b.substr(a,1)==="("){var m="(";a+=1}else m=null,j&&h('"("');if(m!==null){var f=a,d=za();if(d!==null){var i=[],n=a;if(b.substr(a,1)==="|"){var r="|";a+=1}else r=null,j&&h('"|"');if(r!==null){var g=za();g!==null?r=[r,g]:(r=null,a=n)}else r=null,a=n;for(;r!==null;)i.push(r),n=a,b.substr(a,1)==="|"?(r="|",a+=1):(r=null,j&&h('"|"')),r!==null?(g=za(),g!==null?r=[r,g]:(r=null,a=n)):(r=null,a=n);i!==null?d=[d,i]:(d=null,a=f)}else d=null,
a=f;f=d!==null?d:"";f!==null?(b.substr(a,1)===")"?(d=")",a+=1):(d=null,j&&h('")"')),d!==null?m=[m,f,d]:(m=null,a=e)):(m=null,a=e)}else m=null,a=e;e=m!==null?m:null}A[c]={nextPos:a,result:e};return e}function za(){var c="PathOneInPropertySet@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=T();if(m===null&&(b.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&h('"a"')),m===null)){m=a;if(b.substr(a,1)==="^"){var f="^";a+=1}else f=null,j&&h('"^"');if(f!==null){var d=T();d===null&&(b.substr(a,1)==="a"?
(d="a",a+=1):(d=null,j&&h('"a"')),d=d!==null?d:null);d!==null?f=[f,d]:(f=null,a=m)}else f=null,a=m;m=f!==null?f:null}(j=e)&&m===null&&h("[85] PathOneInPropertySet");A[c]={nextPos:a,result:m};return m}function lb(){var b="TriplesNode@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=Sb(),f=f!==null?function(a){triplesContext=[];chainSubject=[];for(var b=null,c=0;c<a.length;c++)ea++,b=null,a[c].chainSubject==null&&a[c].triplesContext==null?b=a[c]:(b=a[c].chainSubject,triplesContext=triplesContext.concat(nextSubject.triplesContext)),
b={subject:{token:"blank",label:"_:"+ea},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:b},c==0&&chainSubject.push(b.subject),triplesContext.push(b),b=c===a.length-1?{subject:{token:"blank",label:"_:"+ea},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",label:"_:"+
ea},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",label:"_:"+(ea+1)}},triplesContext.push(b);return{token:"triplesnodecollection",triplesContext:triplesContext,chainSubject:chainSubject}}(f):null;f===null&&(f=null,a=e);f!==null?e=f:(e=Tb(),e=e!==null?e:null);(j=c)&&e===null&&h("[87] TriplesNode");A[b]={nextPos:a,result:e};return e}function Tb(){var c="BlankNodePropertyList@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=
j;j=!1;for(var m=a,f=a,d=[],i=q();i!==null;)d.push(i),i=q();if(d!==null)if(b.substr(a,1)==="["?(i="[",a+=1):(i=null,j&&h('"["')),i!==null){for(var n=[],r=q();r!==null;)n.push(r),r=q();if(n!==null)if(r=ya(),r!==null){for(var g=[],k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="]"?(k="]",a+=1):(k=null,j&&h('"]"')),k!==null){for(var o=[],t=q();t!==null;)o.push(t),t=q();o!==null?d=[d,i,n,r,g,k,o]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,
a=f;else d=null,a=f;f=d!==null?function(a){ea++;for(var b={token:"blank",label:""+ea},c=[],d=0;d<a.pairs.length;d++){var f=a.pairs[d],h={};h.subject=b;h.predicate=f[0];h.object=f[1];c.push(h)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:a.triplesContext.concat(c),chainSubject:b}}(d[3]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[88] BlankNodePropertyList");A[c]={nextPos:a,result:f};return f}function Sb(){var c="Collection@"+a,e=A[c];if(e)return a=e.nextPos,e.result;
e=j;j=!1;for(var m=a,f=a,d=[],i=q();i!==null;)d.push(i),i=q();if(d!==null)if(b.substr(a,1)==="("?(i="(",a+=1):(i=null,j&&h('"("')),i!==null){for(var n=[],r=q();r!==null;)n.push(r),r=q();if(n!==null){var g=oa();if(g!==null)for(r=[];g!==null;)r.push(g),g=oa();else r=null;if(r!==null){for(var g=[],k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)===")"?(k=")",a+=1):(k=null,j&&h('")"')),k!==null){for(var o=[],t=q();t!==null;)o.push(t),t=q();o!==null?d=[d,i,n,r,g,k,o]:(d=null,a=f)}else d=null,
a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f;f=d!==null?d[3]:null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[89] Collection");A[c]={nextPos:a,result:f};return f}function oa(){var b="GraphNode@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;for(var e=a,f=a,d=[],m=q();m!==null;)d.push(m),m=q();if(d!==null)if(m=kb(),m!==null){for(var n=[],i=q();i!==null;)n.push(i),i=q();n!==null?d=[d,m,n]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;if(d!==null)f=d;else{f=
a;d=[];for(m=q();m!==null;)d.push(m),m=q();if(d!==null)if(m=lb(),m!==null){n=[];for(i=q();i!==null;)n.push(i),i=q();n!==null?d=[d,m,n]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;f=d!==null?d:null}f=f!==null?f[1]:null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[90] GraphNode");A[b]={nextPos:a,result:f};return f}function kb(){var b="VarOrTerm@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=S();e===null&&(e=Ub(),e=e!==null?e:null);(j=c)&&e===null&&h("[91] VarOrTerm");A[b]={nextPos:a,result:e};
return e}function ha(){var b="VarOrIRIref@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=S();e===null&&(e=T(),e=e!==null?e:null);(j=c)&&e===null&&h("[92] VarOrIRIref");A[b]={nextPos:a,result:e};return e}function S(){var b="Var@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=Vb();f===null&&(f=Wb(),f=f!==null?f:null);f=f!==null?function(a){var b={token:"var"};b.value=a;return b}(f):null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[93] Var");A[b]={nextPos:a,result:f};return f}
function Ub(){var b="GraphTerm@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=T();e===null&&(e=Fa(),e===null&&(e=Ga(),e===null&&(e=Ha(),e===null&&(e=Xb(),e===null&&(e=ia(),e=e!==null?e:null)))));(j=c)&&e===null&&h("[94] GraphTerm");A[b]={nextPos:a,result:e};return e}function M(){var c="ConditionalOrExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=Oa();if(d!==null){for(var i=[],n=a,r=[],g=q();g!==null;)r.push(g),g=q();if(r!==null)if(b.substr(a,2)==="||"?(g=
"||",a+=2):(g=null,j&&h('"||"')),g!==null){for(var k=[],o=q();o!==null;)k.push(o),o=q();k!==null?(o=Oa(),o!==null?r=[r,g,k,o]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n;for(;r!==null;){i.push(r);n=a;r=[];for(g=q();g!==null;)r.push(g),g=q();if(r!==null)if(b.substr(a,2)==="||"?(g="||",a+=2):(g=null,j&&h('"||"')),g!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();k!==null?(o=Oa(),o!==null?r=[r,g,k,o]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n}i!==null?d=[d,i]:(d=null,
a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionalor"},d=[a],f=0;f<b.length;f++)d.push(b[f][3]);c.operands=d;return c}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[96] ConditionalOrExpression");A[c]={nextPos:a,result:f};return f}function Oa(){var c="ConditionalAndExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=Pa();if(d!==null){for(var i=[],n=a,r=[],g=q();g!==null;)r.push(g),
g=q();if(r!==null)if(b.substr(a,2)==="&&"?(g="&&",a+=2):(g=null,j&&h('"&&"')),g!==null){for(var k=[],o=q();o!==null;)k.push(o),o=q();k!==null?(o=Pa(),o!==null?r=[r,g,k,o]:(r=null,a=n)):(r=null,a=n)}else r=null,a=n;else r=null,a=n;for(;r!==null;){i.push(r);n=a;r=[];for(g=q();g!==null;)r.push(g),g=q();if(r!==null)if(b.substr(a,2)==="&&"?(g="&&",a+=2):(g=null,j&&h('"&&"')),g!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();k!==null?(o=Pa(),o!==null?r=[r,g,k,o]:(r=null,a=n)):(r=null,a=n)}else r=null,
a=n;else r=null,a=n}i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;for(var c={token:"expression",expressionType:"conditionaland"},d=[a],f=0;f<b.length;f++)d.push(b[f][3]);c.operands=d;return c}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[97] ConditionalAndExpression");A[c]={nextPos:a,result:f};return f}function Pa(){var c="RelationalExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=V();if(d!==null){for(var i=
[],n=a,g=[],k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="="?(k="=",a+=1):(k=null,j&&h('"="')),k!==null){for(var o=[],v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,2)==="!="?(k="!=",a+=2):(k=null,j&&h('"!="')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):
(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="<"?(k="<",a+=1):(k=null,j&&h('"<"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)===">"?(k=">",a+=1):(k=null,j&&h('">"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),
v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,2)==="<="?(k="<=",a+=2):(k=null,j&&h('"<="')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,2)===">="?(k=">=",a+=2):
(k=null,j&&h('">="')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;n=g!==null?g:null}}}}}for(;n!==null;){i.push(n);n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="="?(k="=",a+=1):(k=null,j&&h('"="')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=
a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,2)==="!="?(k="!=",a+=2):(k=null,j&&h('"!="')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="<"?(k="<",a+=1):(k=null,j&&h('"<"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=
null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)===">"?(k=">",a+=1):(k=null,j&&h('">"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,2)==="<="?(k="<=",a+=2):(k=null,j&&h('"<="')),k!==null){o=[];for(v=q();v!==null;)o.push(v),
v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,2)===">="?(k=">=",a+=2):(k=null,j&&h('">="')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=V(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;n=g!==null?g:null}}}}}}i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;
else{var c={expressionType:"relationalexpression"};c.operator=b[0][1];c.op1=a;c.op2=b[0][3];c.token="expression";return c}}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[99] RelationalExpression");A[c]={nextPos:a,result:f};return f}function V(){var c="AdditiveExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=pa();if(d!==null){for(var g=[],n=a,i=[],k=q();k!==null;)i.push(k),k=q();if(i!==null)if(b.substr(a,1)==="+"?(k="+",a+=1):(k=null,j&&h('"+"')),k!==null){for(var o=
[],v=q();v!==null;)o.push(v),v=q();o!==null?(v=pa(),v!==null?i=[i,k,o,v]:(i=null,a=n)):(i=null,a=n)}else i=null,a=n;else i=null,a=n;if(i!==null)n=i;else{n=a;i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(b.substr(a,1)==="-"?(k="-",a+=1):(k=null,j&&h('"-"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=pa(),v!==null?i=[i,k,o,v]:(i=null,a=n)):(i=null,a=n)}else i=null,a=n;else i=null,a=n;if(i!==null)n=i;else{n=a;i=qa();i===null&&(i=qa(),i=i!==null?i:null);if(i!==null){k=a;
o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)==="*"?(v="*",a+=1):(v=null,j&&h('"*"')),v!==null){for(var t=[],s=q();s!==null;)t.push(s),s=q();t!==null?(s=ba(),s!==null?o=[o,v,t,s]:(o=null,a=k)):(o=null,a=k)}else o=null,a=k;else o=null,a=k;if(o!==null)k=o;else{k=a;o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)==="/"?(v="/",a+=1):(v=null,j&&h('"/"')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();t!==null?(s=ba(),s!==null?o=[o,v,t,s]:(o=null,a=k)):(o=
null,a=k)}else o=null,a=k;else o=null,a=k;k=o!==null?o:null}k=k!==null?k:"";k!==null?i=[i,k]:(i=null,a=n)}else i=null,a=n;n=i!==null?i:null}}for(;n!==null;){g.push(n);n=a;i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(b.substr(a,1)==="+"?(k="+",a+=1):(k=null,j&&h('"+"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=pa(),v!==null?i=[i,k,o,v]:(i=null,a=n)):(i=null,a=n)}else i=null,a=n;else i=null,a=n;if(i!==null)n=i;else{n=a;i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==
null)if(b.substr(a,1)==="-"?(k="-",a+=1):(k=null,j&&h('"-"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=pa(),v!==null?i=[i,k,o,v]:(i=null,a=n)):(i=null,a=n)}else i=null,a=n;else i=null,a=n;if(i!==null)n=i;else{n=a;i=qa();i===null&&(i=qa(),i=i!==null?i:null);if(i!==null){k=a;o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)==="*"?(v="*",a+=1):(v=null,j&&h('"*"')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();t!==null?(s=ba(),s!==null?o=[o,v,t,s]:(o=null,
a=k)):(o=null,a=k)}else o=null,a=k;else o=null,a=k;if(o!==null)k=o;else{k=a;o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)==="/"?(v="/",a+=1):(v=null,j&&h('"/"')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();t!==null?(s=ba(),s!==null?o=[o,v,t,s]:(o=null,a=k)):(o=null,a=k)}else o=null,a=k;else o=null,a=k;k=o!==null?o:null}k=k!==null?k:"";k!==null?i=[i,k]:(i=null,a=n)}else i=null,a=n;n=i!==null?i:null}}}g!==null?d=[d,g]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,
b){if(b.length===0)return a;var c={token:"expression",expressionType:"additiveexpression"};c.summand=a;c.summands=[];for(var d=0;d<b.length;d++){var f=b[d],h={};if(f.length==4&&typeof f[1]==="string")h.operator=f[1],h.expression=f[3];else{var f={},e=h[0],j=h[1][1],n=h[1][3],j=null;e.value<0?(h.operator="-",e.value=-e.value):h.operator="+";f.token="expression";f.expressionType="multiplicativeexpression";f.operator=e;f.factors=[{operator:j,expression:n}];h.expression=f}c.summands.push(h)}return c}(d[0],
d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[101] AdditiveExpression");A[c]={nextPos:a,result:f};return f}function pa(){var c="MultiplicativeExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=ba();if(d!==null){for(var i=[],n=a,g=[],k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="*"?(k="*",a+=1):(k=null,j&&h('"*"')),k!==null){for(var o=[],v=q();v!==null;)o.push(v),v=q();o!==null?(v=ba(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,
a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="/"?(k="/",a+=1):(k=null,j&&h('"/"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=ba(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;n=g!==null?g:null}for(;n!==null;){i.push(n);n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="*"?(k="*",a+=1):(k=null,j&&h('"*"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),
v=q();o!==null?(v=ba(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;if(g!==null)n=g;else{n=a;g=[];for(k=q();k!==null;)g.push(k),k=q();if(g!==null)if(b.substr(a,1)==="/"?(k="/",a+=1):(k=null,j&&h('"/"')),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(v=ba(),v!==null?g=[g,k,o,v]:(g=null,a=n)):(g=null,a=n)}else g=null,a=n;else g=null,a=n;n=g!==null?g:null}}i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){if(b.length===0)return a;
var c={token:"expression",expressionType:"multiplicativeexpression"};c.factor=a;c.factors=[];for(var d=0;d<b.length;d++){var f=b[d],h={};h.operator=f[1];h.expression=f[3];c.factors.push(h)}return c}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[102] MultiplicativeExpression");A[c]={nextPos:a,result:f};return f}function ba(){var c="UnaryExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a;if(b.substr(a,1)==="!"){var d="!";a+=1}else d=null,j&&h('"!"');if(d!==null){for(var m=
[],n=q();n!==null;)m.push(n),n=q();m!==null?(n=Aa(),n!==null?d=[d,m,n]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};b.expression=a;return b}(d[2]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="+"?(d="+",a+=1):(d=null,j&&h('"+"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();m!==null?(n=Aa(),n!==null?d=[d,m,n]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?
function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};b.expression=a;return b}(d[2]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="-"?(d="-",a+=1):(d=null,j&&h('"-"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();m!==null?(n=Aa(),n!==null?d=[d,m,n]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};b.expression=a;return b}(d[2]):null;
f===null&&(f=null,a=g);f!==null?g=f:(g=Aa(),g=g!==null?g:null)}}(j=e)&&g===null&&h("[103] UnaryExpression");A[c]={nextPos:a,result:g};return g}function Aa(){var b="PrimaryExpression@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=Ea();if(e===null&&(e=Da(),e===null&&(e=Yb(),e===null))){var e=a,f=Fa(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};b.value=a;return b}(f):null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=Ga(),f=f!==null?
function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};b.value=a;return b}(f):null,f===null&&(f=null,a=e),f!==null?e=f:(e=a,f=Ha(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};b.value=a;return b}(f):null,f===null&&(f=null,a=e),f!==null?e=f:(e=Zb(),e===null&&(e=a,f=S(),f=f!==null?function(a){var b={token:"expression",expressionType:"atomic",primaryexpression:"var"};b.value=a;return b}(f):null,
f===null&&(f=null,a=e),e=f!==null?f:null))))}(j=c)&&e===null&&h("[104] PrimaryExpression");A[b]={nextPos:a,result:e};return e}function Ea(){var c="BrackettedExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&h('"("');if(d!==null){for(var m=[],n=q();n!==null;)m.push(n),n=q();if(m!==null)if(n=M(),n!==null){for(var i=[],k=q();k!==null;)i.push(k),k=q();i!==null?(b.substr(a,1)===")"?(k=")",a+=1):(k=null,j&&h('")"')),k!==null?
d=[d,m,n,i,k]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?d[2]:null;f===null&&(f=null,a=g);(j=e)&&f===null&&h("[105] BrackettedExpression");A[c]={nextPos:a,result:f};return f}function Da(){var c="BuiltInCall@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a;if(b.substr(a,1)==="S"){var d="S";a+=1}else d=null,j&&h('"S"');d===null&&(b.substr(a,1)==="s"?(d="s",a+=1):(d=null,j&&h('"s"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="T"){var m=
"T";a+=1}else m=null,j&&h('"T"');m===null&&(b.substr(a,1)==="t"?(m="t",a+=1):(m=null,j&&h('"t"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="R"){var n="R";a+=1}else n=null,j&&h('"R"');n===null&&(b.substr(a,1)==="r"?(n="r",a+=1):(n=null,j&&h('"r"')),n=n!==null?n:null);if(n!==null){for(var i=[],k=q();k!==null;)i.push(k),k=q();if(i!==null)if(b.substr(a,1)==="("?(k="(",a+=1):(k=null,j&&h('"("')),k!==null){for(var o=[],v=q();v!==null;)o.push(v),v=q();if(o!==null)if(v=M(),v!==null){for(var t=[],
s=q();s!==null;)t.push(s),s=q();t!==null?(b.substr(a,1)===")"?(s=")",a+=1):(s=null,j&&h('")"')),s!==null?d=[d,m,n,i,k,o,v,t,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"str"};b.args=[a];return b}(d[6]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="L"?(d="L",a+=1):(d=null,j&&h('"L"'));d===
null&&(b.substr(a,1)==="l"?(d="l",a+=1):(d=null,j&&h('"l"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(m="A",a+=1):(m=null,j&&h('"A"')),m===null&&(b.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&h('"a"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="N"?(n="N",a+=1):(n=null,j&&h('"N"')),n===null&&(b.substr(a,1)==="n"?(n="n",a+=1):(n=null,j&&h('"n"')),n=n!==null?n:null),n!==null)if(b.substr(a,1)==="G"?(i="G",a+=1):(i=null,j&&h('"G"')),i===null&&(b.substr(a,1)==="g"?(i="g",a+=1):(i=null,
j&&h('"g"')),i=i!==null?i:null),i!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();if(k!==null)if(b.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){v=[];for(t=q();t!==null;)v.push(t),t=q();if(v!==null)if(t=M(),t!==null){for(var s=[],w=q();w!==null;)s.push(w),w=q();s!==null?(b.substr(a,1)===")"?(w=")",a+=1):(w=null,j&&h('")"')),w!==null?d=[d,m,n,i,k,o,v,t,s,w]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=
null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"lang"};b.args=[a];return b}(d[7]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,11)==="LANGMATCHES"?(d="LANGMATCHES",a+=11):(d=null,j&&h('"LANGMATCHES"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(k=M(),k!==null){o=[];
for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)===","?(v=",",a+=1):(v=null,j&&h('","')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();if(t!==null)if(s=M(),s!==null){for(var w=[],B=q();B!==null;)w.push(B),B=q();w!==null?(b.substr(a,1)===")"?(B=")",a+=1):(B=null,j&&h('")"')),B!==null?d=[d,m,n,i,k,o,v,t,s,w,B]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;
f=d!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};c.args=[a,b];return c}(d[4],d[8]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="D"?(d="D",a+=1):(d=null,j&&h('"D"'));d===null&&(b.substr(a,1)==="d"?(d="d",a+=1):(d=null,j&&h('"d"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(m="A",a+=1):(m=null,j&&h('"A"')),m===null&&(b.substr(a,1)==="a"?(m="a",a+=1):(m=null,j&&h('"a"')),m=m!==null?m:null),m!==null)if(b.substr(a,
1)==="T"?(n="T",a+=1):(n=null,j&&h('"T"')),n===null&&(b.substr(a,1)==="t"?(n="t",a+=1):(n=null,j&&h('"t"')),n=n!==null?n:null),n!==null)if(b.substr(a,1)==="A"?(i="A",a+=1):(i=null,j&&h('"A"')),i===null&&(b.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&h('"a"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="T"?(k="T",a+=1):(k=null,j&&h('"T"')),k===null&&(b.substr(a,1)==="t"?(k="t",a+=1):(k=null,j&&h('"t"')),k=k!==null?k:null),k!==null)if(b.substr(a,1)==="Y"?(o="Y",a+=1):(o=null,j&&h('"Y"')),o===null&&
(b.substr(a,1)==="y"?(o="y",a+=1):(o=null,j&&h('"y"')),o=o!==null?o:null),o!==null)if(b.substr(a,1)==="P"?(v="P",a+=1):(v=null,j&&h('"P"')),v===null&&(b.substr(a,1)==="p"?(v="p",a+=1):(v=null,j&&h('"p"')),v=v!==null?v:null),v!==null)if(b.substr(a,1)==="E"?(t="E",a+=1):(t=null,j&&h('"E"')),t===null&&(b.substr(a,1)==="e"?(t="e",a+=1):(t=null,j&&h('"e"')),t=t!==null?t:null),t!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();if(s!==null)if(b.substr(a,1)==="("?(w="(",a+=1):(w=null,j&&h('"("')),w!==null){for(var B=
[],y=q();y!==null;)B.push(y),y=q();if(B!==null)if(y=M(),y!==null){for(var D=[],z=q();z!==null;)D.push(z),z=q();D!==null?(b.substr(a,1)===")"?(z=")",a+=1):(z=null,j&&h('")"')),z!==null?d=[d,m,n,i,k,o,v,t,s,w,B,y,D,z]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",
builtincall:"datatype"};b.args=[a];return b}(d[11]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,5)==="BOUND"?(d="BOUND",a+=5):(d=null,j&&h('"BOUND"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(k=S(),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,j&&h('")"')),v!==null?d=[d,m,n,
i,k,o,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bound"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,3)==="IRI"?(d="IRI",a+=3):(d=null,j&&h('"IRI"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=[];for(k=
q();k!==null;)i.push(k),k=q();if(i!==null)if(k=M(),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,j&&h('")"')),v!==null?d=[d,m,n,i,k,o,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"iri"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,3)==="URI"?
(d="URI",a+=3):(d=null,j&&h('"URI"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(k=M(),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,j&&h('")"')),v!==null?d=[d,m,n,i,k,o,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b=
{token:"expression",expressionType:"builtincall",builtincall:"uri"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,5)==="BNODE"?(d="BNODE",a+=5):(d=null,j&&h('"BNODE"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null){n=a;b.substr(a,1)==="("?(i="(",a+=1):(i=null,j&&h('"("'));if(i!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();if(k!==null)if(o=M(),o!==null){v=[];for(t=q();t!==null;)v.push(t),t=q();v!==null?(b.substr(a,1)===")"?(t=")",
a+=1):(t=null,j&&h('")"')),t!==null?i=[i,k,o,v,t]:(i=null,a=n)):(i=null,a=n)}else i=null,a=n;else i=null,a=n}else i=null,a=n;i!==null?n=i:(n=ia(),n=n!==null?n:null);n!==null?d=[d,m,n]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"bnode"};b.args=a.length===5?[a[2]]:null;return b}(d[2]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,8)==="COALESCE"?(d="COALESCE",a+=8):(d=null,j&&h('"COALESCE"'));
if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();m!==null?(n=Nb(),n!==null?d=[d,m,n]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};b.args=a;return b}(d[2]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,2)==="IF"?(d="IF",a+=2):(d=null,j&&h('"IF"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=
[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(k=M(),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)===","?(v=",",a+=1):(v=null,j&&h('","')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();if(t!==null)if(s=M(),s!==null){w=[];for(B=q();B!==null;)w.push(B),B=q();if(w!==null)if(b.substr(a,1)===","?(B=",",a+=1):(B=null,j&&h('","')),B!==null){y=[];for(D=q();D!==null;)y.push(D),D=q();if(y!==null)if(D=M(),D!==null){for(var z=[],C=q();C!==null;)z.push(C),C=q();z!==
null?(b.substr(a,1)===")"?(C=")",a+=1):(C=null,j&&h('")"')),C!==null?d=[d,m,n,i,k,o,v,t,s,w,B,y,D,z,C]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={token:"expression",expressionType:"builtincall",builtincall:"if"};d.args=[a,b,c];return d}(d[4],d[8],d[12]):null;f===null&&(f=null,
a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,9)==="ISLITERAL"?(d="ISLITERAL",a+=9):(d=null,j&&h('"ISLITERAL"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(k=M(),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,j&&h('")"')),v!==null?d=[d,m,n,i,k,o,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,
a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,7)==="ISBLANK"?(d="ISBLANK",a+=7):(d=null,j&&h('"ISBLANK"'));if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(k=M(),
k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();o!==null?(b.substr(a,1)===")"?(v=")",a+=1):(v=null,j&&h('")"')),v!==null?d=[d,m,n,i,k,o,v]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isblank"};b.args=[a];return b}(d[4]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,8)==="SAMETERM"?(d="SAMETERM",a+=8):(d=null,j&&h('"SAMETERM"'));
if(d!==null){m=[];for(n=q();n!==null;)m.push(n),n=q();if(m!==null)if(b.substr(a,1)==="("?(n="(",a+=1):(n=null,j&&h('"("')),n!==null){i=[];for(k=q();k!==null;)i.push(k),k=q();if(i!==null)if(k=M(),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)===","?(v=",",a+=1):(v=null,j&&h('","')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();if(t!==null)if(s=M(),s!==null){w=[];for(B=q();B!==null;)w.push(B),B=q();w!==null?(b.substr(a,1)===")"?(B=")",a+=1):(B=null,j&&h('")"')),
B!==null?d=[d,m,n,i,k,o,v,t,s,w,B]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){var c={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};c.args=[a,b];return c}(d[4],d[8]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="I"?(d="I",a+=1):(d=null,j&&h('"I"'));d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,
j&&h('"i"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="S"?(m="S",a+=1):(m=null,j&&h('"S"')),m===null&&(b.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&h('"s"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="U"?(n="U",a+=1):(n=null,j&&h('"U"')),n===null&&(b.substr(a,1)==="u"?(n="u",a+=1):(n=null,j&&h('"u"')),n=n!==null?n:null),n!==null)if(b.substr(a,1)==="R"?(i="R",a+=1):(i=null,j&&h('"R"')),i===null&&(b.substr(a,1)==="r"?(i="r",a+=1):(i=null,j&&h('"r"')),i=i!==null?i:null),i!==null)if(b.substr(a,
1)==="I"?(k="I",a+=1):(k=null,j&&h('"I"')),k===null&&(b.substr(a,1)==="i"?(k="i",a+=1):(k=null,j&&h('"i"')),k=k!==null?k:null),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)==="("?(v="(",a+=1):(v=null,j&&h('"("')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();if(t!==null)if(s=M(),s!==null){w=[];for(B=q();B!==null;)w.push(B),B=q();w!==null?(b.substr(a,1)===")"?(B=")",a+=1):(B=null,j&&h('")"')),B!==null?d=[d,m,n,i,k,o,v,t,s,w,B]:(d=null,a=f)):(d=null,a=f)}else d=
null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(d[8]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="I"?(d="I",a+=1):(d=null,j&&h('"I"'));d===null&&(b.substr(a,1)==="i"?(d="i",a+=1):(d=null,j&&h('"i"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="S"?(m="S",a+=
1):(m=null,j&&h('"S"')),m===null&&(b.substr(a,1)==="s"?(m="s",a+=1):(m=null,j&&h('"s"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="I"?(n="I",a+=1):(n=null,j&&h('"I"')),n===null&&(b.substr(a,1)==="i"?(n="i",a+=1):(n=null,j&&h('"i"')),n=n!==null?n:null),n!==null)if(b.substr(a,1)==="R"?(i="R",a+=1):(i=null,j&&h('"R"')),i===null&&(b.substr(a,1)==="r"?(i="r",a+=1):(i=null,j&&h('"r"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="I"?(k="I",a+=1):(k=null,j&&h('"I"')),k===null&&(b.substr(a,1)===
"i"?(k="i",a+=1):(k=null,j&&h('"i"')),k=k!==null?k:null),k!==null){o=[];for(v=q();v!==null;)o.push(v),v=q();if(o!==null)if(b.substr(a,1)==="("?(v="(",a+=1):(v=null,j&&h('"("')),v!==null){t=[];for(s=q();s!==null;)t.push(s),s=q();if(t!==null)if(s=M(),s!==null){w=[];for(B=q();B!==null;)w.push(B),B=q();w!==null?(b.substr(a,1)===")"?(B=")",a+=1):(B=null,j&&h('")"')),B!==null?d=[d,m,n,i,k,o,v,t,s,w,B]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,
a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"isuri"};b.args=[a];return b}(d[8]):null;f===null&&(f=null,a=g);f!==null?g=f:(g=$b(),g===null&&(g=ac(),g===null&&(g=bc(),g=g!==null?g:null)))}}}}}}}}}}}}}}(j=e)&&g===null&&h("[106] BuiltInCall");A[c]={nextPos:a,result:g};return g}function $b(){var c="RegexExpression@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,
1)==="R"){var d="R";a+=1}else d=null,j&&h('"R"');d===null&&(b.substr(a,1)==="r"?(d="r",a+=1):(d=null,j&&h('"r"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="E"){var g="E";a+=1}else g=null,j&&h('"E"');g===null&&(b.substr(a,1)==="e"?(g="e",a+=1):(g=null,j&&h('"e"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="G"){var i="G";a+=1}else i=null,j&&h('"G"');i===null&&(b.substr(a,1)==="g"?(i="g",a+=1):(i=null,j&&h('"g"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="E"){var k="E";a+=
1}else k=null,j&&h('"E"');k===null&&(b.substr(a,1)==="e"?(k="e",a+=1):(k=null,j&&h('"e"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="X"){var o="X";a+=1}else o=null,j&&h('"X"');o===null&&(b.substr(a,1)==="x"?(o="x",a+=1):(o=null,j&&h('"x"')),o=o!==null?o:null);if(o!==null){for(var t=[],v=q();v!==null;)t.push(v),v=q();if(t!==null)if(b.substr(a,1)==="("?(v="(",a+=1):(v=null,j&&h('"("')),v!==null){for(var s=[],w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=M(),w!==null){for(var y=[],B=q();B!==
null;)y.push(B),B=q();if(y!==null)if(b.substr(a,1)===","?(B=",",a+=1):(B=null,j&&h('","')),B!==null){for(var z=[],D=q();D!==null;)z.push(D),D=q();if(z!==null)if(D=M(),D!==null){for(var C=[],F=q();F!==null;)C.push(F),F=q();if(C!==null){F=a;if(b.substr(a,1)===","){var E=",";a+=1}else E=null,j&&h('","');if(E!==null){for(var G=[],O=q();O!==null;)G.push(O),O=q();G!==null?(O=M(),O!==null?E=[E,G,O]:(E=null,a=F)):(E=null,a=F)}else E=null,a=F;F=E!==null?E:"";if(F!==null){E=[];for(G=q();G!==null;)E.push(G),
G=q();E!==null?(b.substr(a,1)===")"?(G=")",a+=1):(G=null,j&&h('")"')),G!==null?d=[d,g,i,k,o,t,v,s,w,y,B,z,D,C,F,E,G]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b,c){var d={token:"expression",expressionType:"regex"};d.text=a;d.pattern=b;d.flags=c[2];return d}(d[8],
d[12],d[14]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[107] RegexExpression");A[c]={nextPos:a,result:f};return f}function ac(){var c="ExistsFunc@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="E"){var d="E";a+=1}else d=null,j&&h('"E"');d===null&&(b.substr(a,1)==="e"?(d="e",a+=1):(d=null,j&&h('"e"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="X"){var g="X";a+=1}else g=null,j&&h('"X"');g===null&&(b.substr(a,1)==="x"?(g="x",a+=1):(g=null,j&&h('"x"')),
g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="I"){var i="I";a+=1}else i=null,j&&h('"I"');i===null&&(b.substr(a,1)==="i"?(i="i",a+=1):(i=null,j&&h('"i"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="S"){var k="S";a+=1}else k=null,j&&h('"S"');k===null&&(b.substr(a,1)==="s"?(k="s",a+=1):(k=null,j&&h('"s"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="T"){var o="T";a+=1}else o=null,j&&h('"T"');o===null&&(b.substr(a,1)==="t"?(o="t",a+=1):(o=null,j&&h('"t"')),o=o!==null?o:null);if(o!==
null){if(b.substr(a,1)==="S"){var t="S";a+=1}else t=null,j&&h('"S"');t===null&&(b.substr(a,1)==="s"?(t="s",a+=1):(t=null,j&&h('"s"')),t=t!==null?t:null);if(t!==null){for(var v=[],s=q();s!==null;)v.push(s),s=q();v!==null?(s=X(),s!==null?d=[d,g,i,k,o,t,v,s]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",expressionType:"builtincall",builtincall:"exists"};b.args=[a];return b}(d[7]):
null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[108] ExistsFunc");A[c]={nextPos:a,result:f};return f}function bc(){var c="NotExistsFunc@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="N"){var d="N";a+=1}else d=null,j&&h('"N"');d===null&&(b.substr(a,1)==="n"?(d="n",a+=1):(d=null,j&&h('"n"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="O"){var g="O";a+=1}else g=null,j&&h('"O"');g===null&&(b.substr(a,1)==="o"?(g="o",a+=1):(g=null,j&&h('"o"')),g=g!==null?
g:null);if(g!==null){if(b.substr(a,1)==="T"){var i="T";a+=1}else i=null,j&&h('"T"');i===null&&(b.substr(a,1)==="t"?(i="t",a+=1):(i=null,j&&h('"t"')),i=i!==null?i:null);if(i!==null){for(var k=[],o=q();o!==null;)k.push(o),o=q();if(k!==null)if(b.substr(a,1)==="E"?(o="E",a+=1):(o=null,j&&h('"E"')),o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&h('"e"')),o=o!==null?o:null),o!==null){if(b.substr(a,1)==="X"){var t="X";a+=1}else t=null,j&&h('"X"');t===null&&(b.substr(a,1)==="x"?(t="x",a+=1):(t=null,
j&&h('"x"')),t=t!==null?t:null);if(t!==null){if(b.substr(a,1)==="I"){var v="I";a+=1}else v=null,j&&h('"I"');v===null&&(b.substr(a,1)==="i"?(v="i",a+=1):(v=null,j&&h('"i"')),v=v!==null?v:null);if(v!==null){if(b.substr(a,1)==="S"){var s="S";a+=1}else s=null,j&&h('"S"');s===null&&(b.substr(a,1)==="s"?(s="s",a+=1):(s=null,j&&h('"s"')),s=s!==null?s:null);if(s!==null){if(b.substr(a,1)==="T"){var w="T";a+=1}else w=null,j&&h('"T"');w===null&&(b.substr(a,1)==="t"?(w="t",a+=1):(w=null,j&&h('"t"')),w=w!==null?
w:null);if(w!==null){if(b.substr(a,1)==="S"){var y="S";a+=1}else y=null,j&&h('"S"');y===null&&(b.substr(a,1)==="s"?(y="s",a+=1):(y=null,j&&h('"s"')),y=y!==null?y:null);if(y!==null){for(var B=[],z=q();z!==null;)B.push(z),z=q();B!==null?(z=X(),z!==null?d=[d,g,i,k,o,t,v,s,w,y,B,z]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a){var b={token:"expression",
expressionType:"builtincall",builtincall:"notexists"};b.args=[a];return b}(d[11]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[109] NotExistsFunc");A[c]={nextPos:a,result:f};return f}function Zb(){var c="Aggregate@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a;if(b.substr(a,1)==="C"){var d="C";a+=1}else d=null,j&&h('"C"');d===null&&(b.substr(a,1)==="c"?(d="c",a+=1):(d=null,j&&h('"c"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="O"){var m="O";a+=1}else m=null,j&&h('"O"');
m===null&&(b.substr(a,1)==="o"?(m="o",a+=1):(m=null,j&&h('"o"')),m=m!==null?m:null);if(m!==null){if(b.substr(a,1)==="U"){var i="U";a+=1}else i=null,j&&h('"U"');i===null&&(b.substr(a,1)==="u"?(i="u",a+=1):(i=null,j&&h('"u"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="N"){var k="N";a+=1}else k=null,j&&h('"N"');k===null&&(b.substr(a,1)==="n"?(k="n",a+=1):(k=null,j&&h('"n"')),k=k!==null?k:null);if(k!==null){if(b.substr(a,1)==="T"){var o="T";a+=1}else o=null,j&&h('"T"');o===null&&(b.substr(a,
1)==="t"?(o="t",a+=1):(o=null,j&&h('"t"')),o=o!==null?o:null);if(o!==null){for(var t=[],v=q();v!==null;)t.push(v),v=q();if(t!==null)if(b.substr(a,1)==="("?(v="(",a+=1):(v=null,j&&h('"("')),v!==null){for(var s=[],w=q();w!==null;)s.push(w),w=q();if(s!==null){w=a;if(b.substr(a,1)==="D"){var y="D";a+=1}else y=null,j&&h('"D"');y===null&&(b.substr(a,1)==="d"?(y="d",a+=1):(y=null,j&&h('"d"')),y=y!==null?y:null);if(y!==null){if(b.substr(a,1)==="I"){var B="I";a+=1}else B=null,j&&h('"I"');B===null&&(b.substr(a,
1)==="i"?(B="i",a+=1):(B=null,j&&h('"i"')),B=B!==null?B:null);if(B!==null){if(b.substr(a,1)==="S"){var z="S";a+=1}else z=null,j&&h('"S"');z===null&&(b.substr(a,1)==="s"?(z="s",a+=1):(z=null,j&&h('"s"')),z=z!==null?z:null);if(z!==null){if(b.substr(a,1)==="T"){var D="T";a+=1}else D=null,j&&h('"T"');D===null&&(b.substr(a,1)==="t"?(D="t",a+=1):(D=null,j&&h('"t"')),D=D!==null?D:null);if(D!==null){if(b.substr(a,1)==="I"){var C="I";a+=1}else C=null,j&&h('"I"');C===null&&(b.substr(a,1)==="i"?(C="i",a+=1):
(C=null,j&&h('"i"')),C=C!==null?C:null);if(C!==null){if(b.substr(a,1)==="N"){var F="N";a+=1}else F=null,j&&h('"N"');F===null&&(b.substr(a,1)==="n"?(F="n",a+=1):(F=null,j&&h('"n"')),F=F!==null?F:null);if(F!==null){if(b.substr(a,1)==="C"){var E="C";a+=1}else E=null,j&&h('"C"');E===null&&(b.substr(a,1)==="c"?(E="c",a+=1):(E=null,j&&h('"c"')),E=E!==null?E:null);if(E!==null){if(b.substr(a,1)==="T"){var G="T";a+=1}else G=null,j&&h('"T"');G===null&&(b.substr(a,1)==="t"?(G="t",a+=1):(G=null,j&&h('"t"')),
G=G!==null?G:null);G!==null?y=[y,B,z,D,C,F,E,G]:(y=null,a=w)}else y=null,a=w}else y=null,a=w}else y=null,a=w}else y=null,a=w}else y=null,a=w}else y=null,a=w}else y=null,a=w;w=y!==null?y:"";if(w!==null){y=[];for(B=q();B!==null;)y.push(B),B=q();if(y!==null)if(b.substr(a,1)==="*"?(B="*",a+=1):(B=null,j&&h('"*"')),B===null&&(B=M(),B=B!==null?B:null),B!==null){z=[];for(D=q();D!==null;)z.push(D),D=q();if(z!==null)if(b.substr(a,1)===")"?(D=")",a+=1):(D=null,j&&h('")"')),D!==null){C=[];for(F=q();F!==null;)C.push(F),
F=q();C!==null?d=[d,m,i,k,o,t,v,s,w,y,B,z,D,C]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f}else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"count"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[8],d[10]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,
1)==="S"?(d="S",a+=1):(d=null,j&&h('"S"'));d===null&&(b.substr(a,1)==="s"?(d="s",a+=1):(d=null,j&&h('"s"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="U"?(m="U",a+=1):(m=null,j&&h('"U"')),m===null&&(b.substr(a,1)==="u"?(m="u",a+=1):(m=null,j&&h('"u"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="M"?(i="M",a+=1):(i=null,j&&h('"M"')),i===null&&(b.substr(a,1)==="m"?(i="m",a+=1):(i=null,j&&h('"m"')),i=i!==null?i:null),i!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();if(k!==null)if(b.substr(a,
1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){t=[];for(v=q();v!==null;)t.push(v),v=q();if(t!==null)if(v=a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,j&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,j&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,j&&h('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(y="S",a+=1):(y=null,j&&h('"S"')),y===null&&(b.substr(a,1)==="s"?(y="s",
a+=1):(y=null,j&&h('"s"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,j&&h('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,j&&h('"t"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="I"?(z="I",a+=1):(z=null,j&&h('"I"')),z===null&&(b.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&h('"i"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="N"?(D="N",a+=1):(D=null,j&&h('"N"')),D===null&&(b.substr(a,1)==="n"?(D="n",a+=1):(D=null,j&&h('"n"')),D=D!==null?D:null),D!==null?(b.substr(a,
1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(b.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="T"?(F="T",a+=1):(F=null,j&&h('"T"')),F===null&&(b.substr(a,1)==="t"?(F="t",a+=1):(F=null,j&&h('"t"')),F=F!==null?F:null),F!==null?s=[s,w,y,B,z,D,C,F]:(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v),v=s!==null?s:"",v!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=M(),
w!==null){y=[];for(B=q();B!==null;)y.push(B),B=q();if(y!==null)if(b.substr(a,1)===")"?(B=")",a+=1):(B=null,j&&h('")"')),B!==null){z=[];for(D=q();D!==null;)z.push(D),D=q();z!==null?d=[d,m,i,k,o,t,v,s,w,y,B,z]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"sum"};exp.distinct=
a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="M"?(d="M",a+=1):(d=null,j&&h('"M"'));d===null&&(b.substr(a,1)==="m"?(d="m",a+=1):(d=null,j&&h('"m"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="I"?(m="I",a+=1):(m=null,j&&h('"I"')),m===null&&(b.substr(a,1)==="i"?(m="i",a+=1):(m=null,j&&h('"i"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="N"?(i="N",a+=1):(i=null,j&&h('"N"')),i===null&&(b.substr(a,1)==="n"?
(i="n",a+=1):(i=null,j&&h('"n"')),i=i!==null?i:null),i!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();if(k!==null)if(b.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){t=[];for(v=q();v!==null;)t.push(v),v=q();if(t!==null)if(v=a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,j&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,j&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,j&&h('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),
w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(y="S",a+=1):(y=null,j&&h('"S"')),y===null&&(b.substr(a,1)==="s"?(y="s",a+=1):(y=null,j&&h('"s"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,j&&h('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,j&&h('"t"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="I"?(z="I",a+=1):(z=null,j&&h('"I"')),z===null&&(b.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&h('"i"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="N"?(D="N",a+=
1):(D=null,j&&h('"N"')),D===null&&(b.substr(a,1)==="n"?(D="n",a+=1):(D=null,j&&h('"n"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(b.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="T"?(F="T",a+=1):(F=null,j&&h('"T"')),F===null&&(b.substr(a,1)==="t"?(F="t",a+=1):(F=null,j&&h('"t"')),F=F!==null?F:null),F!==null?s=[s,w,y,B,z,D,C,F]:(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):
(s=null,a=v)):(s=null,a=v)):(s=null,a=v),v=s!==null?s:"",v!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=M(),w!==null){y=[];for(B=q();B!==null;)y.push(B),B=q();if(y!==null)if(b.substr(a,1)===")"?(B=")",a+=1):(B=null,j&&h('")"')),B!==null){z=[];for(D=q();D!==null;)z.push(D),D=q();z!==null?d=[d,m,i,k,o,t,v,s,w,y,B,z]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=
null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"min"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="M"?(d="M",a+=1):(d=null,j&&h('"M"'));d===null&&(b.substr(a,1)==="m"?(d="m",a+=1):(d=null,j&&h('"m"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(m="A",a+=1):(m=null,j&&h('"A"')),m===null&&(b.substr(a,1)==="a"?(m="a",a+=1):(m=
null,j&&h('"a"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="X"?(i="X",a+=1):(i=null,j&&h('"X"')),i===null&&(b.substr(a,1)==="x"?(i="x",a+=1):(i=null,j&&h('"x"')),i=i!==null?i:null),i!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();if(k!==null)if(b.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){t=[];for(v=q();v!==null;)t.push(v),v=q();if(t!==null)if(v=a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,j&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,j&&h('"d"')),s=s!==
null?s:null),s!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,j&&h('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(y="S",a+=1):(y=null,j&&h('"S"')),y===null&&(b.substr(a,1)==="s"?(y="s",a+=1):(y=null,j&&h('"s"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,j&&h('"T"')),B===null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,j&&h('"t"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="I"?(z="I",a+=1):(z=
null,j&&h('"I"')),z===null&&(b.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&h('"i"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="N"?(D="N",a+=1):(D=null,j&&h('"N"')),D===null&&(b.substr(a,1)==="n"?(D="n",a+=1):(D=null,j&&h('"n"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(b.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),C=C!==null?C:null),C!==null?(b.substr(a,1)==="T"?(F="T",a+=1):(F=null,j&&h('"T"')),F===null&&(b.substr(a,1)==="t"?(F="t",a+=
1):(F=null,j&&h('"t"')),F=F!==null?F:null),F!==null?s=[s,w,y,B,z,D,C,F]:(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v),v=s!==null?s:"",v!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=M(),w!==null){y=[];for(B=q();B!==null;)y.push(B),B=q();if(y!==null)if(b.substr(a,1)===")"?(B=")",a+=1):(B=null,j&&h('")"')),B!==null){z=[];for(D=q();D!==null;)z.push(D),D=q();z!==null?d=[d,m,i,k,o,t,v,s,w,y,B,z]:(d=null,a=f)}else d=null,
a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"max"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=g);if(f!==null)g=f;else{f=g=a;b.substr(a,1)==="A"?(d="A",a+=1):(d=null,j&&h('"A"'));d===null&&(b.substr(a,1)==="a"?(d="a",a+=1):(d=null,j&&h('"a"')),
d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="V"?(m="V",a+=1):(m=null,j&&h('"V"')),m===null&&(b.substr(a,1)==="v"?(m="v",a+=1):(m=null,j&&h('"v"')),m=m!==null?m:null),m!==null)if(b.substr(a,1)==="G"?(i="G",a+=1):(i=null,j&&h('"G"')),i===null&&(b.substr(a,1)==="g"?(i="g",a+=1):(i=null,j&&h('"g"')),i=i!==null?i:null),i!==null){k=[];for(o=q();o!==null;)k.push(o),o=q();if(k!==null)if(b.substr(a,1)==="("?(o="(",a+=1):(o=null,j&&h('"("')),o!==null){t=[];for(v=q();v!==null;)t.push(v),v=q();if(t!==null)if(v=
a,b.substr(a,1)==="D"?(s="D",a+=1):(s=null,j&&h('"D"')),s===null&&(b.substr(a,1)==="d"?(s="d",a+=1):(s=null,j&&h('"d"')),s=s!==null?s:null),s!==null?(b.substr(a,1)==="I"?(w="I",a+=1):(w=null,j&&h('"I"')),w===null&&(b.substr(a,1)==="i"?(w="i",a+=1):(w=null,j&&h('"i"')),w=w!==null?w:null),w!==null?(b.substr(a,1)==="S"?(y="S",a+=1):(y=null,j&&h('"S"')),y===null&&(b.substr(a,1)==="s"?(y="s",a+=1):(y=null,j&&h('"s"')),y=y!==null?y:null),y!==null?(b.substr(a,1)==="T"?(B="T",a+=1):(B=null,j&&h('"T"')),B===
null&&(b.substr(a,1)==="t"?(B="t",a+=1):(B=null,j&&h('"t"')),B=B!==null?B:null),B!==null?(b.substr(a,1)==="I"?(z="I",a+=1):(z=null,j&&h('"I"')),z===null&&(b.substr(a,1)==="i"?(z="i",a+=1):(z=null,j&&h('"i"')),z=z!==null?z:null),z!==null?(b.substr(a,1)==="N"?(D="N",a+=1):(D=null,j&&h('"N"')),D===null&&(b.substr(a,1)==="n"?(D="n",a+=1):(D=null,j&&h('"n"')),D=D!==null?D:null),D!==null?(b.substr(a,1)==="C"?(C="C",a+=1):(C=null,j&&h('"C"')),C===null&&(b.substr(a,1)==="c"?(C="c",a+=1):(C=null,j&&h('"c"')),
C=C!==null?C:null),C!==null?(b.substr(a,1)==="T"?(F="T",a+=1):(F=null,j&&h('"T"')),F===null&&(b.substr(a,1)==="t"?(F="t",a+=1):(F=null,j&&h('"t"')),F=F!==null?F:null),F!==null?s=[s,w,y,B,z,D,C,F]:(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v)):(s=null,a=v),v=s!==null?s:"",v!==null){s=[];for(w=q();w!==null;)s.push(w),w=q();if(s!==null)if(w=M(),w!==null){y=[];for(B=q();B!==null;)y.push(B),B=q();if(y!==null)if(b.substr(a,1)===")"?(B=")",a+=1):(B=null,
j&&h('")"')),B!==null){z=[];for(D=q();D!==null;)z.push(D),D=q();z!==null?d=[d,m,i,k,o,t,v,s,w,y,B,z]:(d=null,a=f)}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f}else d=null,a=f;else d=null,a=f;else d=null,a=f;f=d!==null?function(a,b){exp={token:"expression",expressionType:"aggregate",aggregateType:"avg"};exp.distinct=a!=""?"DISTINCT":a;exp.expression=b;return exp}(d[6],d[8]):null;f===null&&(f=null,a=g);g=f!==null?f:null}}}}(j=
e)&&g===null&&h("[110] Aggregate");A[c]={nextPos:a,result:g};return g}function Yb(){var b="IRIrefOrFunction@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=a,d=T();if(d!==null){var m=ib(),m=m!==null?m:"";m!==null?d=[d,m]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){var c={token:"expression",expressionType:"irireforfunction"};c.iriref=a;c.args=b.value;return c}(d[0],d[1]):null;f===null&&(f=null,a=e);(j=c)&&f===null&&h("[117] IRIrefOrFunction");A[b]={nextPos:a,result:f};return f}
function Fa(){var c="RDFLiteral@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a,d=cc();if(d!==null){var i=dc();if(i===null){i=a;if(b.substr(a,2)==="^^"){var g="^^";a+=2}else g=null,j&&h('"^^"');if(g!==null){var k=T();k!==null?g=[g,k]:(g=null,a=i)}else g=null,a=i;i=g!==null?g:null}i=i!==null?i:"";i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a,b){return typeof b==="string"&&b.length>0?{token:"literal",value:a.value,lang:b.slice(1),type:null}:typeof b==="object"?
(b.shift(),{token:"literal",value:a.value,lang:null,type:b[0]}):{token:"literal",value:a.value,lang:null,type:null}}(d[0],d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[112] RDFLiteral");A[c]={nextPos:a,result:f};return f}function Ga(){var b="NumericLiteral@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=ec();e===null&&(e=fc(),e===null&&(e=qa(),e=e!==null?e:null));(j=c)&&e===null&&h("[113] NumericLiteral");A[b]={nextPos:a,result:e};return e}function ec(){var b="NumericLiteralUnsigned@"+
a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=Qa();e===null&&(e=Ra(),e===null&&(e=ca(),e=e!==null?e:null));(j=c)&&e===null&&h("[114] NumericLiteralUnsigned");A[b]={nextPos:a,result:e};return e}function fc(){var b="NumericLiteralPositive@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=gc();e===null&&(e=hc(),e===null&&(e=ic(),e=e!==null?e:null));(j=c)&&e===null&&h("[115] NumericLiteralPositive");A[b]={nextPos:a,result:e};return e}function qa(){var b="NumericLiteralNegative@"+a,
c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=jc();e===null&&(e=kc(),e===null&&(e=lc(),e=e!==null?e:null));(j=c)&&e===null&&h("[116] NumericLiteralNegative");A[b]={nextPos:a,result:e};return e}function Ha(){var c="BooleanLiteral@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="T"){var d="T";a+=1}else d=null,j&&h('"T"');d===null&&(b.substr(a,1)==="t"?(d="t",a+=1):(d=null,j&&h('"t"')),d=d!==null?d:null);if(d!==null){if(b.substr(a,1)==="R"){var i="R";a+=1}else i=
null,j&&h('"R"');i===null&&(b.substr(a,1)==="r"?(i="r",a+=1):(i=null,j&&h('"r"')),i=i!==null?i:null);if(i!==null){if(b.substr(a,1)==="U"){var g="U";a+=1}else g=null,j&&h('"U"');g===null&&(b.substr(a,1)==="u"?(g="u",a+=1):(g=null,j&&h('"u"')),g=g!==null?g:null);if(g!==null){if(b.substr(a,1)==="E"){var k="E";a+=1}else k=null,j&&h('"E"');k===null&&(b.substr(a,1)==="e"?(k="e",a+=1):(k=null,j&&h('"e"')),k=k!==null?k:null);k!==null?d=[d,i,g,k]:(d=null,a=f)}else d=null,a=f}else d=null,a=f}else d=null,a=
f;f=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}:null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;b.substr(a,1)==="F"?(d="F",a+=1):(d=null,j&&h('"F"'));d===null&&(b.substr(a,1)==="f"?(d="f",a+=1):(d=null,j&&h('"f"')),d=d!==null?d:null);if(d!==null)if(b.substr(a,1)==="A"?(i="A",a+=1):(i=null,j&&h('"A"')),i===null&&(b.substr(a,1)==="a"?(i="a",a+=1):(i=null,j&&h('"a"')),i=i!==null?i:null),i!==null)if(b.substr(a,1)==="L"?(g="L",a+=1):(g=null,
j&&h('"L"')),g===null&&(b.substr(a,1)==="l"?(g="l",a+=1):(g=null,j&&h('"l"')),g=g!==null?g:null),g!==null)if(b.substr(a,1)==="S"?(k="S",a+=1):(k=null,j&&h('"S"')),k===null&&(b.substr(a,1)==="s"?(k="s",a+=1):(k=null,j&&h('"s"')),k=k!==null?k:null),k!==null){if(b.substr(a,1)==="E"){var o="E";a+=1}else o=null,j&&h('"E"');o===null&&(b.substr(a,1)==="e"?(o="e",a+=1):(o=null,j&&h('"e"')),o=o!==null?o:null);o!==null?d=[d,i,g,k,o]:(d=null,a=f)}else d=null,a=f;else d=null,a=f;else d=null,a=f;else d=null,a=
f;f=d!==null?lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}:null;f===null&&(f=null,a=m);m=f!==null?f:null}(j=e)&&m===null&&h("[117] BooleanLiteral");A[c]={nextPos:a,result:m};return m}function cc(){var b="String@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=mc(),f=f!==null?{token:"string",value:f}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=nc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=e),f!==null?e=f:(e=a,f=oc(),f=
f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=e),f!==null?e=f:(e=a,f=pc(),f=f!==null?{token:"string",value:f}:null,f===null&&(f=null,a=e),e=f!==null?f:null)));(j=c)&&e===null&&h("[118] String");A[b]={nextPos:a,result:e};return e}function T(){var b="IRIref@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=la(),f=f!==null?{token:"uri",prefix:null,suffix:null,value:f}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=qc(),f=f!==null?f:null,f===null&&(f=null,a=e),e=f!==null?f:
null);(j=c)&&e===null&&h("[119] IRIref");A[b]={nextPos:a,result:e};return e}function qc(){var b="PrefixedName@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=rc(),f=f!==null?{token:"uri",prefix:f[0],suffix:f[1],value:null}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,f=Ca(),f=f!==null?{token:"uri",prefix:f,suffix:"",value:null}:null,f===null&&(f=null,a=e),e=f!==null?f:null);(j=c)&&e===null&&h("[120] PrefixedName");A[b]={nextPos:a,result:e};return e}function Xb(){var b="BlankNode@"+
a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=sc(),f=f!==null?{token:"blank",label:f}:null;f===null&&(f=null,a=e);f!==null?e=f:(e=a,tc()!==null?(ea++,f={token:"blank",label:""+ea}):f=null,f===null&&(f=null,a=e),e=f!==null?f:null);(j=c)&&e===null&&h("[121] BlankNode");A[b]={nextPos:a,result:e};return e}function la(){var c="IRI_REF@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var i=a,f=a;if(b.substr(a,1)==="<"){var d="<";a+=1}else d=null,j&&h('"<"');if(d!==null){var m=[];if(b.substr(a).match(/^[^<>"{} | ^\\]/)!==
null){var g=b.charAt(a);a++}else g=null,j&&h('[^<>"{} | ^\\\\]');for(;g!==null;)m.push(g),b.substr(a).match(/^[^<>"{} | ^\\]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h('[^<>"{} | ^\\\\]'));m!==null?(b.substr(a,1)===">"?(g=">",a+=1):(g=null,j&&h('">"')),g!==null?d=[d,m,g]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?d[1].join(""):null;f===null&&(f=null,a=i);(j=e)&&f===null&&h("[122] IRI_REF");A[c]={nextPos:a,result:f};return f}function Ca(){var c="PNAME_NS@"+a,e=A[c];if(e)return a=e.nextPos,
e.result;e=j;j=!1;var i=a,f=a,d=Ya(),d=d!==null?d:"";if(d!==null){if(b.substr(a,1)===":"){var m=":";a+=1}else m=null,j&&h('":"');m!==null?d=[d,m]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[0]:null;f===null&&(f=null,a=i);(j=e)&&f===null&&h("[123] PNAME_NS");A[c]={nextPos:a,result:f};return f}function rc(){var b="PNAME_LN@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=a,f=a,d=Ca();if(d!==null){var i=ob();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?[d[0],d[1]]:null;f===null&&
(f=null,a=e);(j=c)&&f===null&&h("[124] PNAME_LN");A[b]={nextPos:a,result:f};return f}function sc(){var c="BLANK_NODE_LABEL@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var i=a,f=a;if(b.substr(a,2)==="_:"){var d="_:";a+=2}else d=null,j&&h('"_:"');if(d!==null){var m=ob();m!==null?d=[d,m]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=i);(j=e)&&f===null&&h("[125] BLANK_NODE_LABEL");A[c]={nextPos:a,result:f};return f}function Vb(){var c="VAR1@"+a,e=A[c];if(e)return a=e.nextPos,
e.result;e=j;j=!1;var i=a,f=a;if(b.substr(a,1)==="?"){var d="?";a+=1}else d=null,j&&h('"?"');if(d!==null){var m=pb();m!==null?d=[d,m]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[1]:null;f===null&&(f=null,a=i);(j=e)&&f===null&&h("[126] VAR1");A[c]={nextPos:a,result:f};return f}function Wb(){var c="VAR2@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var i=a,f=a;if(b.substr(a,1)==="$"){var d="$";a+=1}else d=null,j&&h('"$"');if(d!==null){var m=pb();m!==null?d=[d,m]:(d=null,a=f)}else d=null,a=f;f=
d!==null?d[1]:null;f===null&&(f=null,a=i);(j=e)&&f===null&&h("[127] VAR2");A[c]={nextPos:a,result:f};return f}function dc(){var c="LANGTAG@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var i=a,f=a;if(b.substr(a,1)==="@"){var d="@";a+=1}else d=null,j&&h('"@"');if(d!==null){if(b.substr(a).match(/^[a-zA-Z]/)!==null){var m=b.charAt(a);a++}else m=null,j&&h("[a-zA-Z]");if(m!==null)for(var g=[];m!==null;)g.push(m),b.substr(a).match(/^[a-zA-Z]/)!==null?(m=b.charAt(a),a++):(m=null,j&&h("[a-zA-Z]"));
else g=null;if(g!==null){var m=[],k=a;if(b.substr(a,1)==="-"){var o="-";a+=1}else o=null,j&&h('"-"');if(o!==null){if(b.substr(a).match(/^[a-zA-Z0-9]/)!==null){var q=b.charAt(a);a++}else q=null,j&&h("[a-zA-Z0-9]");if(q!==null)for(var s=[];q!==null;)s.push(q),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(q=b.charAt(a),a++):(q=null,j&&h("[a-zA-Z0-9]"));else s=null;s!==null?o=[o,s]:(o=null,a=k)}else o=null,a=k;for(;o!==null;)if(m.push(o),k=a,b.substr(a,1)==="-"?(o="-",a+=1):(o=null,j&&h('"-"')),o!==null){b.substr(a).match(/^[a-zA-Z0-9]/)!==
null?(q=b.charAt(a),a++):(q=null,j&&h("[a-zA-Z0-9]"));if(q!==null)for(s=[];q!==null;)s.push(q),b.substr(a).match(/^[a-zA-Z0-9]/)!==null?(q=b.charAt(a),a++):(q=null,j&&h("[a-zA-Z0-9]"));else s=null;s!==null?o=[o,s]:(o=null,a=k)}else o=null,a=k;m!==null?d=[d,g,m]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?d[2].length===0?("@"+d[1].join("")).toLowerCase():("@"+d[1].join("")+"-"+d[2][0][1].join("")).toLowerCase():null;f===null&&(f=null,a=i);(j=e)&&f===null&&h("[128] LANGTAG");A[c]={nextPos:a,
result:f};return f}function ca(){var c="INTEGER@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a;if(b.substr(a).match(/^[0-9]/)!==null){var f=b.charAt(a);a++}else f=null,j&&h("[0-9]");if(f!==null)for(var d=[];f!==null;)d.push(f),b.substr(a).match(/^[0-9]/)!==null?(f=b.charAt(a),a++):(f=null,j&&h("[0-9]"));else d=null;f=d!==null?function(a){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};lit.value=Z(a);return lit}(d):null;f===null&&(f=null,a=m);(j=e)&&f===
null&&h("[129] INTEGER");A[c]={nextPos:a,result:f};return f}function Ra(){var c="DECIMAL@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a).match(/^[0-9]/)!==null){var d=b.charAt(a);a++}else d=null,j&&h("[0-9]");if(d!==null)for(var i=[];d!==null;)i.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]"));else i=null;if(i!==null)if(b.substr(a,1)==="."?(d=".",a+=1):(d=null,j&&h('"."')),d!==null){var g=[];if(b.substr(a).match(/^[0-9]/)!==null){var k=
b.charAt(a);a++}else k=null,j&&h("[0-9]");for(;k!==null;)g.push(k),b.substr(a).match(/^[0-9]/)!==null?(k=b.charAt(a),a++):(k=null,j&&h("[0-9]"));g!==null?i=[i,d,g]:(i=null,a=f)}else i=null,a=f;else i=null,a=f;f=i!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=Z([a,b,c]);return lit}(i[0],i[1],i[2]):null;f===null&&(f=null,a=m);if(f!==null)m=f;else{f=m=a;b.substr(a,1)==="."?(i=".",a+=1):(i=null,j&&h('"."'));if(i!==null){b.substr(a).match(/^[0-9]/)!==
null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]"));if(d!==null)for(g=[];d!==null;)g.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]"));else g=null;g!==null?i=[i,g]:(i=null,a=f)}else i=null,a=f;f=i!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};lit.value=Z([a,b]);return lit}(i[0],i[1]):null;f===null&&(f=null,a=m);m=f!==null?f:null}(j=e)&&m===null&&h("[130] DECIMAL");A[c]={nextPos:a,result:m};return m}function Qa(){var c=
"DOUBLE@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var i=a,f=a;if(b.substr(a).match(/^[0-9]/)!==null){var d=b.charAt(a);a++}else d=null,j&&h("[0-9]");if(d!==null)for(var m=[];d!==null;)m.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]"));else m=null;if(m!==null)if(b.substr(a,1)==="."?(d=".",a+=1):(d=null,j&&h('"."')),d!==null){var g=[];if(b.substr(a).match(/^[0-9]/)!==null){var k=b.charAt(a);a++}else k=null,j&&h("[0-9]");for(;k!==null;)g.push(k),b.substr(a).match(/^[0-9]/)!==
null?(k=b.charAt(a),a++):(k=null,j&&h("[0-9]"));g!==null?(k=Sa(),k!==null?m=[m,d,g,k]:(m=null,a=f)):(m=null,a=f)}else m=null,a=f;else m=null,a=f;f=m!==null?function(a,b,c,d){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b,c,d]);return lit}(m[0],m[1],m[2],m[3]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;b.substr(a,1)==="."?(m=".",a+=1):(m=null,j&&h('"."'));if(m!==null){b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[0-9]"));
if(g!==null)for(d=[];g!==null;)d.push(g),b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[0-9]"));else d=null;d!==null?(g=Sa(),g!==null?m=[m,d,g]:(m=null,a=f)):(m=null,a=f)}else m=null,a=f;f=m!==null?function(a,b,c){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b,c]);return lit}(m[0],m[1],m[2]):null;f===null&&(f=null,a=i);if(f!==null)i=f;else{f=i=a;b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]"));if(d!==
null)for(m=[];d!==null;)m.push(d),b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]"));else m=null;m!==null?(d=Sa(),d!==null?m=[m,d]:(m=null,a=f)):(m=null,a=f);f=m!==null?function(a,b){lit={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};lit.value=Z([a,b]);return lit}(m[0],m[1]):null;f===null&&(f=null,a=i);i=f!==null?f:null}}(j=e)&&i===null&&h("[131] DOUBLE");A[c]={nextPos:a,result:i};return i}function ic(){var c="INTEGER_POSITIVE@"+a,e=A[c];if(e)return a=
e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&h('"+"');if(d!==null){var i=ca();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[132] INTEGER_POSITIVE");A[c]={nextPos:a,result:f};return f}function hc(){var c="DECIMAL_POSITIVE@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&h('"+"');
if(d!==null){var i=Ra();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="+"+a.value;return a}(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[133] DECIMAL_POSITIVE");A[c]={nextPos:a,result:f};return f}function gc(){var c="DOUBLE_POSITIVE@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="+"){var d="+";a+=1}else d=null,j&&h('"+"');if(d!==null){var i=Qa();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value=
"+"+a.value;return a}(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[134] DOUBLE_POSITIVE");A[c]={nextPos:a,result:f};return f}function lc(){var c="INTEGER_NEGATIVE@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&h('"-"');if(d!==null){var i=ca();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[135] INTEGER_NEGATIVE");
A[c]={nextPos:a,result:f};return f}function kc(){var c="DECIMAL_NEGATIVE@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&h('"-"');if(d!==null){var i=Ra();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[136] DECIMAL_NEGATIVE");A[c]={nextPos:a,result:f};return f}function jc(){var c="DOUBLE_NEGATIVE@"+a,e=A[c];if(e)return a=e.nextPos,
e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="-"){var d="-";a+=1}else d=null,j&&h('"-"');if(d!==null){var i=Qa();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?function(a){a.value="-"+a.value;return a}(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[137] DOUBLE_NEGATIVE");A[c]={nextPos:a,result:f};return f}function Sa(){var c="EXPONENT@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a).match(/^[eE]/)!==null){var d=b.charAt(a);a++}else d=null,j&&h("[eE]");
if(d!==null){if(b.substr(a).match(/^[+\-]/)!==null){var i=b.charAt(a);a++}else i=null,j&&h("[+\\-]");i=i!==null?i:"";if(i!==null){if(b.substr(a).match(/^[0-9]/)!==null){var g=b.charAt(a);a++}else g=null,j&&h("[0-9]");if(g!==null)for(var k=[];g!==null;)k.push(g),b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[0-9]"));else k=null;k!==null?d=[d,i,k]:(d=null,a=f)}else d=null,a=f}else d=null,a=f;f=d!==null?Z([d[0],d[1],d[2]]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[138] EXPONENT");
A[c]={nextPos:a,result:f};return f}function oc(){var c="STRING_LITERAL1@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==="'"){var d="'";a+=1}else d=null,j&&h('"\'"');if(d!==null){var i=[];if(b.substr(a).match(/^[^'\\\n\r]/)!==null){var g=b.charAt(a);a++}else g=null,j&&h("[^'\\\\\\n\\r]");g===null&&(g=fa(),g=g!==null?g:null);for(;g!==null;)i.push(g),b.substr(a).match(/^[^'\\\n\r]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[^'\\\\\\n\\r]")),g===null&&(g=fa(),g=g!==
null?g:null);i!==null?(b.substr(a,1)==="'"?(g="'",a+=1):(g=null,j&&h('"\'"')),g!==null?d=[d,i,g]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[139] STRING_LITERAL1");A[c]={nextPos:a,result:f};return f}function pc(){var c="STRING_LITERAL2@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,1)==='"'){var d='"';a+=1}else d=null,j&&h('"\\""');if(d!==null){var i=[];if(b.substr(a).match(/^[^"\\\n\r]/)!==null){var g=
b.charAt(a);a++}else g=null,j&&h('[^"\\\\\\n\\r]');g===null&&(g=fa(),g=g!==null?g:null);for(;g!==null;)i.push(g),b.substr(a).match(/^[^"\\\n\r]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h('[^"\\\\\\n\\r]')),g===null&&(g=fa(),g=g!==null?g:null);i!==null?(b.substr(a,1)==='"'?(g='"',a+=1):(g=null,j&&h('"\\""')),g!==null?d=[d,i,g]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[140] STRING_LITERAL2");A[c]={nextPos:a,result:f};return f}function mc(){var c=
"STRING_LITERAL_LONG1@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,3)==="'''"){var d="'''";a+=3}else d=null,j&&h("\"'''\"");if(d!==null){var i=[];if(b.substr(a).match(/^[^'\\]/)!==null){var g=b.charAt(a);a++}else g=null,j&&h("[^'\\\\]");g===null&&(g=fa(),g=g!==null?g:null);for(;g!==null;)i.push(g),b.substr(a).match(/^[^'\\]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[^'\\\\]")),g===null&&(g=fa(),g=g!==null?g:null);i!==null?(b.substr(a,3)==="'''"?(g="'''",a+=3):(g=
null,j&&h("\"'''\"")),g!==null?d=[d,i,g]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[141] STRING_LITERAL_LONG1");A[c]={nextPos:a,result:f};return f}function nc(){var c="STRING_LITERAL_LONG2@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var m=a,f=a;if(b.substr(a,3)==='"""'){var d='"""';a+=3}else d=null,j&&h('"\\"\\"\\""');if(d!==null){var i=[];if(b.substr(a).match(/^[^"\\]/)!==null){var g=b.charAt(a);a++}else g=null,j&&h('[^"\\\\]');
g===null&&(g=fa(),g=g!==null?g:null);for(;g!==null;)i.push(g),b.substr(a).match(/^[^"\\]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h('[^"\\\\]')),g===null&&(g=fa(),g=g!==null?g:null);i!==null?(b.substr(a,3)==='"""'?(g='"""',a+=3):(g=null,j&&h('"\\"\\"\\""')),g!==null?d=[d,i,g]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?Z(d[1]):null;f===null&&(f=null,a=m);(j=e)&&f===null&&h("[142] STRING_LITERAL_LONG2");A[c]={nextPos:a,result:f};return f}function fa(){var c="ECHAR@"+a,e=A[c];if(e)return a=
e.nextPos,e.result;e=j;j=!1;var g=a;if(b.substr(a,1)==="\\"){var f="\\";a+=1}else f=null,j&&h('"\\\\"');if(f!==null){if(b.substr(a).match(/^[tbnrf"']/)!==null){var d=b.charAt(a);a++}else d=null,j&&h("[tbnrf\"']");d!==null?f=[f,d]:(f=null,a=g)}else f=null,a=g;(j=e)&&f===null&&h("[143] ECHAR");A[c]={nextPos:a,result:f};return f}function ia(){var c="NIL@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a;if(b.substr(a,1)==="("){var d="(";a+=1}else d=null,j&&h('"("');if(d!==null){for(var i=
[],m=q();m!==null;)i.push(m),m=q();i!==null?(b.substr(a,1)===")"?(m=")",a+=1):(m=null,j&&h('")"')),m!==null?d=[d,i,m]:(d=null,a=f)):(d=null,a=f)}else d=null,a=f;f=d!==null?{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}:null;f===null&&(f=null,a=g);(j=e)&&f===null&&h("[144] NIL");A[c]={nextPos:a,result:f};return f}function q(){var c="WS@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;if(b.substr(a).match(/^[ ]/)!==
null){var g=b.charAt(a);a++}else g=null,j&&h("[ ]");g===null&&(b.substr(a).match(/^[\t]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\t]")),g===null&&(b.substr(a).match(/^[\r]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\r]")),g===null&&(b.substr(a).match(/^[\n]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\n]")),g===null&&(g=uc(),g=g!==null?g:null))));(j=e)&&g===null&&h("[145] WS");A[c]={nextPos:a,result:g};return g}function uc(){var c="COMMENT@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;
var g=a;if(b.substr(a,1)==="#"){var f="#";a+=1}else f=null,j&&h('"#"');if(f!==null){var d=[];if(b.substr(a).match(/^[^\n\r]/)!==null){var m=b.charAt(a);a++}else m=null,j&&h("[^\\n\\r]");for(;m!==null;)d.push(m),b.substr(a).match(/^[^\n\r]/)!==null?(m=b.charAt(a),a++):(m=null,j&&h("[^\\n\\r]"));d!==null?f=[f,d]:(f=null,a=g)}else f=null,a=g;(j=e)&&f===null&&h(" COMMENT");A[c]={nextPos:a,result:f};return f}function tc(){var c="ANON@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a;if(b.substr(a,
1)==="["){var f="[";a+=1}else f=null,j&&h('"["');if(f!==null){for(var d=[],m=q();m!==null;)d.push(m),m=q();d!==null?(b.substr(a,1)==="]"?(m="]",a+=1):(m=null,j&&h('"]"')),m!==null?f=[f,d,m]:(f=null,a=g)):(f=null,a=g)}else f=null,a=g;(j=e)&&f===null&&h("[146] ANON");A[c]={nextPos:a,result:f};return f}function qb(){var c="PN_CHARS_BASE@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;if(b.substr(a).match(/^[A-Z]/)!==null){var g=b.charAt(a);a++}else g=null,j&&h("[A-Z]");g===null&&(b.substr(a).match(/^[a-z]/)!==
null?(g=b.charAt(a),a++):(g=null,j&&h("[a-z]")),g===null&&(b.substr(a).match(/^[\xC0-\xD6]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\xC0-\\xD6]")),g===null&&(b.substr(a).match(/^[\xD8-\xF6]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\xD8-\\xF6]")),g===null&&(b.substr(a).match(/^[\xF8-\u02FF]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\xF8-\\u02FF]")),g===null&&(b.substr(a).match(/^[\u0370-\u037D]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u0370-\\u037D]")),g===null&&(b.substr(a).match(/^[\u037F-\u1FFF]/)!==
null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u037F-\\u1FFF]")),g===null&&(b.substr(a).match(/^[\u200C-\u200D]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u200C-\\u200D]")),g===null&&(b.substr(a).match(/^[\u2070-\u218F]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u2070-\\u218F]")),g===null&&(b.substr(a).match(/^[\u2C00-\u2FEF]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u2C00-\\u2FEF]")),g===null&&(b.substr(a).match(/^[\u3001-\uD7FF]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u3001-\\uD7FF]")),
g===null&&(b.substr(a).match(/^[\uF900-\uFDCF]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\uF900-\\uFDCF]")),g===null&&(b.substr(a).match(/^[\uFDF0-\uFFFD]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\uFDF0-\\uFFFD]")),g===null&&(b.substr(a).match(/^[\u1000-\uEFFF]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u1000-\\uEFFF]")),g=g!==null?g:null)))))))))))));(j=e)&&g===null&&h("[147] PN_CHARS_BASE");A[c]={nextPos:a,result:g};return g}function ra(){var c="PN_CHARS_U@"+a,e=A[c];if(e)return a=e.nextPos,
e.result;e=j;j=!1;var g=qb();g===null&&(b.substr(a,1)==="_"?(g="_",a+=1):(g=null,j&&h('"_"')),g=g!==null?g:null);(j=e)&&g===null&&h("[148] PN_CHARS_U");A[c]={nextPos:a,result:g};return g}function pb(){var c="VARNAME@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a,d=ra();d===null&&(b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]")),d=d!==null?d:null);if(d!==null){var m=[],i=ra();i===null&&(b.substr(a).match(/^[0-9]/)!==null?(i=b.charAt(a),a++):(i=null,j&&
h("[0-9]")),i===null&&(b.substr(a).match(/^[\xB7]/)!==null?(i=b.charAt(a),a++):(i=null,j&&h("[\\xB7]")),i===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=b.charAt(a),a++):(i=null,j&&h("[\\u0300-\\u036F]")),i===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=b.charAt(a),a++):(i=null,j&&h("[\\u203F-\\u2040]")),i=i!==null?i:null))));for(;i!==null;)m.push(i),i=ra(),i===null&&(b.substr(a).match(/^[0-9]/)!==null?(i=b.charAt(a),a++):(i=null,j&&h("[0-9]")),i===null&&(b.substr(a).match(/^[\xB7]/)!==
null?(i=b.charAt(a),a++):(i=null,j&&h("[\\xB7]")),i===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(i=b.charAt(a),a++):(i=null,j&&h("[\\u0300-\\u036F]")),i===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(i=b.charAt(a),a++):(i=null,j&&h("[\\u203F-\\u2040]")),i=i!==null?i:null))));m!==null?d=[d,m]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[0]+d[1].join(""):null;f===null&&(f=null,a=g);(j=e)&&f===null&&h("[149] VARNAME");A[c]={nextPos:a,result:f};return f}function Ba(){var c="PN_CHARS@"+
a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=ra();g===null&&(b.substr(a,1)==="-"?(g="-",a+=1):(g=null,j&&h('"-"')),g===null&&(b.substr(a).match(/^[0-9]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[0-9]")),g===null&&(b.substr(a).match(/^[\xB7]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\xB7]")),g===null&&(b.substr(a).match(/^[\u0300-\u036F]/)!==null?(g=b.charAt(a),a++):(g=null,j&&h("[\\u0300-\\u036F]")),g===null&&(b.substr(a).match(/^[\u203F-\u2040]/)!==null?(g=b.charAt(a),a++):(g=null,
j&&h("[\\u203F-\\u2040]")),g=g!==null?g:null)))));(j=e)&&g===null&&h("[150] PN_CHARS");A[c]={nextPos:a,result:g};return g}function Ya(){var c="PN_PREFIX@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a,d=qb();if(d!==null){var i=[],m=Ba();m===null&&(b.substr(a,1)==="."?(m=".",a+=1):(m=null,j&&h('"."')),m=m!==null?m:null);for(;m!==null;)i.push(m),m=Ba(),m===null&&(b.substr(a,1)==="."?(m=".",a+=1):(m=null,j&&h('"."')),m=m!==null?m:null);i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=
d!==null?function(a,b){if(b[b.length-1]==".")throw Error("Wrong PN_PREFIX, cannot finish with '.'");else return a+b.join("")}(d[0],d[1]):null;f===null&&(f=null,a=g);(j=e)&&f===null&&h("[151] PN_PREFIX");A[c]={nextPos:a,result:f};return f}function ob(){var c="PN_LOCAL@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=a,d=ra();d===null&&(b.substr(a).match(/^[0-9]/)!==null?(d=b.charAt(a),a++):(d=null,j&&h("[0-9]")),d=d!==null?d:null);if(d!==null){for(var i=[],m=Ba();m!==null;)i.push(m),
m=Ba();i!==null?d=[d,i]:(d=null,a=f)}else d=null,a=f;f=d!==null?d[0]+d[1].join(""):null;f===null&&(f=null,a=g);(j=e)&&f===null&&h("[152] PN_LOCAL");A[c]={nextPos:a,result:f};return f}function wc(){var c=function(a){a.sort();for(var b=null,c=[],e=0;e<a.length;e++)a[e]!==b&&(c.push(a[e]),b=a[e]);switch(c.length){case 0:return"end of input";case 1:return c[0];default:return c.slice(0,c.length-1).join(", ")+" or "+c[c.length-1]}}(Xa),e=Math.max(a,wa),e=e<b.length?i(b.charAt(e)):"end of input";return"Expected "+
c+" but "+e+" found."}function xc(){for(var a=1,c=1,e=!1,f=0;f<wa;f++){var d=b.charAt(f);d==="\n"?(e||a++,c=1,e=!1):d==="\r"|d==="\u2028"||d==="\u2029"?(a++,c=1,e=!0):(c++,e=!1)}return{line:a,column:c}}var ga={ANON:tc,AdditiveExpression:V,Aggregate:Zb,ArgList:ib,AskQuery:U,BLANK_NODE_LABEL:sc,BaseDecl:w,BindingValue:ua,BindingsClause:vb,BlankNode:Xb,BlankNodePropertyList:Tb,BooleanLiteral:Ha,BrackettedExpression:Ea,BuiltInCall:Da,COMMENT:uc,Clear:sb,Collection:Sb,ConditionalAndExpression:Oa,ConditionalOrExpression:M,
Constraint:xa,ConstructQuery:L,ConstructTemplate:Db,ConstructTriples:jb,Create:yb,DECIMAL:Ra,DECIMAL_NEGATIVE:kc,DECIMAL_POSITIVE:hc,DOCUMENT:function(){var b="DOCUMENT@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=k();c===null&&(c=y(),c=c!==null?c:null);A[b]={nextPos:a,result:c};return c},DOUBLE:Qa,DOUBLE_NEGATIVE:jc,DOUBLE_POSITIVE:gc,DatasetClause:Q,DefaultGraphClause:$,DeleteClause:Fb,DeleteData:Ab,DeleteWhere:Bb,DescribeQuery:R,Drop:ub,ECHAR:fa,EXPONENT:Sa,ExistsFunc:ac,ExpressionList:Nb,Filter:Mb,
FunctionCall:Za,GraphGraphPattern:Kb,GraphNode:oa,GraphPatternNotTriples:hb,GraphRef:Ia,GraphRefAll:$a,GraphTerm:Ub,GroupClause:ka,GroupCondition:P,GroupGraphPattern:X,GroupGraphPatternSub:Gb,GroupOrUnionGraphPattern:Hb,HavingClause:sa,INTEGER:ca,INTEGER_NEGATIVE:lc,INTEGER_POSITIVE:ic,IRI_REF:la,IRIref:T,IRIrefOrFunction:Yb,InsertClause:bb,InsertData:zb,LANGTAG:dc,LimitClause:Ua,LimitOffsetClauses:rb,Load:xb,MinusGraphPattern:Jb,Modify:Eb,MultiplicativeExpression:pa,NIL:ia,NamedGraphClause:aa,NotExistsFunc:bc,
NumericLiteral:Ga,NumericLiteralNegative:qa,NumericLiteralPositive:fc,NumericLiteralUnsigned:ec,ObjectList:ja,OffsetClause:Va,OptionalGraphPattern:Ib,OrderClause:va,OrderCondition:Ta,PNAME_LN:rc,PNAME_NS:Ca,PN_CHARS:Ba,PN_CHARS_BASE:qb,PN_CHARS_U:ra,PN_LOCAL:ob,PN_PREFIX:Ya,PathAlternative:mb,PathElt:nb,PathEltOrInverse:Na,PathMod:Qb,PathNegatedPropertySet:Rb,PathOneInPropertySet:za,PathPrimary:Pb,PathSequence:Ma,PrefixDecl:s,PrefixedName:qc,PrimaryExpression:Aa,Prologue:t,PropertyList:Ob,PropertyListNotEmpty:ya,
PropertyListNotEmptyPath:function(){var c="PropertyListNotEmptyPath@"+a,e=A[c];if(e)return a=e.nextPos,e.result;e=j;j=!1;var g=a,f=La();f===null&&(f=S(),f=f!==null?f:null);if(f!==null){var d=ja();if(d!==null){var i=[],m=a;if(b.substr(a,1)===";"){var k=";";a+=1}else k=null,j&&h('";"');if(k!==null){var o=a,q=La();q===null&&(q=S(),q=q!==null?q:null);if(q!==null){var s=ja();s!==null?q=[q,s]:(q=null,a=o)}else q=null,a=o;o=q!==null?q:"";o!==null?k=[k,o]:(k=null,a=m)}else k=null,a=m;for(;k!==null;)i.push(k),
m=a,b.substr(a,1)===";"?(k=";",a+=1):(k=null,j&&h('";"')),k!==null?(o=a,q=La(),q===null&&(q=S(),q=q!==null?q:null),q!==null?(s=ja(),s!==null?q=[q,s]:(q=null,a=o)):(q=null,a=o),o=q!==null?q:"",o!==null?k=[k,o]:(k=null,a=m)):(k=null,a=m);i!==null?f=[f,d,i]:(f=null,a=g)}else f=null,a=g}else f=null,a=g;(j=e)&&f===null&&h("[73] PropertyListNotEmptyPath");A[c]={nextPos:a,result:f};return f},PropertyListPath:function(){var b="PropertyListPath@"+a,c=A[b];if(c)return a=c.nextPos,c.result;c=j;j=!1;var e=ya(),
e=e!==null?e:"";(j=c)&&e===null&&h("[74] PropertyListPath");A[b]={nextPos:a,result:e};return e},QuadData:ab,QuadPattern:eb,Quads:fb,QuadsNotTriples:gb,Query:g,RDFLiteral:Fa,RegexExpression:$b,RelationalExpression:Pa,SPARQL:k,STRING_LITERAL1:oc,STRING_LITERAL2:pc,STRING_LITERAL_LONG1:mc,STRING_LITERAL_LONG2:nc,SelectClause:K,SelectQuery:I,ServiceGraphPattern:Lb,SolutionModifier:Y,String:cc,SubSelect:J,TURTLE:y,TriplesBlock:ma,TriplesNode:lb,TriplesSameSubject:Ja,TriplesTemplate:na,UnaryExpression:ba,
Update:Wa,Update1:wb,UsingClause:cb,VAR1:Vb,VAR2:Wb,VARNAME:pb,Var:S,VarOrIRIref:ha,VarOrTerm:kb,Verb:Ka,VerbPath:La,WS:q,WhereClause:W,base:E,directive:C,prefixID:G,statement:z};if(c!==void 0){if(ga[c]===void 0)throw Error("Invalid rule name: "+i(c)+".");}else c="DOCUMENT";var a=0,j=!0,wa=0,Xa=[],A={},Z=function(a){for(var b="",c=0;c<a.length;c++)b+=typeof a[c]==="string"?a[c]:a[c].join("");return b},ea=0,Cb=function(a){for(var b="",c=0;c<a.length;c++)b+=a[c];return b.toUpperCase()},ga=ga[c]();if(ga===
null||a!==b.length)throw ga=xc(),new this.SyntaxError(wc(),ga.line,ga.column);return ga},toSource:function(){return this._source},SyntaxError:function(b,c,g){this.name="SyntaxError";this.message=b;this.line=c;this.column=g}};c.SyntaxError.prototype=Error.prototype;return c}();var Y={};(new Date).getTime();Y.combined_parser=ka.parser;Y.parser={};Y.parser.parse=function(c,b){for(var e=[],g=Y.combined_parser.parse(c),i={},h={namespaces:i,base:"",blankCounter:0},k=0;k<g.length;k++){var o=g[k];if(o.token===
"base")h.base=o.value;else if(o.token==="prefix")i[o.prefix]=o.local;else if(o.token==="triples"||o.token==="triplespattern")for(var t=0;t<o.triplesContext.length;t++){var w=o.triplesContext[t],w={subject:z.lexicalFormTerm(w.subject,h),predicate:z.lexicalFormTerm(w.predicate,h),object:z.lexicalFormTerm(w.object,h),graph:b};e.push(w)}}return e};var y={defaultContext:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",
xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#"},
UrisMap:function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]}};y.UrisMap.prototype.values=function(){var c={},b;for(b in this)!z.include(this.interfaceProperties,b)&&typeof this[b]!=="function"&&b!=="defaultNs"&&b!=="interfaceProperties"&&(c[b]=this[b]);return c};y.UrisMap.prototype.get=function(c){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";return this[c]};y.UrisMap.prototype.remove=function(c){if(c.indexOf(" ")!=
-1)throw"Prefix must not contain any whitespaces";delete this[c];return null};y.UrisMap.prototype.set=function(c,b){if(c.indexOf(" ")!=-1)throw"Prefix must not contain any whitespaces";this[c]=b};y.UrisMap.prototype.setDefault=function(c){this.defaultNs=c};y.UrisMap.prototype.addAll=function(c,b){for(var e in c)z.include(this.interfaceProperties,e)||(this[e]!=null?b===!0&&(this[e]=c[e]):this[e]=c[e]);return this};y.UrisMap.prototype.resolve=function(c){var b=c.split(":"),c=b[0],b=b[1];return c===
""?this.defaultNs+b:this[c]!=null?this[c]+b:null};y.UrisMap.prototype.shrink=function(c){for(var b in this){var e=this[b];if(c.indexOf(e)===0&&e!=="")return c=c.split(e)[1],b+":"+c}return c};y.Profile=function(){this.prefixes=new y.UrisMap;this.terms=new y.UrisMap};y.Profile.prototype.importProfile=function(c,b){this.prefixes.addAll(c.prefixes,b);this.terms.addAll(c.terms,b)};y.Profile.prototype.resolve=function(c){return c.indexOf(":")!=-1?this.prefixes.resolve(c):this.terms[c]!=null?this.terms.resolve(c):
null};y.Profile.prototype.setDefaultPrefix=function(c){this.prefixes.setDefault(c)};y.Profile.prototype.setDefaultVocabulary=function(c){this.terms.setDefault(c)};y.Profile.prototype.setPrefix=function(c,b){this.prefixes.set(c,b)};y.Profile.prototype.setTerm=function(c,b){this.terms.set(c,b)};y.RDFEnvironment=function(){this.blankNodeCounter=0;var c=this;this.filters={s:function(b){return function(c){return c.subject.equals(b)}},p:function(b){return function(c){return c.predicate.equals(b)}},o:function(b){return function(c){return c.object.equals(b)}},
sp:function(b,c){return function(g){return g.subject.equals(b)&&g.predicate.equals(c)}},so:function(b,c){return function(g){return g.subject.equals(b)&&g.object.equals(c)}},po:function(b,c){return function(g){return g.predicate.equals(b)&&g.object.equals(c)}},spo:function(b,c,g){return function(h){return h.subject.equals(b)&&h.predicate.equals(c)&&h.object.equals(g)}},describes:function(b){return function(c){return c.subject.equals(b)||c.object.equals(b)}},type:function(b){var g=c.resolve("rdf:type");
return function(c){return c.predicate.equals(g)&&c.object.equals(b)}}};for(var b in y.defaultContext)this.prefixes.set(b,y.defaultContext[b])};z["extends"](y.Profile,y.RDFEnvironment);y.RDFEnvironment.prototype.createBlankNode=function(){var c=new y.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return c};y.RDFEnvironment.prototype.createNamedNode=function(c){var b=this.resolve(c);return b!=null?new y.NamedNode(b):new y.NamedNode(c)};y.RDFEnvironment.prototype.createLiteral=function(c,b,
e){return e!=null?new y.Literal(c,b,e.toString()):new y.Literal(c,b,e)};y.RDFEnvironment.prototype.createTriple=function(c,b,e){return new y.Triple(c,b,e)};y.RDFEnvironment.prototype.createGraph=function(c){var b=new y.Graph;if(c!=null)for(var e=0;e<c.length;e++)b.add(c[e]);return b};y.RDFEnvironment.prototype.createAction=function(c,b){return function(e){return c(e)?b(e):e}};y.RDFEnvironment.prototype.createProfile=function(c){return c===!0?new y.RDFEnvironment.Profile:(c=new y.RDFEnvironment.Profile,
c.importProfile(this),c)};y.RDFEnvironment.prototype.createTermMap=function(c){if(c===!0)return new y.UrisMap;else{var c=this.terms.values(),b=new y.UrisMap,e;for(e in c)b[e]=c[e];return b}};y.RDFEnvironment.prototype.createPrefixMap=function(c){if(c===!0)return new y.UrisMap;else{var c=this.prefixes.values(),b=new y.UrisMap,e;for(e in c)b[e]=c[e];return b}};y.RDFNode=function(c){this.interfaceName=c;this.attributes=["interfaceName","nominalValue"]};y.RDFNode.prototype.equals=function(c){if(c.interfaceName==
null)return this.valueOf()==c;else{for(var b in this.attributes){var e=this.attributes[b];if(this[e]!=c[e])return!1}return!0}};y.BlankNode=function(c){y.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+c;this.bnodeId=c};z["extends"](y.RDFNode,y.BlankNode);y.BlankNode.prototype.toString=function(){return this.nominalValue};y.BlankNode.prototype.toNT=function(){return this.nominalValue};y.BlankNode.prototype.valueOf=function(){return this.nominalValue};y.Literal=function(c,b,e){y.RDFNode.call(this,
"Literal");this.nominalValue=c;if(b!=null)this.language=b;else if(e!=null)this.datatype=e};z["extends"](y.RDFNode,y.Literal);y.Literal.prototype.toString=function(){var c='"'+this.nominalValue+'"';if(this.language!=null)c=c+"@"+this.language;else if(this.datatype!=null||this.type)c=c+"^^<"+(this.datatype||this.type)+">";return c};y.Literal.prototype.toNT=function(){return this.toString()};y.Literal.prototype.valueOf=function(){return g.effectiveTypeValue({token:"literal",type:this.type,value:this.nominalValue,
language:this.language})};y.NamedNode=function(c){y.RDFNode.call(this,"NamedNode");this.nominalValue=c.value!=null?c.value:c};z["extends"](y.RDFNode,y.NamedNode);y.NamedNode.prototype.toString=function(){return this.nominalValue};y.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};y.NamedNode.prototype.valueOf=function(){return this.nominalValue};y.Triple=function(c,b,e){this.subject=c;this.predicate=b;this.object=e};y.Triple.prototype.equals=function(c){return this.subject.equals(c.subject)&&
this.predicate.equals(c.predicate)&&this.object.equals(c.object)};y.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};y.Graph=function(){this.triples=[];this.duplicates={};this.actions=[]};y.Graph.prototype.add=function(c){for(var b=0;b<this.actions.length;b++)c=this.actions[b](c);b=c.subject.toString()+c.predicate.toString()+c.object.toString();this.duplicates[b]||(this.duplicates[b]=!0,this.triples.push(c));return this};y.Graph.prototype.addAction=
function(c,b){this.actions.push(c);if(b==!0)for(var e=0;e<this.triples.length;e++)this.triples[e]=c(this.triples[e]);return this};y.Graph.prototype.addAll=function(c){for(var c=c.toArray(),b=0;b<c.length;b++)this.add(c[b]);return this};y.Graph.prototype.remove=function(c){for(var b=null,e=0;e<this.triples.length;e++)if(this.triples[e].equals(c)){delete this.duplicates[c.subject.toString()+c.predicate.toString()+c.object.toString()];b=e;break}b!=null&&this.triples.splice(b,1);return this};y.Graph.prototype.toArray=
function(){return this.triples};y.Graph.prototype.some=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!0)return!0;return!1};y.Graph.prototype.every=function(c){for(var b=0;b<this.triples.length;b++)if(c(this.triples[b],this)===!1)return!1;return!0};y.Graph.prototype.filter=function(c){for(var b=new y.Graph,e=0;e<this.triples.length;e++)c(this.triples[e],this)===!0&&b.add(this.triples[e]);return b};y.Graph.prototype.forEach=function(c){for(var b=0;b<this.triples.length;b++)c(this.triples[b],
this)};y.Graph.prototype.merge=function(){for(var c=new y.Graph,b=0;b<this.triples;b++){var e=this.triples[b];c.add(e)}for(b=0;b<triples.length;b++)e=triples[b],this.add(e);return c};y.Graph.prototype.match=function(c,b,e,g){for(var i=new y.Graph,h=0,k=0;k<this.triples.length;k++){var o=this.triples[k];if(c==null||o.subject.equals(c))if(b==null||o.predicate.equals(b))if(e==null||o.object.equals(e))if(g==null||h<g)h++,i.add(o);else break}return i};y.Graph.prototype.removeMatches=function(c,b,e){for(var g=
[],i=0;i<this.triples.length;i++){var h=this.triples[i];if(c==null||h.subject.equals(c))if(b==null||h.predicate.equals(b))(e==null||h.object.equals(e))&&g.push(h)}for(i=0;i<g.length;i++)this.remove(g[i]);return this};y.Graph.prototype.toNT=function(){var c="";this.forEach(function(b){c+=b.toString()});return c};y.buildRDFResource=function(c,b,e,g){return c.token==="blank"?y.buildBlankNode(c,b,e,g):c.token==="literal"?y.buildLiteral(c,b,e,g):c.token==="uri"?y.buildNamedNode(c,b,e,g):c.token==="var"?
(c=b[c.value],c!=null?y.buildRDFResource(c,b,e,g):null):null};y.buildBlankNode=function(c){if(c.value==null&&c.label)c.value=c.label;if(c.value.indexOf("_:")===0)c.value=c.value.split("_:")[1];return new y.BlankNode(c.value)};y.buildLiteral=function(c){return new y.Literal(c.value,c.lang,c.type)};y.buildNamedNode=function(c,b,e,g){if(c.value==null&&c.prefix!=null)b=e.resolveNsInEnvironment(c.prefix,g),c.value=b+c.suffix;return new y.NamedNode(c)};y.rdf=new y.RDFEnvironment;var g={checkFilters:function(c,
b,e,m,i,h){var k=c.filter,o=[];if(k==null||c.length!=null)return b;for(c=0;c<k.length;c++){for(var b=g.run(k[c].value,b,e,m,i,h),t=[],w=0;w<b.length;w++)b[w].__nullify__!=null?o.push(b[w]):t.push(b[w]);b=t}return b.concat(o)}};g.boundVars=function(c){if(c.expressionType!=null){var b=c.expressionType;if(b=="relationalexpression")return b=c.op2,g.boundVars(c.op1)+g.boundVars(b);else if(b=="conditionalor"||b=="conditionaland"){for(var e=[],b=0;b<c.operands;b++)e=e.concat(g.boundVars(c.operands[b]));
return e}else if(b=="builtincall")if(c.args==null)return[];else{e=[];for(b=0;b<c.args.length;b++)e=e.concat(g.boundVars(c.args[b]));return e}else if(b=="multiplicativeexpression"){e=g.boundVars(c.factor);for(b=0;b<c.factors.length;b++)e=e.concat(g.boundVars(c.factors[b].expression));return e}else if(b=="additiveexpression"){e=g.boundVars(c.summand);for(b=0;b<c.summands.length;b++)e=e.concat(g.boundVars(c.summands[b].expression));return e}else if(b=="regex")return e=g.boundVars(c.expression1),e.concat(g.boundVars(c.expression2));
else if(b=="unaryexpression")return g.boundVars(c.expression);else if(b=="atomic")return c.primaryexpression=="var"?[c.value]:[]}else throw console.log("ERROR"),console.log(c),"Cannot find bound expressions in a no expression token";};g.run=function(c,b,e,m,i,h){for(var k=h.copyDenormalizedBindings(b,i.outCache),o=[],t=0;t<b.length;t++){var w=g.runFilter(c,k[t],h,m,i),w=g.ebv(w);g.isEbvError(w)?e&&(w={__nullify__:!0,bindings:b[t]},o.push(w)):w===!0?o.push(b[t]):e&&(w={__nullify__:!0,bindings:b[t]},
o.push(w))}return o};g.collect=function(c,b,e,m,i){for(var h=i.copyDenormalizedBindings(b,m.outCache),k=[],o=0;o<h.length;o++){var t=g.runFilter(c,h[o],i,e,m);k.push({binding:b[o],value:t})}return k};g.runDistinct=function(){};g.runAggregator=function(c,b,e,m,i){if(b==null||b.length===0)return g.ebvError();else if(c.token==="variable"&&c.kind=="var")return b[0][c.value.value];else if(c.token==="variable"&&c.kind==="aliased")if(c.expression.expressionType==="atomic"&&c.expression.primaryexpression===
"var")return b[0][c.expression.value.value];else if(c.expression.expressionType==="aggregate")if(c.expression.aggregateType==="max"){for(var h=null,k=0;k<b.length;k++){var o=b[k],o=g.runFilter(c.expression.expression,o,e,m,i);g.isEbvError(o)||(h===null?h=o:g.runLtFunction(h,o).value===!0&&(h=o))}return h===null?g.ebvError():h}else if(c.expression.aggregateType==="min"){h=null;for(k=0;k<b.length;k++)o=b[k],o=g.runFilter(c.expression.expression,o,e,m,i),g.isEbvError(o)||(h===null?h=o:g.runGtFunction(h,
o).value===!0&&(h=o));return h===null?g.ebvError():h}else if(c.expression.aggregateType==="count"){var h={},t=0;if(c.expression.expression==="*")if(c.expression.distinct!=null&&c.expression.distinct!="")for(k=0;k<b.length;k++){var o=b[k],w=z.hashTerm(o);h[w]==null&&(h[w]=!0,t++)}else t=b.length;else for(k=0;k<b.length;k++)o=b[k],o=g.runFilter(c.expression.expression,o,e,m,i),g.isEbvError(o)||(c.expression.distinct!=null&&c.expression.distinct!=""?(w=z.hashTerm(o),h[w]==null&&(h[w]=!0,t++)):t++);return{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#integer",value:""+t}}else if(c.expression.aggregateType==="avg"){for(var h={},s={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"},k=t=0;k<b.length;k++)o=b[k],o=g.runFilter(c.expression.expression,o,e,m,i),g.isEbvError(o)||(c.expression.distinct!=null&&c.expression.distinct!=""?(w=z.hashTerm(o),h[w]==null&&(h[w]=!0,g.isNumeric(o)&&(s=g.runSumFunction(s,o),t++))):g.isNumeric(o)&&(s=g.runSumFunction(s,o),t++));c=g.runDivFunction(s,{token:"literal",
type:"http://www.w3.org/2001/XMLSchema#integer",value:""+t});c.value=""+c.value;return c}else if(c.expression.aggregateType==="sum"){h={};s={token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:"0"};for(k=0;k<b.length;k++)o=b[k],o=g.runFilter(c.expression.expression,o,e,m,i),g.isEbvError(o)||(c.expression.distinct!=null&&c.expression.distinct!=""?(w=z.hashTerm(o),h[w]==null&&(h[w]=!0,g.isNumeric(o)&&(s=g.runSumFunction(s,o)))):g.isNumeric(o)&&(s=g.runSumFunction(s,o)));s.value=""+
s.value;return s}else return o=g.runFilter(aggregate.expression,b[0],m,{blanks:{},outCache:{}})};g.runFilter=function(c,b,e,m,i){if(c.expressionType!=null){var h=c.expressionType;if(h=="relationalexpression"){var h=g.runFilter(c.op1,b,e,m,i),k=g.runFilter(c.op2,b,e,m,i);return g.runRelationalFilter(c,h,k,b,e,m,i)}else if(h=="conditionalor")return g.runOrFunction(c,b,e,m,i);else if(h=="conditionaland")return g.runAndFunction(c,b,e,m,i);else if(h=="additiveexpression")return g.runAddition(c.summand,
c.summands,b,e,m,i);else if(h=="builtincall")return g.runBuiltInCall(c.builtincall,c.args,b,e,m,i);else if(h=="multiplicativeexpression")return g.runMultiplication(c.factor,c.factors,b,e,m,i);else if(h=="unaryexpression")return g.runUnaryExpression(c.unaryexpression,c.expression,b,e,m,i);else if(h=="irireforfunction")return g.runIriRefOrFunction(c.iriref,c.args,b,e,m,i);else if(h=="regex")return g.runRegex(c.text,c.pattern,c.flags,b,e,m,i);else if(h=="atomic")if(c.primaryexpression=="var")return b[c.value.value];
else{if(typeof c.value=="object"&&!(c.value.type==null||typeof c.value.type!="object"))c.value.type=z.lexicalFormBaseUri(c.value.type,i);return c.value}else throw"Unknown filter expression type";}else throw"Cannot find bound expressions in a no expression token";};g.isRDFTerm=function(c){return c==null?!1:c.token&&c.token=="literal"||c.token&&c.token=="uri"||c.token&&c.token=="blank"?!0:!1};g.RDFTermEquality=function(c,b,e,m){return c.token==="literal"&&b.token==="literal"?c.lang==b.lang&&c.type==
b.type&&c.value==b.value?!0:c.type!=null&&b.type!=null?g.ebvError():g.isSimpleLiteral(c)&&b.type!=null?g.ebvError():g.isSimpleLiteral(b)&&c.type!=null?g.ebvError():!1:c.token==="uri"&&b.token==="uri"?z.lexicalFormBaseUri(c,m)==z.lexicalFormBaseUri(b,m):c.token==="blank"&&b.token==="blank"?c.value==b.value:!1};g.isInteger=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||
c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type==
"http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};g.isFloat=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#float"?!0:!1:!1};g.isDecimal=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#decimal"?!0:!1:!1};g.isDouble=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#double"?
!0:!1:!1};g.isNumeric=function(c){return c==null?!1:c.token==="literal"?c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#float"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type==
"http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"?!0:!1:!1};g.isSimpleLiteral=function(c){return c&&c.token=="literal"?
c.type==null&&c.lang==null?!0:!1:!1};g.isXsdType=function(c,b){return b&&b.token=="literal"?b.type=="http://www.w3.org/2001/XMLSchema#"+c:!1};g.ebv=function(c){if(c==null||g.isEbvError(c))return g.ebvError();else if(c.token&&c.token==="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer"||c.type=="http://www.w3.org/2001/XMLSchema#decimal"||c.type=="http://www.w3.org/2001/XMLSchema#double"||c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||
c.type=="http://www.w3.org/2001/XMLSchema#long"||c.type=="http://www.w3.org/2001/XMLSchema#int"||c.type=="http://www.w3.org/2001/XMLSchema#short"||c.type=="http://www.w3.org/2001/XMLSchema#byte"||c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"){var b=
parseFloat(c.value);return isNaN(b)?!1:parseFloat(c.value)!=0}else return c.type==="http://www.w3.org/2001/XMLSchema#boolean"?c.value==="true"||c.value===!0||c.value==="True":c.type==="http://www.w3.org/2001/XMLSchema#string"?c.value!="":c.type==="http://www.w3.org/2001/XMLSchema#dateTime"?new Date(c.value)!=null:g.isEbvError(c)?c:c.type==null?c.value!=""?!0:!1:g.ebvError();else return c.value===!0};g.ebvTrue=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0}};
g.ebvFalse=function(){return val={token:"literal",type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1}};g.ebvError=function(){return val={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}};g.isEbvError=function(c){return typeof c=="object"&&c!=null?c.type==="https://github.com/antoniogarrote/js-tools/types#error":!1};g.ebvBoolean=function(c){return g.isEbvError(c)?c:c===!0?g.ebvTrue():g.ebvFalse()};g.runRelationalFilter=function(c,b,e,m,i,h,k){c=c.operator;
if(c==="=")return g.runEqualityFunction(b,e,m,i,h,k);else if(c==="!="){b=g.runEqualityFunction(b,e,m,i,h,k);if(!g.isEbvError(b))b.value=!b.value;return b}else if(c==="<")return g.runLtFunction(b,e,m);else if(c===">")return g.runGtFunction(b,e,m);else if(c==="<=")return g.runLtEqFunction(b,e,m);else if(c===">=")return g.runGtEqFunction(b,e,m);else throw"Error applying relational filter, unknown operator";};g.effectiveTypeValue=function(c){if(c.token=="literal")if(c.type=="http://www.w3.org/2001/XMLSchema#integer")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#decimal")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#float")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#double")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger")return c=parseFloat(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#negativeInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#long")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#int")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#short")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#byte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedLong")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedInt")return c=
parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedShort")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#unsignedByte")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return c=parseInt(c.value);else if(c.type=="http://www.w3.org/2001/XMLSchema#date"||c.type=="http://www.w3.org/2001/XMLSchema#dateTime")try{return z.parseISO8601(c.value)}catch(b){return null}else return c.type=="http://www.w3.org/2001/XMLSchema#boolean"?
c.value===!0||c.value==="true"||c.value==="1"||c.value===1||c.value===!0?!0:c.value===!1||c.value==="false"||c.value==="0"||c.value===0||c.value===!1?!1:void 0:c.type=="http://www.w3.org/2001/XMLSchema#string"?c.value===null||c.value===void 0?void 0:""+c.value:c.value;else throw console.log("not implemented yet"),"value not supported in operations yet";};g.runOrFunction=function(c,b,e,m,i){for(var h=null,k=0;k<c.operands.length;k++){var o=g.runFilter(c.operands[k],b,e,m,i);g.isEbvError(o)==!1&&(o=
g.ebv(o));h==null?h=o:g.isEbvError(o)?h=g.isEbvError(h)?g.ebvError():h===!0?!0:g.ebvError():o===!0?h=!0:g.isEbvError(h)&&(h=g.ebvError())}return g.ebvBoolean(h)};g.runAndFunction=function(c,b,e,m,i){for(var h=null,k=0;k<c.operands.length;k++){var o=g.runFilter(c.operands[k],b,e,m,i);g.isEbvError(o)==!1&&(o=g.ebv(o));h==null?h=o:g.isEbvError(o)?h=g.isEbvError(h)?g.ebvError():h===!0?g.ebvError():!1:o===!0?g.isEbvError(h)&&(h=g.ebvError()):h=!1}return g.ebvBoolean(h)};g.runEqualityFunction=function(c,
b,e,m,i,h){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();if(g.isNumeric(c)&&g.isNumeric(b))return e=g.effectiveTypeValue(c),i=g.effectiveTypeValue(b),isNaN(e)||isNaN(i)?g.ebvBoolean(g.RDFTermEquality(c,b,m,h)):g.ebvBoolean(e==i);else if((g.isSimpleLiteral(c)||g.isXsdType("string",c))&&(g.isSimpleLiteral(b)||g.isXsdType("string",b)))return g.ebvBoolean(g.effectiveTypeValue(c)==g.effectiveTypeValue(b));else if(g.isXsdType("boolean",c)&&g.isXsdType("boolean",b))return g.ebvBoolean(g.effectiveTypeValue(c)==
g.effectiveTypeValue(b));else if((g.isXsdType("dateTime",c)||g.isXsdType("date",c))&&(g.isXsdType("dateTime",b)||g.isXsdType("date",b))){if(g.isXsdType("dateTime",c)&&g.isXsdType("date",b))return g.ebvFalse();if(g.isXsdType("date",c)&&g.isXsdType("dateTime",b))return g.ebvFalse();c=z.compareDateComponents(c.value,b.value);return c!=null?c==0?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.isRDFTerm(c)&&g.isRDFTerm(b)?g.ebvBoolean(g.RDFTermEquality(c,b,m,h)):g.ebvFalse()};g.runGtFunction=function(c,
b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();if(g.isNumeric(c)&&g.isNumeric(b))return g.ebvBoolean(g.effectiveTypeValue(c)>g.effectiveTypeValue(b));else if(g.isSimpleLiteral(c)&&g.isSimpleLiteral(b))return g.ebvBoolean(g.effectiveTypeValue(c)>g.effectiveTypeValue(b));else if(g.isXsdType("string",c)&&g.isXsdType("string",b))return g.ebvBoolean(g.effectiveTypeValue(c)>g.effectiveTypeValue(b));else if(g.isXsdType("boolean",c)&&g.isXsdType("boolean",b))return g.ebvBoolean(g.effectiveTypeValue(c)>
g.effectiveTypeValue(b));else if((g.isXsdType("dateTime",c)||g.isXsdType("date",c))&&(g.isXsdType("dateTime",b)||g.isXsdType("date",b))){if(g.isXsdType("dateTime",c)&&g.isXsdType("date",b))return g.ebvFalse();if(g.isXsdType("date",c)&&g.isXsdType("dateTime",b))return g.ebvFalse();var e=z.compareDateComponents(c.value,b.value);return e!=null?e==1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runTotalGtFunction=function(c,b){return g.isEbvError(c)||g.isEbvError(b)?g.ebvError():g.isNumeric(c)&&
g.isNumeric(b)||g.isSimpleLiteral(c)&&g.isSimpleLiteral(b)||g.isXsdType("string",c)&&g.isSimpleLiteral("string",b)||g.isXsdType("boolean",c)&&g.isSimpleLiteral("boolean",b)||g.isXsdType("dateTime",c)&&g.isSimpleLiteral("dateTime",b)?g.runGtFunction(c,b,[]):c.token&&c.token==="uri"&&b.token&&b.token==="uri"?g.ebvBoolean(c.value>b.value):c.token&&c.token==="literal"&&b.token&&b.token==="literal"?g.ebvBoolean(""+c.value+c.type+c.lang>""+b.value+b.type+b.lang):c.token&&c.token==="blank"&&b.token&&b.token===
"blank"?g.ebvBoolean(c.value>b.value):c.value&&b.value?g.ebvBoolean(c.value>b.value):g.ebvTrue()};g.runLtFunction=function(c,b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();if(g.isNumeric(c)&&g.isNumeric(b))return g.ebvBoolean(g.effectiveTypeValue(c)<g.effectiveTypeValue(b));else if(g.isSimpleLiteral(c)&&g.isSimpleLiteral(b))return g.ebvBoolean(g.effectiveTypeValue(c)<g.effectiveTypeValue(b));else if(g.isXsdType("string",c)&&g.isXsdType("string",b))return g.ebvBoolean(g.effectiveTypeValue(c)<
g.effectiveTypeValue(b));else if(g.isXsdType("boolean",c)&&g.isXsdType("boolean",b))return g.ebvBoolean(g.effectiveTypeValue(c)<g.effectiveTypeValue(b));else if((g.isXsdType("dateTime",c)||g.isXsdType("date",c))&&(g.isXsdType("dateTime",b)||g.isXsdType("date",b))){if(g.isXsdType("dateTime",c)&&g.isXsdType("date",b))return g.ebvFalse();if(g.isXsdType("date",c)&&g.isXsdType("dateTime",b))return g.ebvFalse();var e=z.compareDateComponents(c.value,b.value);return e!=null?e==-1?g.ebvTrue():g.ebvFalse():
g.ebvError()}else return g.ebvFalse()};g.runGtEqFunction=function(c,b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();if(g.isNumeric(c)&&g.isNumeric(b))return g.ebvBoolean(g.effectiveTypeValue(c)>=g.effectiveTypeValue(b));else if(g.isSimpleLiteral(c)&&g.isSimpleLiteral(b))return g.ebvBoolean(g.effectiveTypeValue(c)>=g.effectiveTypeValue(b));else if(g.isXsdType("string",c)&&g.isXsdType("string",b))return g.ebvBoolean(g.effectiveTypeValue(c)>=g.effectiveTypeValue(b));else if(g.isXsdType("boolean",
c)&&g.isXsdType("boolean",b))return g.ebvBoolean(g.effectiveTypeValue(c)>=g.effectiveTypeValue(b));else if((g.isXsdType("dateTime",c)||g.isXsdType("date",c))&&(g.isXsdType("dateTime",b)||g.isXsdType("date",b))){if(g.isXsdType("dateTime",c)&&g.isXsdType("date",b))return g.ebvFalse();if(g.isXsdType("date",c)&&g.isXsdType("dateTime",b))return g.ebvFalse();var e=z.compareDateComponents(c.value,b.value);return e!=null?e!=-1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runLtEqFunction=
function(c,b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();if(g.isNumeric(c)&&g.isNumeric(b))return g.ebvBoolean(g.effectiveTypeValue(c)<=g.effectiveTypeValue(b));else if(g.isSimpleLiteral(c)&&g.isSimpleLiteral(b))return g.ebvBoolean(g.effectiveTypeValue(c)<=g.effectiveTypeValue(b));else if(g.isXsdType("string",c)&&g.isXsdType("string",b))return g.ebvBoolean(g.effectiveTypeValue(c)<=g.effectiveTypeValue(b));else if(g.isXsdType("boolean",c)&&g.isXsdType("boolean",b))return g.ebvBoolean(g.effectiveTypeValue(c)<=
g.effectiveTypeValue(b));else if((g.isXsdType("dateTime",c)||g.isXsdType("date",c))&&(g.isXsdType("dateTime",b)||g.isXsdType("date",b))){if(g.isXsdType("dateTime",c)&&g.isXsdType("date",b))return g.ebvFalse();if(g.isXsdType("date",c)&&g.isXsdType("dateTime",b))return g.ebvFalse();var e=z.compareDateComponents(c.value,b.value);return e!=null?e!=1?g.ebvTrue():g.ebvFalse():g.ebvError()}else return g.ebvFalse()};g.runAddition=function(c,b,e,m,i,h){var k=g.runFilter(c,e,m,i,h);if(g.isEbvError(k))return g.ebvError();
c=k;if(g.isNumeric(k)){for(k=0;k<b.length;k++){var o=g.runFilter(b[k].expression,e,m,i,h);if(g.isNumeric(o))b[k].operator==="+"?c=g.runSumFunction(c,o):b[k].operator==="-"&&(c=g.runSubFunction(c,o));else return g.ebvFalse()}return c}else return g.ebvFalse()};g.runSumFunction=function(c,b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();var e=g.effectiveTypeValue(c)+g.effectiveTypeValue(b);return g.isDouble(c)||g.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:e}:
g.isFloat(c)||g.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:e}:g.isDecimal(c)||g.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};g.runSubFunction=function(c,b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();var e=g.effectiveTypeValue(c)-g.effectiveTypeValue(b);return g.isDouble(c)||g.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",
value:e}:g.isFloat(c)||g.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",value:e}:g.isDecimal(c)||g.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};g.runMultiplication=function(c,b,e,m,i,h){c=g.runFilter(c,e,m,i,h);if(g.isEbvError(c))return c;var k=c;if(g.isNumeric(c)){for(var o=0;o<b.length;o++){var t=g.runFilter(b[o].expression,e,m,i,h);if(g.isEbvError(t))return c;
if(g.isNumeric(t))b[o].operator==="*"?k=g.runMulFunction(k,t):b[o].operator==="/"&&(k=g.runDivFunction(k,t));else return g.ebvFalse()}return k}else return g.ebvFalse()};g.runMulFunction=function(c,b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();var e=g.effectiveTypeValue(c)*g.effectiveTypeValue(b);return g.isDouble(c)||g.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:e}:g.isFloat(c)||g.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:e}:g.isDecimal(c)||g.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};g.runDivFunction=function(c,b){if(g.isEbvError(c)||g.isEbvError(b))return g.ebvError();var e=g.effectiveTypeValue(c)/g.effectiveTypeValue(b);return g.isDouble(c)||g.isDouble(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#double",value:e}:g.isFloat(c)||g.isFloat(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#float",
value:e}:g.isDecimal(c)||g.isDecimal(b)?{token:"literal",type:"http://www.w3.org/2001/XMLSchema#decimal",value:e}:{token:"literal",type:"http://www.w3.org/2001/XMLSchema#integer",value:e}};g.runBuiltInCall=function(c,b,e,m,i,h){if(c==="notexists"||c==="exists"){var k=JSON.parse(JSON.stringify(b[0])),k=m.abstractQueryTree.parseSelect({pattern:k},e),k=m.abstractQueryTree.bind(k.pattern,e),e=m.executeSelectUnit([{kind:"*"}],i,k,h);return c==="exists"?g.ebvBoolean(e.length!==0):g.ebvBoolean(e.length===
0)}else{for(var k=[],o=0;o<b.length;o++)if(b[o].token==="var")k.push(b[o]);else{var t=g.runFilter(b[o],e,m,i,h);if(g.isEbvError(t))return t;k.push(t)}if(c==="str")return k[0].token==="literal"?{token:"literal",type:null,value:""+k[0].value}:k[0].token==="uri"?{token:"literal",type:null,value:k[0].value}:g.ebvFalse();else if(c==="lang")return k[0].token==="literal"?k[0].lang!=null?{token:"literal",value:""+k[0].lang}:{token:"literal",value:""}:g.ebvError();else if(c==="datatype")return k[0].token===
"literal"?(c=k[0],c.type!=null?typeof c.type==="string"?{token:"uri",value:c.type,prefix:null,suffix:null}:c.type:c.lang==null?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:g.ebvError()):g.ebvError();else if(c==="isliteral")return k[0].token==="literal"?g.ebvTrue():g.ebvFalse();else if(c==="isblank")return k[0].token==="blank"?g.ebvTrue():g.ebvFalse();else if(c==="isuri"||c==="isiri")return k[0].token==="uri"?g.ebvTrue():g.ebvFalse();else if(c==="sameterm")return c=
g.RDFTermEquality(k[0],k[1],m,h),g.isEbvError(c)&&(c=!1),g.ebvBoolean(c);else if(c==="langmatches")return c=k[0],e=k[1],c.token==="literal"&&e.token==="literal"?e.value==="*"&&c.value!=""?g.ebvTrue():g.ebvBoolean(c.value.toLowerCase().indexOf(e.value.toLowerCase())===0):g.ebvError();else if(c==="bound")return c=k[0].value,c==null?g.ebvError():e[c]!=null?g.ebvTrue():g.ebvFalse();else throw"Builtin call "+c+" not implemented yet";}};g.runUnaryExpression=function(c,b,e,m,i,h){b=g.runFilter(b,e,m,i,h);
if(g.isEbvError(b))return b;if(c==="!"){var k=g.ebv(b);return g.isEbvError(k)?g.ebvFalse():g.ebvBoolean(!k)}else if(c==="+")return g.isNumeric(b)?b:g.ebvError();else if(c==="-")if(g.isNumeric(b)){c={};for(k in b)c[k]=b[k];c.value=-c.value;return c}else return g.ebvError()};g.runRegex=function(c,b,e,m,i,h,k){if(c!=null)c=g.runFilter(c,m,i,h,k);else return g.ebvError();if(b!=null)b=g.runFilter(b,m,i,h,k);else return g.ebvError();e!=null&&(e=g.runFilter(e,m,i,h,k));if(b!=null&&b.token==="literal"&&(e==
null||e.token==="literal"))b=b.value,e=e==null?null:e.value;else return g.ebvError();if(c!=null&&c.token=="var")if(m[c.value]!=null)c=m[c.value];else return g.ebvError();else if(c!=null&&c.token==="literal")if(c.type==null||g.isXsdType("string",c))c=c.value;else return g.ebvError();else return g.ebvError();return(e==null?RegExp(b):RegExp(b,e.toLowerCase())).exec(c)?g.ebvTrue():g.ebvFalse()};g.normalizeLiteralDatatype=function(c,b,e){if(!(c.value.type==null||typeof c.value.type!="object"))c.value.type=
z.lexicalFormBaseUri(c.value.type,e);return c};g.runIriRefOrFunction=function(c,b,e,m,i,h){if(b==null)return c;else{for(var k=[],o=0;o<b.length;o++)k.push(g.runFilter(b[o],e,m,i,h));c=z.lexicalFormBaseUri(c,h);if(c=="http://www.w3.org/2001/XMLSchema#integer"||c=="http://www.w3.org/2001/XMLSchema#decimal"||c=="http://www.w3.org/2001/XMLSchema#double"||c=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||c=="http://www.w3.org/2001/XMLSchema#negativeInteger"||c=="http://www.w3.org/2001/XMLSchema#long"||
c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#short"||c=="http://www.w3.org/2001/XMLSchema#byte"||c=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||c=="http://www.w3.org/2001/XMLSchema#unsignedLong"||c=="http://www.w3.org/2001/XMLSchema#unsignedInt"||c=="http://www.w3.org/2001/XMLSchema#unsignedShort"||c=="http://www.w3.org/2001/XMLSchema#unsignedByte"||c=="http://www.w3.org/2001/XMLSchema#positiveInteger")if(k=k[0],k.token==="literal")if(k=g.normalizeLiteralDatatype(k,
m,h),k.type=="http://www.w3.org/2001/XMLSchema#integer"||k.type=="http://www.w3.org/2001/XMLSchema#decimal"||k.type=="http://www.w3.org/2001/XMLSchema#double"||k.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||k.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||k.type=="http://www.w3.org/2001/XMLSchema#long"||k.type=="http://www.w3.org/2001/XMLSchema#int"||k.type=="http://www.w3.org/2001/XMLSchema#short"||k.type=="http://www.w3.org/2001/XMLSchema#byte"||k.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||
k.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||k.type=="http://www.w3.org/2001/XMLSchema#positiveInteger")return k.type=c,k;else if(k.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(k)==!0?(k.type=c,k.value=1):(k.type=c,k.value=0),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#float"||k.type=="http://www.w3.org/2001/XMLSchema#double")return k.type=
c,k.value=parseInt(k.value),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string"||k.type==null){if(k.value.split(".").length>2)return g.ebvError();else if(k.value.split("-").length>2)return g.ebvError();else if(k.value.split("/").length>2)return g.ebvError();else if(k.value.split("+").length>2)return g.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#decimal"&&(k.value.indexOf("e")!=-1||k.value.indexOf("E")!=-1))return g.ebvError();if(c=="http://www.w3.org/2001/XMLSchema#int"||c=="http://www.w3.org/2001/XMLSchema#integer")if(k.value.indexOf("e")!=
-1||k.value.indexOf("E")!=-1||k.value.indexOf(".")!=-1)return g.ebvError();try{return k.value=parseInt(parseFloat(k.value)),isNaN(k.value)?g.ebvError():(k.type=c,k)}catch(t){return g.ebvError()}}else return g.ebvError();else return g.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#boolean")return k=k[0],k.token==="literal"&&k.type==null?k.value==="true"||k.value==="1"?g.ebvTrue():k.value==="false"||k.value==="0"?g.ebvFalse():g.ebvError():k.token==="literal"?g.isEbvError(k)?k:g.ebvBoolean(k):
g.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#string")if(k=k[0],k.token==="literal")if(k=g.normalizeLiteralDatatype(k,m,h),k.type=="http://www.w3.org/2001/XMLSchema#integer"||k.type=="http://www.w3.org/2001/XMLSchema#decimal"||k.type=="http://www.w3.org/2001/XMLSchema#double"||k.type=="http://www.w3.org/2001/XMLSchema#nonPositiveInteger"||k.type=="http://www.w3.org/2001/XMLSchema#negativeInteger"||k.type=="http://www.w3.org/2001/XMLSchema#long"||k.type=="http://www.w3.org/2001/XMLSchema#int"||
k.type=="http://www.w3.org/2001/XMLSchema#short"||k.type=="http://www.w3.org/2001/XMLSchema#byte"||k.type=="http://www.w3.org/2001/XMLSchema#nonNegativeInteger"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedLong"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedInt"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedShort"||k.type=="http://www.w3.org/2001/XMLSchema#unsignedByte"||k.type=="http://www.w3.org/2001/XMLSchema#positiveInteger"||k.type=="http://www.w3.org/2001/XMLSchema#float")return k.type=
c,k.value=""+k.value,k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string")return k;else if(k.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(k)?(k.type=c,k.value="true"):(k.type=c,k.value="false"),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#dateTime"||k.type=="http://www.w3.org/2001/XMLSchema#date"){k.type=c;if(typeof k.value!="string")k.value=z.iso8601(k.value);return k}else return k.type==null?(k.value=""+k.value,k.type=c,k):g.ebvError();else return k.token==="uri"?
{token:"literal",value:z.lexicalFormBaseUri(k,h),type:c,lang:null}:g.ebvError();else if(c=="http://www.w3.org/2001/XMLSchema#dateTime"||c=="http://www.w3.org/2001/XMLSchema#date")if(k=k[0],k.type=="http://www.w3.org/2001/XMLSchema#dateTime"||k.type=="http://www.w3.org/2001/XMLSchema#date")return k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string"||k.type==null)try{return k.value=z.iso8601(z.parseStrictISO8601(k.value)),k.type=c,k}catch(w){return g.ebvError()}else return g.ebvError();else if(c==
"http://www.w3.org/2001/XMLSchema#float")if(k=k[0],k.token==="literal")if(k=g.normalizeLiteralDatatype(k,m,h),k.type=="http://www.w3.org/2001/XMLSchema#decimal"||k.type=="http://www.w3.org/2001/XMLSchema#int")return k.type=c,k.value=parseFloat(k.value),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#boolean")return g.ebv(k)==!0?(k.type=c,k.value=1):(k.type=c,k.value=0),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#float"||k.type=="http://www.w3.org/2001/XMLSchema#double")return k.type=c,
k.value=parseFloat(k.value),k;else if(k.type=="http://www.w3.org/2001/XMLSchema#string")try{return k.value=parseFloat(k.value),isNaN(k.value)?g.ebvError():(k.type=c,k)}catch(s){return g.ebvError()}else if(k.type==null){if(k.value.split(".").length>2)return g.ebvError();else if(k.value.split("-").length>2)return g.ebvError();else if(k.value.split("/").length>2)return g.ebvError();else if(k.value.split("+").length>2)return g.ebvError();try{return k.value=parseFloat(k.value),isNaN(k.value)?g.ebvError():
(k.type=c,k)}catch(y){return g.ebvError()}}else return g.ebvError();else return g.ebvError();else return g.ebvError()}};var C={orderJoins:function(c){return c},variablesInBGP:function(c){var b=c.variables;if(b)return b;var e=c.value||c,b=[];for(comp in e)e[comp]&&e[comp].token==="var"?b.push(e[comp].value):e[comp]&&e[comp].token==="blank"&&b.push("blank:"+e[comp].label);return c.variables=b},variablesIntersectionBGP:function(c,b){for(var e=C.variablesInBGP(c).sort(),g=C.variablesInBGP(b).sort(),i=
0,h=0,k=[];i<e.length&&h<g.length;)e[i]===g[h]?(k.push(e[i]),i++,h++):e[i]<g[h]?i++:h++;return k}};C.executeAndBGPs=function(c,b,e,g){c=z.partition(c,2);return C.buildBushyJoinTreeBase(c,b,e,g)};C.buildBushyJoinTreeBase=function(c,b,e,g){for(var i=[],h=0;h<c.length;h++){var k=c[h];results=C.executeAndBGP(k[0],k[1],b,e,g);if(results!=null)i.push(results);else return null}return C.buildBushyJoinTreeBranches(i)};C.buildBushyJoinTreeBranches=function(c){if(c.length===1)return c[0];else{for(var c=z.partition(c,
2),b=[],e=0;e<c.length;e++){var g=c[e],g=C.executeAndBindings(g[0],g[1]);b.push(g)}return C.buildBushyJoinTreeBranches(b)}};C.executeAndBindings=function(c,b){return c==null?b:b==null?c:c==[]||b==[]?[]:C.variablesIntersectionBindings(c[0],b[0]).length==0?C.crossProductBindings(c,b):C.joinBindings(c,b)};C.executeAndBGP=function(c,b,e,g,i){if(c==null)return C.executeEmptyJoinBGP(b,e,g,i);else if(b==null)return C.executeEmptyJoinBGP(c,e,g,i);else{var h=C.variablesIntersectionBGP(c,b);return h.length===
0?C.executeCrossProductBGP(h,c,b,e,g,i):C.executeJoinBGP(h,c,b,e,g,i)}};C.executeEmptyJoinBGP=function(c,b,e,g){return C.executeBGPDatasets(c,b,e,g)};C.executeJoinBGP=function(c,b,e,g,i,h){c=C.executeBGPDatasets(b,g,i,h);return c!=null?(e=C.executeBGPDatasets(e,g,i,h),e!=null?C.joinBindings(c,e):null):null};C.executeBGPDatasets=function(c,b,e,g){var i={};if(c.graph==null){for(var h=[],k=0;k<b["default"].length;k++)if(i[b["default"][k].oid]==null){i[b["default"][k].oid]=!0;c.graph=b["default"][k];
var o=e.rangeQuery(c,g),o=C.buildBindingsFromRange(o,c);h.push(o)}return c=C.unionManyBindings(h)}else if(c.graph.token==="var"){for(var t=c.graph.value,h=[],k=0;k<b.named.length;k++)if(i[b.named[k].oid]==null)if(i[b.named[k].oid]=!0,c.graph=b.named[k],o=e.rangeQuery(c,g),o!=null){for(var o=C.buildBindingsFromRange(o,c),w=0;w<o.length;w++)o[w][t]=b.named[k].oid;h.push(o)}else return null;return c=C.unionManyBindings(h||[])}else return o=e.rangeQuery(c,g),o!=null?o=C.buildBindingsFromRange(o,c):null};
C.executeCrossProductBGP=function(c,b,e,g,i,h){c=C.executeBGPDatasets(b,g,i,h);return c!=null?(e=C.executeBGPDatasets(e,g,i,h),e!=null?C.crossProductBindings(c,e):null):null};C.buildBindingsFromRange=function(c,b){C.variablesInBGP(b);var e={},g=b.value||b,e={};for(o in g)g[o]&&g[o].token==="var"?e[o]=g[o].value:g[o]&&g[o].token==="blank"&&(e[o]="blank:"+g[o].label);g=[];if(c!=null)for(var i=0;i<c.length;i++){var h={},k=c[i],o;for(o in e)h[e[o]]=k[o];g.push(h)}return g};C.variablesIntersectionBindings=
function(c,b){var e=0,g=0,i=[],h=[],k;for(k in c)i.push(k);for(k in b)h.push(k);i.sort();h.sort();for(k=[];e<i.length&&g<h.length;)i[e]===h[g]?(k.push(i[e]),e++,g++):i[e]<h[g]?e++:g++;return k};C.areCompatibleBindings=function(c,b){for(var e in c)if(b[e]!=null&&b[e]!=c[e])return!1;return!0};C.mergeBindings=function(c,b){var e={},g;for(g in c)e[g]=c[g];for(g in b)e[g]=b[g];return e};C.joinBindings=function(c,b){for(var e=[],g=0;g<c.length;g++)for(var i=c[g],h=0;h<b.length;h++){var k=b[h];C.areCompatibleBindings(i,
k)&&e.push(C.mergeBindings(i,k))}return e};C.augmentMissingBindings=function(c,b){for(var e in b)c[e]==null&&(c[e]=null);return c};C.leftOuterJoinBindings=function(c,b){for(var e=[],g=0;g<c.length;g++){for(var i=c[g],h=!1,k=0;k<b.length;k++){var o=b[k];C.areCompatibleBindings(i,o)&&(h=!0,e.push(C.mergeBindings(i,o)))}h===!1&&(C.augmentMissingBindings(i,o),e.push(i))}return e};C.crossProductBindings=function(c,b){for(var e=[],g=0;g<c.length;g++)for(var i=c[g],h=0;h<b.length;h++)e.push(C.mergeBindings(i,
b[h]));return e};C.unionBindings=function(c,b){return c.concat(b)};C.unionManyBindings=function(c){for(var b=[],e=0;e<c.length;e++)b=C.unionBindings(b,c[e]);return b};var I={QueryEngine:function(c){if(arguments.length!=0)this.backend=c.backend,this.lexicon=c.lexicon,this.eventsOnBatchLoad=c.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new R.AbstractQueryTree,this.rdfLoader=new aa.RDFLoader(c.communication),this.callbacksBackend=new E.CallbacksBackend(this)}};I.QueryEngine.prototype.registerNsInEnvironment=
function(c,b){var e=c.prefixes,g={},i;for(i in this.defaultPrefixes)g[i]=this.defaultPrefixes[i];for(i=0;i<e.length;i++){var h=e[i];if(h.token==="prefix")g[h.prefix]=h.local}b.namespaces=g;b.base=c.base&&typeof c.base==="object"?c.base.value:null};I.QueryEngine.prototype.applyModifier=function(c,b){if(c=="DISTINCT"){for(var e={},g=[],i=0;i<b.length;i++){var h=b[i],k="",o;for(o in h){var t=h[o];t==null?k=k+o+"null":t.token=="literal"?(t.value!=null&&(k+=t.value),t.lang!=null&&(k+=t.lang),t.type!=null&&
(k+=t.type)):k=t.value?k+o+t.value:k+o+t}e[k]==null&&(g.push(h),e[k]=!0)}return g}else return b};I.QueryEngine.prototype.applyLimitOffset=function(c,b,e){if(b==null&&c==null)return e;c==null&&(c=0);b=b==null?e.length:c+b;return e.slice(c,b)};I.QueryEngine.prototype.applySingleOrderBy=function(c,b,e,m){for(var i=[],h=0;h<c.length;h++){var k=g.collect(c[h].expression,[b],e,m,this);i.push(k[0].value)}return{binding:b,value:i}};I.QueryEngine.prototype.applyOrderBy=function(c,b,e,g){var i=this,h=[];if(c!=
null&&c.length>0){for(var k=0;k<b.length;k++){var o=i.applySingleOrderBy(c,b[k],e,g);h.push(o)}h.sort(function(b,e){return i.compareFilteredBindings(b,e,c,g)});b=[];for(k=0;k<h.length;k++)b.push(h[k].binding)}return b};I.QueryEngine.prototype.compareFilteredBindings=function(c,b,e,m){for(var i=0;;){if(i==c.value.length)return 0;var h=e[i].direction;if(c.value[i]==null&&b.value[i]==null)i++;else{if(c.value[i]==null)c={value:!1};else if(b.value[i]==null)c={value:!0};else if(c.value[i].token==="blank"&&
b.value[i].token==="blank"){i++;continue}else if(c.value[i].token==="blank")c={value:!1};else if(b.value[i].token==="blank")c={value:!0};else if(c.value[i].token==="uri"&&b.value[i].token==="uri")if(g.runEqualityFunction(c.value[i],b.value[i],[],this,m).value==!0){i++;continue}else c=g.runTotalGtFunction(c.value[i],b.value[i],[]);else if(c.value[i].token==="uri")c={value:!1};else if(b.value[i].token==="uri")c={value:!0};else if(c.value[i].token==="literal"&&b.value[i].token==="literal"&&c.value[i].type==
null&&b.value[i].type==null)if(g.runEqualityFunction(c.value[i],b.value[i],[],this,m).value==!0){i++;continue}else c=g.runTotalGtFunction(c.value[i],b.value[i],[]);else if(c.value[i].token==="literal"&&c.value[i].type==null)c={value:!1};else if(b.value[i].token==="literal"&&b.value[i].type==null)c={value:!0};else if(g.runEqualityFunction(c.value[i],b.value[i],[],this,m).value==!0){i++;continue}else c=g.runTotalGtFunction(c.value[i],b.value[i],[]);return c.value==!0?h==="ASC"?1:-1:h==="ASC"?-1:1}}};
I.QueryEngine.prototype.removeDefaultGraphBindings=function(c,b){for(var e=[],g={},i=0;i<b.named.length;i++)g[b.named[i].oid]=!0;for(i=0;i<b["default"].length;i++)g[b["default"][i].oid]==null&&e.push(b["default"][i].oid);e=[];for(i=0;i<c.length;i++){var h=c[i],k=!1,o;for(o in h){for(var t=0;t<g.length;t++)if(h[o]===g[t]){k=!0;break}if(k)break}k||e.push(h)}return e};I.QueryEngine.prototype.aggregateBindings=function(c,b,e,m){for(var b=this.copyDenormalizedBindings(b,m.outCache),i={},h=0;h<c.length;h++){var k=
g.runAggregator(c[h],b,this,e,m);c[h].alias?i[c[h].alias.value]=k:i[c[h].value.value]=k}return i};I.QueryEngine.prototype.projectBindings=function(c,b,e){if(c[0].kind==="*")return b;else{for(var m=[],i=0;i<b.length;i++){for(var h=b[i],k={},o=!0,t=0;t<c.length;t++)if(c[t].token=="variable"&&c[t].kind!="aliased")k[c[t].value.value]=h[c[t].value.value];else if(c[t].token=="variable"&&c[t].kind=="aliased"){var w=g.runFilter(c[t].expression,h,this,e,{blanks:{},outCache:{}});if(g.isEbvError(w)){o=!1;break}else k[c[t].alias.value]=
w}o===!0&&m.push(k)}return m}};I.QueryEngine.prototype.resolveNsInEnvironment=function(c,b){return b.namespaces[c]};I.QueryEngine.prototype.normalizeTerm=function(c,b,e){if(c.token==="uri")return b=z.lexicalFormBaseUri(c,b),b==null?null:e?this.lexicon.registerUri(b):this.lexicon.resolveUri(b);else if(c.token==="literal")return b=z.lexicalFormLiteral(c,b),c=e?this.lexicon.registerLiteral(b):this.lexicon.resolveLiteral(b);else if(c.token==="blank"){var g=c.label,c=b.blanks[g];c==null&&(c=e?this.lexicon.registerBlank(g):
this.lexicon.resolveBlank(g),b.blanks[g]=c);return c}else return c.token==="var"?c.value:null};I.QueryEngine.prototype.normalizeDatasets=function(c,b){for(var e=0;e<c.length;e++){var g=c[e];if(g.value===this.lexicon.defaultGraphUri)g.oid=this.lexicon.defaultGraphOid;else{var i=this.normalizeTerm(g,b,!1);if(i!=null)g.oid=i;else return null}}return!0};I.QueryEngine.prototype.normalizeQuad=function(c,b,e){var g=null,i=null,h=g=null,k;if(c.graph==null)h=0;else if(k=this.normalizeTerm(c.graph,b,e),k!=
null)h=k,e===!0&&c.graph.token!="var"&&this.lexicon.registerGraph(k);else return null;k=this.normalizeTerm(c.subject,b,e);if(k!=null)g=k;else return null;k=this.normalizeTerm(c.predicate,b,e);if(k!=null)i=k;else return null;k=this.normalizeTerm(c.object,b,e);return k==null?null:{subject:g,predicate:i,object:k,graph:h}};I.QueryEngine.prototype.denormalizeBindingsList=function(c,b){for(var e=[],g=0;g<c.length;g++)result=this.denormalizeBindings(c[g],b),e.push(result);return e};I.QueryEngine.prototype.copyDenormalizedBindings=
function(c,b){for(var e=[],g=0;g<c.length;g++){for(var i={},h=c[g],k=z.keys(h),o=0;o<k.length;o++){var t=h[k[o]];if(t==null)i[k[o]]=null;else if(typeof t==="object")i[k[o]]=t;else{var w=b[t];w==null&&(w=this.lexicon.retrieve(t),b[t]=w);i[k[o]]=w}}e.push(i)}return e};I.QueryEngine.prototype.denormalizeBindings=function(c,b){for(var e=z.keys(c),g=0;g<e.length;g++){var i=c[e[g]];i==null?c[e[g]]=null:b[i]!=null?c[e[g]]=b[i]:(i=this.lexicon.retrieve(i),c[e[g]]=i)}return c};I.QueryEngine.prototype.execute=
function(c,b,e,g){c=z.normalizeUnicodeLiterals(c);c=this.abstractQueryTree.parseQueryString(c);if(c==null)b(!1,"Error parsing query string");else if(c.token==="query"&&c.kind=="update"){this.callbacksBackend.startGraphModification();var i=this;this.executeUpdate(c,function(c,e){c?i.callbacksBackend.endGraphModification(function(){b(c,e)}):(i.callbacksBackend.cancelGraphModification(),b(c,e))})}else c.token==="query"&&c.kind=="query"&&this.executeQuery(c,b,e,g)};I.QueryEngine.prototype.executeQuery=
function(c,b,e,g){var i=c.units,h=this,k={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,k);var o=h.abstractQueryTree.parseExecutableUnit(i[0]);if(o.kind==="select")this.executeSelect(o,k,e,g,function(c,e){c?typeof e==="object"&&e.denorm===!0?b(!0,e.bindings):(e=h.denormalizeBindingsList(e,k.outCache),e!=null?b(!0,e):b(!1,e)):b(!1,e)});else if(o.kind==="ask")o.projection=[{token:"variable",kind:"*"}],this.executeSelect(o,k,e,g,function(c,e){c?c?e.length>0?b(!0,!0):b(!0,!1):b(!1,e):
b(!1,e)});else if(o.kind==="construct")o.projection=[{token:"variable",kind:"*"}],h=this,this.executeSelect(o,k,e,g,function(c,e){if(c)if(c)if(e=h.denormalizeBindingsList(e,k.outCache),e!=null){var g=new y.Graph;if(o.template==null)o.template={triplesContext:o.pattern};for(var i=1,m=0;m<e.length;m++)for(var z=e[m],C={},E=0;E<o.template.triplesContext.length;E++){for(var G=["subject","predicate","object"],I=o.template.triplesContext[E],J=0;J<G.length;J++){var K=G[J];if(I[K].token==="blank")if(C[I[K].value]!=
null)I[K].value=C[I[K].value];else{var L="_:b"+i;i++;C[I[K].value]=L;I[K].value=L}}G=y.buildRDFResource(I.subject,z,h,k);J=y.buildRDFResource(I.predicate,z,h,k);I=y.buildRDFResource(I.object,z,h,k);G!=null&&J!=null&&I!=null&&(J=new y.Triple(G,J,I),g.add(J))}b(!0,g)}else b(!1,e);else b(!1,e);else b(!1,e)})};I.QueryEngine.prototype.executeSelect=function(c,b,e,g,i){if(c.kind==="select"||c.kind==="ask"||c.kind==="construct"||c.kind==="modify"){var h=c.projection,k=c.dataset,o=c.modifier,t=c.limit,w=
c.offset,s=c.order;if(e!=null||g!=null)k["default"]=e||[],k.named=g||[];k["default"]!=null&&k["default"].length===0&&k.named!=null&&k.named.length===0&&k["default"].push(this.lexicon.defaultGraphUriTerm);if(this.normalizeDatasets(k["default"].concat(k.named),b)!=null)if(g=this.executeSelectUnit(h,k,c.pattern,b),g!=null){if(c.group!=null&&c.group===""){for(var y=!1,e=0;e<c.projection.length;e++)if(c.projection[e].expression!=null&&c.projection[e].expression.expressionType==="aggregate"){y=!0;break}if(y===
!0)c.group="singleGroup"}if(c.group&&c.group!="")if(this.checkGroupSemantics(c.group,h)){o=this.groupSolution(g,c.group,k,b);t=[];for(e=0;e<o.length;e++)w=this.aggregateBindings(h,o[e],k,b),t.push(w);i(!0,{bindings:t,denorm:!0})}else i(!1,"Incompatible Group and Projection variables");else b=this.applyOrderBy(s,g,k,b),h=this.projectBindings(h,b,k),modifiedBindings=this.applyModifier(o,h),filteredBindings=this.removeDefaultGraphBindings(this.applyLimitOffset(w,t,modifiedBindings),k),i(!0,filteredBindings)}else console.log("ERROR selectUnit"),
i(!1,g);else console.log("ERROR normalizing"),i(!1,results)}else i(!1,"Cannot execute "+c.kind+" query as a select query")};I.QueryEngine.prototype.groupSolution=function(c,b,e,m){var i=[],h=[],k=!1;if(b==="singleGroup")return[c];else{for(var o=0;o<c.length;o++){for(var t=c[o],w=!0,s=0;s<b.length;s++){var y=b[s],z=null;if(y.token==="var")z=y.value,k==!1&&i.push(z);else if(y.token==="aliased_expression")if(z=y.alias.value,k==!1&&i.push(z),y.expression.primaryexpression==="var")t[y.alias.value]=t[y.expression.value.value];
else if(z=this.copyDenormalizedBindings([t],m.outCache),z=g.runFilter(y.expression,z[0],this,e,m),g.isEbvError(z))w=!1;else{if(z.value!=null)z.value=""+z.value;t[y.alias.value]=z}else z=this.copyDenormalizedBindings([t],m.outCache),z=g.runFilter(y,z[0],this,m),g.isEbvError(z)?w=!1:(t["groupCondition"+env._i]=z,z="groupCondition"+env._i,k==!1&&i.push(z))}k==!1&&(k=!0);w===!0&&h.push(t)}c={};for(o=0;o<h.length;o++){b=h[o];e="";for(s=0;s<i.length;s++)m=b[i[s]],e+=typeof m==="object"?m.value:m;c[e]==
null?c[e]=[b]:c[e].push(b)}var i=[],C;for(C in c)i.push(c[C]);return i}};I.QueryEngine.prototype.executeSelectUnit=function(c,b,e,m){return e.kind==="BGP"?this.executeAndBGP(c,b,e,m):e.kind==="UNION"?this.executeUNION(c,b,e.value,m):e.kind==="JOIN"?this.executeJOIN(c,b,e,m):e.kind==="LEFT_JOIN"?this.executeLEFT_JOIN(c,b,e,m):e.kind==="FILTER"?(c=this.executeSelectUnit(c,b,e.value,m),c!=null?c=g.checkFilters(e,c,!1,b,m,this):[]):e.kind==="EMPTY_PATTERN"?[]:(console.log("Cannot execute query pattern "+
e.kind+". Not implemented yet."),null)};I.QueryEngine.prototype.executeUNION=function(c,b,e,m){var i=e[0],h=e[1],k=null,o=null;if(e.length!=2)throw"SPARQL algebra UNION with more than two components";k=this.executeSelectUnit(c,b,i,m);if(k==null)return null;o=this.executeSelectUnit(c,b,h,m);if(o==null)return null;c=C.unionBindings(k,o);return c=g.checkFilters(e,c,!1,b,m,this)};I.QueryEngine.prototype.executeAndBGP=function(c,b,e,m){c=C.executeAndBGPs(e.value,b,this,m);return c!=null?g.checkFilters(e,
c,!1,b,m,this):null};I.QueryEngine.prototype.executeLEFT_JOIN=function(c,b,e,m){var i=e.rvalue,h=null,k=null,h=this.executeSelectUnit(c,b,e.lvalue,m);if(h==null)return null;k=this.executeSelectUnit(c,b,i,m);if(k==null)return null;c=C.leftOuterJoinBindings(h,k);b=g.checkFilters(e,c,!0,b,m,this);if(h.length>1&&k.length>1){var e=[],m={},o;for(o in h[0])m[o]=!0;for(o in k[0])m[o]!=!0&&e.push(o);acum=[];duplicates={};for(h=0;h<b.length;h++)if(b[h].__nullify__===!0){for(m=0;m<e.length;m++)b[h].bindings[e[m]]=
null;m=[];k=[];for(o in b[h].bindings)b[h].bindings[o]!=null&&(m.push(o+b[h].bindings[o]),m.sort(),k.push(m.join("")));if(duplicates[m.join("")]==null){for(m=0;m<k.length;m++)duplicates[k[m]]=!0;acum.push(b[h].bindings)}}else for(o in acum.push(b[h]),m=[],b[h])m.push(o+b[h][o]),m.sort(),duplicates[m.join("")]=!0;return acum}else return b};I.QueryEngine.prototype.executeJOIN=function(c,b,e,m){var i=e.rvalue,h=null,k=null,h=this.executeSelectUnit(c,b,e.lvalue,m);if(h==null)return null;k=this.executeSelectUnit(c,
b,i,m);if(k==null)return null;c=C.joinBindings(h,k);return c=g.checkFilters(e,c,!1,b,m,this)};I.QueryEngine.prototype.rangeQuery=function(c,b){var e=this.normalizeQuad(c,b,!1);return e!=null?(e=this.backend.range(new Q.Pattern(e)),e==null||e.length==0?[]:e):(console.log("ERROR normalizing quad"),null)};I.QueryEngine.prototype.executeUpdate=function(c,b){var e=c.units,g=this,i={blanks:{},outCache:{}};this.registerNsInEnvironment(c.prologue,i);for(var h=0;h<e.length;h++){var k=g.abstractQueryTree.parseExecutableUnit(e[h]);
if(k.kind==="insertdata"){for(var o=0;o<k.quads.length;o++){var t=k.quads[o];if(g._executeQuadInsert(t,i)!==!0)return b(!1,error)}b(!0)}else if(k.kind==="deletedata"){for(o=0;o<k.quads.length;o++)t=k.quads[o],this._executeQuadDelete(t,i);b(!0)}else if(k.kind==="modify")this._executeModifyQuery(k,i,b);else if(k.kind==="create")b(!0);else if(k.kind==="load")o={uri:z.lexicalFormBaseUri(k.sourceGraph,i)},k.destinyGraph!=null&&(o={uri:z.lexicalFormBaseUri(k.destinyGraph,i)}),g=this,this.rdfLoader.load(k.sourceGraph.value,
o,function(c,e){c==!1?(console.log("Error loading graph"),console.log(e),b(!1,"error batch loading quads")):(e=g.batchLoad(e),b(e!=null,e||"error batch loading quads"))});else if(k.kind==="drop")this._executeClearGraph(k.destinyGraph,i,b);else if(k.kind==="clear")this._executeClearGraph(k.destinyGraph,i,b);else throw Error("not supported execution unit");}};I.QueryEngine.prototype.batchLoad=function(c,b){var e=null,g=null,i=null,h=null,k=0,o=!0,t={},w,s;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();
for(var y=0;y<c.length;y++)if(s=c[y],s.subject.uri||s.subject.token==="uri"?w=this.lexicon.registerUri(s.subject.uri||s.subject.value):s.subject.literal||s.subject.token==="literal"?w=this.lexicon.registerLiteral(s.subject.literal||s.subject.value):(w=t[s.subject.blank||s.subject.value],w==null&&(w=this.lexicon.registerBlank(s.subject.blank||s.subject.value),t[s.subject.blank||s.subject.value]=w)),e=w,s.predicate.uri||s.predicate.token==="uri"?w=this.lexicon.registerUri(s.predicate.uri||s.predicate.value):
s.predicate.literal||s.predicate.token==="literal"?w=this.lexicon.registerLiteral(s.predicate.literal||s.predicate.value):(w=t[s.predicate.blank||s.predicate.value],w==null&&(w=this.lexicon.registerBlank(s.predicate.blank||s.predicate.value),t[s.predicate.blank||s.predicate.value]=w)),g=w,s.object.uri||s.object.token==="uri"?w=this.lexicon.registerUri(s.object.uri||s.object.value):s.object.literal||s.object.token==="literal"?w=this.lexicon.registerLiteral(s.object.literal||s.object.value):(w=t[s.object.blank||
s.object.value],w==null&&(w=this.lexicon.registerBlank(s.object.blank||s.object.value),t[s.object.blank||s.object.value]=w)),i=w,s.graph.uri||s.graph.token==="uri"?(w=this.lexicon.registerUri(s.graph.uri||s.graph.value),this.lexicon.registerGraph(w)):s.graph.literal||s.graph.token==="literal"?w=this.lexicon.registerLiteral(s.graph.literal||s.graph.value):(w=t[s.graph.blank||s.graph.value],w==null&&(w=this.lexicon.registerBlank(s.graph.blank||s.graph.value),t[s.graph.blank||s.graph.value]=w)),h=w,
w=s,s={subject:e,predicate:g,object:i,graph:h},e=new Q.NodeKey(s),g=this.backend.search(e),!g)if(g=this.backend.index(e),g==!0)this.eventsOnBatchLoad&&this.callbacksBackend.nextGraphModification(E.added,[w,s]),k+=1;else{o=!1;break}var z=function(){o?b&&b(!0,k):b&&b(!1,null)};this.eventsOnBatchLoad?this.callbacksBackend.endGraphModification(function(){z()}):z();return o?k:null};I.QueryEngine.prototype._executeModifyQuery=function(c,b,e){var g=this,i=!0,h=null,k=["subject","predicate","object","graph"];
c.insert=c.insert==null?[]:c.insert;c["delete"]=c["delete"]==null?[]:c["delete"];z.seq(function(e){var k=[],w=[];c["with"]!=null&&k.push(c["with"]);if(c.using!=null)for(var w=[],s=0;s<c.using.length;s++){var y=c.using[s];y.kind==="named"?w.push(y.uri):k.push(y.uri)}c.dataset={};c.projection=[{token:"variable",kind:"*"}];g.executeSelect(c,b,k,w,function(c,k){c?(k=g.denormalizeBindingsList(k,b.outCache),k!=null?h=k:i=!1):i=!1;return e()})},function(e){var t=c["with"];if(i){for(var w=[],s=0;s<c["delete"].length;s++)for(var y=
c["delete"][s],z=0;z<h.length;z++){for(var C={},E=h[z],G=0;G<k.length;G++){var I=k[G];I=="graph"&&y[I]==null?C.graph=t:C[I]=y[I].token==="var"?E[y[I].value]:y[I]}w.push(C)}for(z=0;z<w.length;z++)C=w[z],g._executeQuadDelete(C,b)}e()},function(e){var t=c["with"];if(i){for(var w=[],s=0;s<c.insert.length;s++)for(var y=c.insert[s],z=0;z<h.length;z++){for(var C={},E=h[z],G=0;G<k.length;G++){var I=k[G];I=="graph"&&y[I]==null?C.graph=t:C[I]=y[I].token==="var"?E[y[I].value]:y[I]}w.push(C)}for(s=0;s<w.length;s++)C=
w[s],g._executeQuadInsert(C,b)}e()})(function(){e(i)})};I.QueryEngine.prototype._executeQuadInsert=function(c,b){var e=this.normalizeQuad(c,b,!0);if(e!=null){var g=new Q.NodeKey(e),i=this.backend.search(g);return i?i:(i=this.backend.index(g),i==!0?(this.callbacksBackend.nextGraphModification(E.added,[c,e]),!0):(console.log("ERROR inserting quad"),!1))}else return console.log("ERROR normalizing quad"),!1};I.QueryEngine.prototype._executeQuadDelete=function(c,b){var e=this.normalizeQuad(c,b,!1);if(e!=
null){var g=new Q.NodeKey(e);this.backend["delete"](g);return this.lexicon.unregister(c,g)==!0?(this.callbacksBackend.nextGraphModification(E.deleted,[c,e]),!0):(console.log("ERROR unregistering quad"),!1)}else return console.log("ERROR normalizing quad"),!1};I.QueryEngine.prototype._executeClearGraph=function(c,b,e){if(c==="default")this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",e);else if(c==="named"){var g=this,i=this.lexicon.registeredGraphs(!0);if(i!=null){var h=!1;z.repeat(0,i.length,
function(b,c){var e=i[c._i],w=arguments.callee;h?b(w,c):g.execute("DELETE { GRAPH <"+e+"> { ?s ?p ?o } } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",function(e){h=!e;b(w,c)})},function(){e(!h)})}else e(!1,"Error deleting named graphs")}else c==="all"?(g=this,this.execute("CLEAR DEFAULT",function(b,c){b?g.execute("CLEAR NAMED",e):e(!1,c)})):c.token=="uri"?(c=z.lexicalFormBaseUri(c,b),c!=null?this.execute("DELETE { GRAPH <"+c+"> { ?s ?p ?o } } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",e):e(!1,"wrong graph URI")):
e(!1,"wrong graph URI")};I.QueryEngine.prototype.checkGroupSemantics=function(c,b){if(c==="singleGroup")return!0;for(var e={},g=0;g<c.length;g++){var i=c[g];i.token==="var"?e[i.value]=!0:i.token==="aliased_expression"&&(e[i.alias.value]=!0)}for(g=0;g<b.length;g++)if(i=b[g],i.kind==="var"){if(e[i.value.value]==null)return!1}else if(i.kind==="aliased"&&i.expression&&i.expression.primaryexpression==="var"&&e[i.expression.value.value]==null)return!1;return!0};I.QueryEngine.prototype.registerDefaultNamespace=
function(c,b){this.defaultPrefixes[c]=b};var E={ANYTHING:{token:"var",value:"_"},added:"added",deleted:"deleted",eventsFlushed:"eventsFlushed",CallbacksBackend:function(c){this.aqt=new R.AbstractQueryTree;this.engine=c;this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate",
"object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(c=0;c<this.indices.length;c++){var b=this.indices[c];this.indexMap[b]={};this.queriesIndexMap[b]=
{}}}};E.CallbacksBackend.prototype.startGraphModification=function(){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null)this.updateInProgress={added:[],deleted:[]}};E.CallbacksBackend.prototype.nextGraphModification=function(c,b){this.updateInProgress[c].push(b)};E.CallbacksBackend.prototype.endGraphModification=function(c){var b=this;if(this.updateInProgress!=null){var e=b.updateInProgress;b.updateInProgress=null;this.sendNotification(E.deleted,
e[E.deleted],function(){b.sendNotification(E.added,e[E.added],function(){b.sendEmptyNotification(E.eventsFlushed,null,function(){b.dispatchQueries(function(){c(!0)})})})})}else c(!0)};E.CallbacksBackend.prototype.cancelGraphModification=function(){this.updateInProgress=null};E.CallbacksBackend.prototype.sendNotification=function(c,b,e){for(var g={},i=0;i<b.length;i++){var h=b[i],k;for(k in this.indexMap){var o=this.indexMap[k],t=this.componentOrders[k];this._searchCallbacksInIndex(o,t,c,h,g);this.pendingQueries.length!=
0&&(o=this.queriesIndexMap[k],this._searchQueriesInIndex(o,t,h))}}this.dispatchNotifications(g);e!=null&&e(!0)};E.CallbacksBackend.prototype.sendEmptyNotification=function(c,b,e){for(var g=this.emptyNotificationsMap[c]||[],i=0;i<g.length;i++)g[i](c,b);e()};E.CallbacksBackend.prototype.dispatchNotifications=function(c){for(var b in c){var e=this.callbacksMap[b],g=c[b][E.deleted];g!=null&&e(E.deleted,g);for(var i in c[b])i!=E.deleted&&e(i,c[b][i])}};E.CallbacksBackend.prototype._searchCallbacksInIndex=
function(c,b,e,g,i){for(var h=g[1],g=g[0],k=0;k<b.length+1;k++){for(var o=c._||[],t=[],w=0;w<o.length;w++){var s=o[w];this.callbacksMap[s]!=null&&(i[s]=i[s]||{},i[s][e]=i[s][e]||[],i[s][e].push(g),t.push(s))}c._=t;o=b[k];if(c[""+h[o]]!=null)c=c[""+h[o]];else break}};E.CallbacksBackend.prototype.subscribeEmpty=function(c,b){var e=this.emptyNotificationsMap[c]||[];e.push(b);this.emptyNotificationsMap[c]=e};E.CallbacksBackend.prototype.unsubscribeEmpty=function(c,b){var e=this.emptyNotificationsMap[c];
e!=null&&(e=z.remove(e,b));this.emptyNotificationsMap[c]=e};E.CallbacksBackend.prototype.subscribe=function(c,b,e,g,i,h){c=this.engine.normalizeQuad(this._tokenizeComponents(c,b,e,g),{blanks:{},outCache:{}},!0);e=this._indexForPattern(new Q.Pattern(c));b=this.componentOrders[e];e=this.indexMap[e];for(g=0;g<b.length;g++){var k=c[b[g]];if(k==="_"){e._==null&&(e._=[]);this.callbackCounter++;e._.push(this.callbackCounter);this.callbacksMap[this.callbackCounter]=i;this.callbacksInverseMap[i]=this.callbackCounter;
break}else g===b.length-1?(e[k]=e[k]||{_:[]},this.callbackCounter++,e[k]._.push(this.callbackCounter),this.callbacksMap[this.callbackCounter]=i,this.callbacksInverseMap[i]=this.callbackCounter):(e[k]=e[k]||{},e=e[k])}h!=null&&h(!0)};E.CallbacksBackend.prototype.unsubscribe=function(c){var b=this.callbacksInverseMap[c];b!=null&&(delete this.callbacksInverseMap[c],delete this.callbacksMap[b])};E.CallbacksBackend.prototype._tokenizeComponents=function(c,b,e,g){var i={};i.subject=c==null?E.ANYTHING:c.indexOf("_:")==
0?{token:"blank",value:c}:{token:"uri",value:c};i.predicate=b==null?E.ANYTHING:{token:"uri",value:b};i.object=e==null?E.ANYTHING:{token:"uri",value:e};i.graph=g==null?E.ANYTHING:{token:"uri",value:g};return i};E.CallbacksBackend.prototype._indexForPattern=function(c){for(var c=c.indexKey,b=this.indices,e=0;e<b.length;e++)for(var g=b[e],i=this.componentOrders[g],h=0;h<i.length;h++){if(z.include(c,i[h])===!1)break;if(h==c.length-1)return g}return"SPOG"};E.CallbacksBackend.prototype.observeNode=function(){var c,
b,e,g;arguments.length===4?(c=arguments[0],b=arguments[1],e=arguments[2],g=arguments[3]):(c=arguments[0],b=this.engine.lexicon.defaultGraphUri,e=arguments[1],g=arguments[2]);var i=this,h={blanks:{},outCache:{}},k=[];this.engine.execute("CONSTRUCT { <"+c+"> ?p ?o } WHERE { GRAPH <"+b+"> { <"+c+"> ?p ?o } }",function(b,t){if(b){var w=!1,s=function(b,c){if(b==="eventsFlushed"&&w)w=!1,e(t);else if(b!=="eventsFlushed"){w=!0;for(var g=0;g<c.length;g++){var m=c[g],o=y.buildRDFResource(m.subject,k,i.engine,
h),s=y.buildRDFResource(m.predicate,k,i.engine,h),m=y.buildRDFResource(m.object,k,i.engine,h);o!=null&&s!=null&&m!=null&&(m=new y.Triple(o,s,m),b===E.added?t.add(m):b===E.deleted&&t.remove(m))}}};i.observersMap[e]=s;i.subscribeEmpty(E.eventsFlushed,s);i.subscribe(c,null,null,null,s,function(){e(t);g&&g(!0)})}else g&&g(!1)})};E.CallbacksBackend.prototype.stopObservingNode=function(c){return(c=this.observersMap[c])?(this.unsubscribe(c),this.unsubscribeEmpty(E.eventsFlushed,c),!0):!1};E.CallbacksBackend.prototype.observeQuery=
function(c,b,e){var g=this.aqt.collectBasicTriples(this.aqt.parseSelect(this.aqt.parseQueryString(c).units[0])),i={blanks:{},outCache:{}},h,k,o,t=this.queryCounter;this.queryCounter++;this.queriesMap[t]=c;this.queriesInverseMap[c]=t;this.queriesList.push(t);this.queriesCallbacksMap[t]=b;for(var w=0;w<g.length;w++){k=g[w];if(k.graph==null)k.graph=this.engine.lexicon.defaultGraphUriTerm;k=this.engine.normalizeQuad(k,i,!0);h=new Q.Pattern(k);o=this._indexForPattern(h);h=this.componentOrders[o];o=this.queriesIndexMap[o];
for(var s=0;s<h.length;s++){var y=k[h[s]];if(typeof y==="string"){o._==null&&(o._=[]);o._.push(t);break}else s===h.length-1?(o[y]=o[y]||{_:[]},o[y]._.push(t)):(o[y]=o[y]||{},o=o[y])}}this.engine.execute(c,function(c,e){c?b(e):console.log("ERROR in query callback "+e)});e!=null&&e()};E.CallbacksBackend.prototype.stopObservingQuery=function(c){var b=this.queriesInverseMap[c];if(b!=null)delete this.queriesInverseMap[c],delete this.queriesMap[b],this.queriesList=z.remove(this.queriesList,b)};E.CallbacksBackend.prototype._searchQueriesInIndex=
function(c,b,e){for(var e=e[1],g=0;g<b.length+1;g++){for(var i=c._||[],h=[],k=0;k<i.length;k++){var o=i[k];z.include(this.pendingQueries,o)&&(z.remove(this.pendingQueries,o),this.matchedQueries.push(o));this.queriesMap[o]!=null&&h.push(o)}c._=h;i=b[g];if(c[""+e[i]]!=null)c=c[""+e[i]];else break}};E.CallbacksBackend.prototype.dispatchQueries=function(c){var b=this,e,g,i,h;z.repeat(0,this.matchedQueries.length,function(c,o){e=arguments.callee;i=b.matchedQueries[o._i];g=b.queriesMap[i];h=b.queriesCallbacksMap[i];
z.recur(function(){b.engine.execute(g,function(b,g){b?h(g):console.log("ERROR executing query callback "+g);c(e,o)})})},function(){c()})};var K={};try{console.log("*** Checking if web workers are available"),typeof Worker=="undefined"&&(Worker=null),console.log("*** Web workers available")}catch(zc){Worker=null}if(Worker)K.RDFStoreClient=function(c,b,e){console.log("trying to load "+c);this.connection=Worker.Worker?new Worker.Worker(c):new Worker(c);this.callbacksCounter=1;var g=this;this.rdf=y.rdf;
console.log("The worker");console.log(this.connection);g=this;this.connection.onmessage=function(b){g.receive(b)};this.observingCallbacks={};this.callbacks={0:{cb:function(b,c){b===!0?e(!0,g):e(!1,c)},fn:"create"}};this.connection.postMessage({fn:"create",args:b,callback:"0"})},K.RDFStoreClient.prototype.receive=function(c){event=c.data||c;if(event.fn==="workerRequest:NetworkTransport:load"){var b=this,e=event.callback,c=event.arguments.concat(function(c,g){b.connection.postMessage({fn:"workerRequestResponse",
results:[c,g],callback:e})});U.load.apply(U,c)}else if(c=this.callbacks[event.callback])c.fn==="create"||c.fn==="execute"||c.fn==="insert"||c.fn=="graph"||c.fn==="node"||c.fn==="insert"||c.fn==="delete"||c.fn==="clear"||c.fn==="load"||c.fn==="startObservingQueryEndCb"||c.fn==="registeredGraphs"?(delete this.callbacks[event.callback],c.cb(event.success,event.result)):c.fn==="startObservingQuery"?c.cb(event.result):c.fn==="startObservingNode"?c.cb(event.result):c.fn==="subscribe"&&c.cb(event.event,
event.result)},K.RDFStoreClient.prototype.registerCallback=function(c,b){var e=""+this.callbacksCounter;this.callbacks[e]={fn:c,cb:b};this.callbacksCounter++;return e},K.RDFStoreClient.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===
2&&(c=arguments[0],b=arguments[1]);b=this.registerCallback("execute",b);this.connection.postMessage({fn:"execute",args:[c],callback:b})}},K.RDFStoreClient.prototype.insert=function(){var c,b,e;if(arguments.length===1)b=arguments[0],this.connection.postMessage({fn:"insert",args:[b]});else if(arguments.length===2)b=arguments[0],e=arguments[1]||function(){},e=this.registerCallback("insert",e),this.connection.postMessage({fn:"insert",args:[b],callback:e});else if(arguments.length===3)b=arguments[0],c=
arguments[1],e=arguments[2]||function(){},e=this.registerCallback("insert",e),this.connection.postMessage({fn:"insert",args:[b,c],callback:e});else throw"The triples to insert, an optional graph and callback must be provided";},K.RDFStoreClient.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=arguments[0]||function(){};else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";var e=this,
g=this.registerCallback("insert",function(c,h){if(c){for(var g,m=0;m<h.triples.length;m++)g=h.triples[m],h.triples[m]=new y.Triple(e.adaptJSInterface(g.subject),e.adaptJSInterface(g.predicate),e.adaptJSInterface(g.object));b(c,e.rdf.createGraph(h.triples))}else b(c,h)});c==null?this.connection.postMessage({fn:"graph",args:[],callback:g}):this.connection.postMessage({fn:"graph",args:[c],callback:g})},K.RDFStoreClient.prototype.node=function(){var c=null,b=null,e=null;if(arguments.length===2)e=arguments[0],
b=arguments[1]||function(){};else if(arguments.length===3)e=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";var g=this,i=this.registerCallback("insert",function(c,e){if(c){for(var i,t=0;t<e.triples.length;t++)i=e.triples[t],e.triples[t]=new y.Triple(g.adaptJSInterface(i.subject),g.adaptJSInterface(i.predicate),g.adaptJSInterface(i.object));b(c,g.rdf.createGraph(e.triples))}else b(c,e)});c==null?this.connection.postMessage({fn:"node",
args:[e],callback:i}):this.connection.postMessage({fn:"node",args:[e,c],callback:i})},K.RDFStoreClient.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,b);this.connection.postMessage({fn:"rdf/setPrefix",args:[c,b],callback:null})},K.RDFStoreClient.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c);this.connection.postMessage({fn:"rdf/setDefaultPrefix",args:[c],callback:null})},K.RDFStoreClient.prototype["delete"]=function(){var c,b,e;if(arguments.length===1)b=arguments[0],this.connection.postMessage({fn:"delete",
args:[b]});else if(arguments.length===2)b=arguments[0],e=arguments[1]||function(){},e=this.registerCallback("delete",e),this.connection.postMessage({fn:"delete",args:[b],callback:e});else if(arguments.length===3)b=arguments[0],c=arguments[1],e=arguments[2]||function(){},e=this.registerCallback("delete",e),this.connection.postMessage({fn:"delete",args:[b,c],callback:e});else throw"The triples to delete, an optional graph and callback must be provided";},K.RDFStoreClient.prototype.clear=function(){var c,
b;if(arguments.length===1)b=arguments[0]||function(){},b=this.registerCallback("clear",b),this.connection.postMessage({fn:"clear",args:[],callback:b});else if(arguments.length===2)c=arguments[0],b=arguments[1]||function(){},b=this.registerCallback("clear",b),this.connection.postMessage({fn:"clear",args:[c],callback:b});else throw"The optional graph and a callback must be provided";},K.RDFStoreClient.prototype.setBatchLoadEvents=function(c){this.connection.postMessage({fn:"setBatchLoadEvents",args:[c]})},
K.RDFStoreClient.prototype.registerDefaultNamespace=function(c,b){this.connection.postMessage({fn:"registerDefaultNamespace",args:[c,b]})},K.RDFStoreClient.prototype.registerDefaultProfileNamespaces=function(){this.connection.postMessage({fn:"registerDefaultProfileNamespaces",args:[]})},K.RDFStoreClient.prototype.load=function(){var c,b,e,g;if(arguments.length===3)c=arguments[0],b=arguments[1],g=arguments[2]||function(){},g=this.registerCallback("load",g),this.connection.postMessage({fn:"load",args:[c,
b],callback:g});else if(arguments.length===4)c=arguments[0],b=arguments[1],e=arguments[2],g=arguments[3]||function(){},g=this.registerCallback("load",g),this.connection.postMessage({fn:"load",args:[c,b,e],callback:g});else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";},K.RDFStoreClient.prototype.startObservingQuery=function(c,b,e){e!=null?(b=this.registerCallback("startObservingQuery",b),this.observingCallbacks[c]=b,e=this.registerCallback("startObservingQueryEndCb",
e),this.connection.postMessage({fn:"startObservingQuery",args:[c],callback:[b,e]})):(b=this.registerCallback("startObservingQuery",b),this.observingCallbacks[c]=b,this.connection.postMessage({fn:"startObservingQuery",args:[c],callback:[b]}))},K.RDFStoreClient.prototype.stopObservingQuery=function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];delete this.callbacks[b];this.connection.postMessage({fn:"stopObservingQuery",args:[c],callback:[]})},K.RDFStoreClient.prototype.startObservingNode=
function(){var c,b,e;if(arguments.length===2){c=arguments[0];e=arguments[1];var g=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new y.Triple(g.adaptJSInterface(c.subject),g.adaptJSInterface(c.predicate),g.adaptJSInterface(c.object));e(g.rdf.createGraph(b.triples))});this.observingCallbacks[e]=i;this.connection.postMessage({fn:"startObservingNode",args:[c],callback:i})}else arguments.length===3&&(c=arguments[0],b=arguments[1],
e=arguments[2],g=this,i=this.registerCallback("startObservingNode",function(b){for(var c,i=0;i<b.triples.length;i++)c=b.triples[i],b.triples[i]=new y.Triple(g.adaptJSInterface(c.subject),g.adaptJSInterface(c.predicate),g.adaptJSInterface(c.object));e(g.rdf.createGraph(b.triples))}),this.observingCallbacks[e]=i,this.connection.postMessage({fn:"startObservingNode",args:[c,b],callback:i}))},K.RDFStoreClient.prototype.stopObservingNode=function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];
delete this.callbacks[b];this.connection.postMessage({fn:"stopObservingNode",args:[b],callback:[]})},K.RDFStoreClient.prototype.subscribe=function(c,b,e,g,i){var h=this,k=this.registerCallback("subscribe",function(b,c){for(var e,g=0;g<c.length;g++)e=c[g],c[g]=new y.Triple(h.adaptJSInterface(e.subject),h.adaptJSInterface(e.predicate),h.adaptJSInterface(e.object));i(b,c)});this.observingCallbacks[i]=k;this.connection.postMessage({fn:"subscribe",args:[c,b,e,g],callback:k})},K.RDFStoreClient.prototype.unsubscribe=
function(c){var b=this.observingCallbacks[c];delete this.observingCallbacks[c];delete this.callbacks[b];this.connection.postMessage({fn:"unsubscribe",args:[b],callback:[]})},K.RDFStoreClient.prototype.registeredGraphs=function(c){var b=this;this.connection.postMessage({fn:"registeredGraphs",args:[],callback:this.registerCallback("registeredGraphs",function(e,g){if(e)for(var i=0;i<g.length;i++)graph=g[i],g[i]=b.adaptJSInterface(graph);c(e,g)})})},K.RDFStoreClient.prototype.adaptJSInterface=function(c){if(c.interfaceName===
"BlankNode")return new y.BlankNode(c.bnodeId);else if(c.interfaceName==="Literal")return new y.Literal(c.nominalValue,c.language,c.datatype);else if(c.interfaceName==="NamedNode")return new y.NamedNode(c.nominalValue)},K.RDFStoreClient.prototype.isWebWorkerConnection=!0;var G={VERSION:"0.4.12"};G.connect=function(){var c,b,e;arguments.length==1&&(c=__dirname,b={},e=arguments[0]);arguments.length==2?(typeof arguments[0]==="string"?(c=arguments[0],b={}):(c=__dirname+"/index.js",b=arguments[0]),e=arguments[1]):
(c=arguments[0],b=arguments[1],e=arguments[2]);try{Worker?new K.RDFStoreClient(c,b,function(b,c){e(b,c)}):G.create(b,function(b){e(!1,b)})}catch(g){console.log(g),G.create(b,function(b){e(!1,b)})}};G.create=function(){return arguments.length==1?new G.Store(arguments[0]):arguments.length==2?new G.Store(arguments[0],arguments[1]):new G.Store};G.Store=function(c,b){var e=null,g=null;if(arguments.length==0)g={};else if(arguments.length==1)g={},e=c;else if(arguments.length>1)g=c,e=b;else throw"An optional argument map and a callback must be provided";
g.treeOrder==null&&(g.treeOrder=15);this.rdf=y.rdf;this.functionMap={};var i=this;new L.Lexicon(function(b){g.overwrite===!0&&b.clear();new $.QuadBackend(g,function(c){g.overwrite===!0&&c.clear();g.backend=c;g.lexicon=b;i.engine=new I.QueryEngine(g);e&&e(i)})},g.name)};G.Store.prototype.execute=function(){if(arguments.length===3)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);
else{var c,b;arguments.length===1?(c=arguments[0],b=function(){}):arguments.length===2&&(c=arguments[0],b=arguments[1]);this.engine.execute(c,b)}};G.Store.prototype.executeWithEnvironment=function(){var c,b,e,g;arguments.length===3?(c=arguments[0],b=function(){},e=arguments[1],g=arguments[2]):arguments.length===4&&(c=arguments[0],b=arguments[3],e=arguments[1],g=arguments[2]);this.engine.execute(c,b,e,g)};G.Store.prototype.graph=function(){var c=null,b=null;if(arguments.length===1)b=arguments[0]||
function(){},c=this.engine.lexicon.defaultGraphUri;else if(arguments.length===2)b=arguments[1]||function(){},c=arguments[0];else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+c+"> { ?s ?p ?o } }",b)};G.Store.prototype.node=function(){var c=null,b=null,e=null;if(arguments.length===2)e=arguments[0],b=arguments[1]||function(){},c=this.engine.lexicon.defaultGraphUri;
else if(arguments.length===3)e=arguments[0],c=arguments[1],b=arguments[2]||function(){};else throw"An optional graph URI and a callback function must be provided";this.rdf.resolve(c)!=null&&(c=this.rdf.resolve(c));this.rdf.resolve(e)!=null&&(e=this.rdf.resolve(e));this.engine.execute("CONSTRUCT { <"+e+"> ?p ?o } WHERE { GRAPH <"+c+"> { <"+e+"> ?p ?o } }",b)};G.Store.prototype.startObservingNode=function(){var c,b,e;arguments.length===2?(c=arguments[0],e=arguments[1],this.engine.callbacksBackend.observeNode(c,
e,function(){})):arguments.length===3&&(c=arguments[0],b=arguments[1],e=arguments[2],this.engine.callbacksBackend.observeNode(c,b,e,function(){}))};G.Store.prototype.stopObservingNode=function(c){this.engine.callbacksBackend.stopObservingNode(c)};G.Store.prototype.startObservingQuery=function(c,b,e){e!=null?this.engine.callbacksBackend.observeQuery(c,b,e):this.engine.callbacksBackend.observeQuery(c,b,function(){})};G.Store.prototype.stopObservingQuery=function(c){this.engine.callbacksBackend.stopObservingQuery(c)};
G.Store.prototype.subscribe=function(c,b,e,g,i){var h=function(b,c){for(var e=[],g={blanks:{},outCache:{}},h=[],m=0;m<c.length;m++){var z=c[m],C=y.buildRDFResource(z.subject,h,this.engine,g),E=y.buildRDFResource(z.predicate,h,this.engine,g),z=y.buildRDFResource(z.object,h,this.engine,g);C!=null&&E!=null&&z!=null&&(z=new y.Triple(C,E,z),e.push(z))}i(b,e)};this.functionMap[i]=h;this.engine.callbacksBackend.subscribe(c,b,e,g,h,function(){})};G.Store.prototype.unsubscribe=function(c){this.engine.callbacksBackend.unsubscribe(this.functionMap[c]);
delete this.functionMap[c]};G.Store.prototype.setPrefix=function(c,b){this.rdf.setPrefix(c,b)};G.Store.prototype.setDefaultPrefix=function(c){this.rdf.setDefaultPrefix(c)};G.Store.prototype.insert=function(){var c,b,e;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],e=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),e=arguments[2]||function(){};
else throw"The triples to insert, an optional graph and callback must be provided";var g="",i=this;b.forEach(function(b){g=g+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});g=c!=null?"INSERT DATA { GRAPH "+this._nodeToQuery(c)+" { "+g+" } }":"INSERT DATA { "+this._nodeToQuery(c)+" { "+g+" }";this.engine.execute(g,e)};G.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+
">"}else{if(c.interfaceName!=="")if(c.lang!=null)return'"'+c.valueOf()+'"@'+c.lang;else if(c.datatype!=null)return'"'+c.valueOf()+'"^^<'+c.datatype+">";return c.toString()}};G.Store.prototype["delete"]=function(){var c,b,e;if(arguments.length===1)b=arguments[0];else if(arguments.length===2)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0],e=arguments[1]||function(){};else if(arguments.length===3)b=arguments[0],c=this.rdf.createNamedNode(arguments[1]),e=arguments[2]||function(){};
else throw"The triples to delete, an optional graph and callback must be provided";var g="",i=this;b.forEach(function(b){g=g+i._nodeToQuery(b.subject)+i._nodeToQuery(b.predicate)+i._nodeToQuery(b.object)+"."});g=c!=null?"DELETE DATA { GRAPH "+this._nodeToQuery(c)+" { "+g+" } }":"DELETE DATA { "+this._nodeToQuery(c)+" { "+g+" }";this.engine.execute(g,e)};G.Store.prototype.clear=function(){var c,b;if(arguments.length===1)c=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),b=arguments[0]||
function(){};else if(arguments.length===2)c=this.rdf.createNamedNode(arguments[0]),b=arguments[1]||function(){};else throw"The optional graph and a callback must be provided";this.engine.execute("CLEAR GRAPH "+this._nodeToQuery(c),b)};G.Store.prototype.setBatchLoadEvents=function(c){this.engine.eventsOnBatchLoad=c};G.Store.prototype.registerDefaultNamespace=function(c,b){this.rdf.prefixes.set(c,b);this.engine.registerDefaultNamespace(c,b)};G.Store.prototype.registerDefaultProfileNamespaces=function(){var c=
this.rdf.prefixes.values(),b;for(b in c)this.registerDefaultNamespace(b,c[b])};G.Store.prototype.load=function(){var c,b,e,g;if(arguments.length===3)e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),c=arguments[0],b=arguments[1],g=arguments[2]||function(){};else if(arguments.length===4)c=arguments[0],b=arguments[1],e=this.rdf.createNamedNode(arguments[2]),g=arguments[3]||function(){};else if(arguments.length===2)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";
if(c==="remote")b=this.rdf.createNamedNode(b),this.engine.execute("LOAD <"+b.valueOf()+"> INTO GRAPH <"+e.valueOf()+">",g);else if(b&&typeof b==="string"&&b.indexOf("file://")===0){c=this.engine.rdfLoader.parsers[c];var i=this;this.engine.rdfLoader.loadFromFile(c,{token:"uri",value:e.valueOf()},b,function(b,c){b?i.engine.batchLoad(c,g):g(b,c)})}else c=this.engine.rdfLoader.parsers[c],i=this,this.engine.rdfLoader.tryToParse(c,{token:"uri",value:e.valueOf()},b,function(b,c){b?i.engine.batchLoad(c,g):
g(b,c)})};G.Store.prototype.registerParser=function(c,b){this.engine.rdfLoader.registerParser(c,b)};G.Store.prototype.registeredGraphs=function(c){for(var b=this.engine.lexicon.registeredGraphs(!0),e=[],g=0;g<b.length;g++){var i=new y.NamedNode(b[g]);e.push(i)}return c(!0,e)};G.Store.prototype._nodeToQuery=function(c){if(c.interfaceName==="NamedNode"){var b=this.rdf.resolve(c.valueOf());return b!=null?"<"+b+">":"<"+c.valueOf()+">"}else return c.toString()};G.Store.prototype.getNetworkTransport=function(){return U};
G.Store.prototype.setNetworkTransport=function(c){U=c};RDFStoreWorker={observingCallbacks:{},workerCallbacksCounter:0,workerCallbacks:{}};RDFStoreWorker.registerCallback=function(c){var b=""+RDFStoreWorker.workerCallbacksCounter;RDFStoreWorker.workerCallbacksCounter++;RDFStoreWorker.workerCallbacks[b]=c;return b};RDFStoreWorker.handleCreate=function(c,b){typeof U!="undefined"&&U!=null&&(U={load:function(b,c,g){var h=RDFStoreWorker.registerCallback(function(b){g.apply(g,b)});postMessage({fn:"workerRequest:NetworkTransport:load",
callback:h,arguments:[b,c]})},loadFromFile:function(){}});args=[c];args.push(function(c){RDFStoreWorker.store=c;postMessage({callback:b,result:"created",success:!0})});G.create.apply(G,args)};RDFStoreWorker.receive=function(c){var b=c.data||c;if(b.fn==="workerRequestResponse"){var e=b.callback,g=RDFStoreWorker.workerCallbacks[e];g!=null&&(delete RDFStoreWorker.workerCallbacks[e],g(b.results))}else if(b.fn==="create"&&b.args!=null)RDFStoreWorker.handleCreate(b.args,b.callback);else if(b.fn==="setBatchLoadEvents")RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,
b.args);else if(b.fn==="registerDefaultNamespace")RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args);else if(b.fn==="registerDefaultProfileNamespaces")RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args);else if((b.fn==="execute"||b.fn==="executeWithEnvironment"||b.fn==="graph"||b.fn==="node"||b.fn==="clear"||b.fn==="load")&&b.args!=null){b.args.push(function(c,e){b.callback!=null&&postMessage({callback:b.callback,result:e,success:c})});try{RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,
b.args)}catch(i){console.log("Error executing method through connection"),console.log(i)}}else if((b.fn==="insert"||b.fn==="delete")&&b.args!=null)try{b.args.push(function(c,e){b.callback!=null&&postMessage({callback:b.callback,result:e,success:c})});g=b.args[0];for(c=0;c<g.triples.length;c++)e=g.triples[c],g.triples[c]=new y.Triple(RDFStoreWorker.adaptJSInterface(e.subject),RDFStoreWorker.adaptJSInterface(e.predicate),RDFStoreWorker.adaptJSInterface(e.object));b.args[1].interfaceName!=null&&(b.args[1]=
RDFStoreWorker.adaptJSInterface(b.args[1]));b.args[0]=RDFStoreWorker.store.rdf.createGraph(g.triples);RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)}catch(h){console.log("Error executing method through connection"),console.log(h)}else b.fn==="rdf/setPrefix"&&b.args!=null?RDFStoreWorker.store.rdf.setPrefix(b.args[0],b.args[1]):b.fn==="rdf/setDefaultPrefix"&&b.args!=null?RDFStoreWorker.store.rdf.setDefaultPrefix(b.args[0]):b.fn==="startObservingQuery"&&b.args!=null?(e=function(c,e){postMessage({callback:b.callback[0],
result:e,success:c})},RDFStoreWorker.observingCallbacks[b.args[0]]=e,b.args.push(e),b.args.push(function(c,e){b.callback&&b.callback[1]!=null&&postMessage({callback:b.callback[1],result:e,success:c})}),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingQuery"?((e=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[e]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="startObservingNode"&&b.args!=null?(e=
function(c){postMessage({callback:b.callback,result:c})},RDFStoreWorker.observingCallbacks[b.callback]=e,b.args.push(e),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingNode"&&b.args!=null?((e=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[e]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="subscribe"&&b.args!=null?(e=function(c,e){postMessage({callback:b.callback,event:c,result:e})},RDFStoreWorker.observingCallbacks[b.callback]=
e,b.args.push(e),RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,b.args)):b.fn==="stopObservingNode"&&b.args!=null?((e=RDFStoreWorker.observingCallbacks[b.args[0]])&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[e]),delete RDFStoreWorker.observingCallbacks[b.args[0]]):b.fn==="registeredGraphs"&&b.args!=null&&RDFStoreWorker.store[b.fn].apply(RDFStoreWorker.store,[function(c,e){b.callback!=null&&postMessage({callback:b.callback,result:e,success:c})}])};RDFStoreWorker.adaptJSInterface=
function(c){if(c.interfaceName==="BlankNode")return new y.BlankNode(c.bnodeId);else if(c.interfaceName==="Literal")return new y.Literal(c.nominalValue,c.language,c.datatype);else if(c.interfaceName==="NamedNode")return new y.NamedNode(c.nominalValue)};onmessage=RDFStoreWorker.receive;try{window.rdfstore=G}catch(Ac){}})();
